!function(t,e){for(var n in e)t[n]=e[n]}(this,function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=201)}([function(t,e,n){var r=n(1),i=n(24).f,o=n(27),s=n(17),a=n(121),c=n(94),u=n(78);t.exports=function(t,e){var n,l,h,f,d,p=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[p]||a(p,{}):(r[p]||{}).prototype)for(l in e){if(f=e[l],h=t.noTargetGet?(d=i(n,l))&&d.value:n[l],!u(g?l:p+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(n,l,f,t)}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(117))},function(t,e){var n=Function.prototype,r=n.bind,i=n.call,o=r&&r.bind(i);t.exports=r?function(t){return t&&o(i,t)}:function(t){return t&&function(){return i.apply(t,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return T})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return u})),n.d(e,"l",(function(){return h})),n.d(e,"m",(function(){return g})),n.d(e,"n",(function(){return p}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],o=e+1<t.length,s=o?t[e+1]:0,a=e+2<t.length,c=a?t[e+2]:0,u=i>>2,l=(3&i)<<4|s>>4;let h=(15&s)<<2|c>>6,f=63&c;a||(f=64,o||(h=64)),r.push(n[u],n[l],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],o=e<t.length?n[t.charAt(e)]:0;++e;const s=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==o||null==s||null==a)throw Error();const c=i<<2|o>>4;if(r.push(c),64!==s){const t=o<<4&240|s>>2;if(r.push(t),64!==a){const t=s<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){return function(t){const e=r(t);return i.encodeByteArray(e,!0)}(t).replace(/\./g,"")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function l(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return c().indexOf("Electron/")>=0}function d(){const t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p(){return c().indexOf("MSAppHost/")>=0}function g(){return!function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m(){return"object"==typeof indexedDB}class v extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?function(t,e){return t.replace(b,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new v(r,s,n)}}const b=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(E(n)&&E(o)){if(!w(n,o))return!1}else if(n!==o)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function E(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function T(t){return t&&t._delegate?t._delegate:t}}).call(this,n(117))},function(t,e,n){var r=n(1),i=n(7),o=r.String,s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not an object")}},function(t,e,n){var r=n(3);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(9);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(1),i=n(90),o=n(14),s=n(66),a=n(119),c=n(150),u=i("wks"),l=r.Symbol,h=l&&l.for,f=c?l:l&&l.withoutSetter||s;t.exports=function(t){if(!o(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&o(l,t)?u[t]=l[t]:u[t]=c&&h?h(e):f(e)}return u[t]}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){var r=n(1),i=n(56),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},function(t,e,n){"use strict";var r,i,o,s=n(135),a=n(6),c=n(1),u=n(9),l=n(7),h=n(14),f=n(56),d=n(75),p=n(27),g=n(17),m=n(12).f,v=n(31),y=n(40),b=n(43),w=n(8),E=n(66),T=c.Int8Array,S=T&&T.prototype,x=c.Uint8ClampedArray,A=x&&x.prototype,I=T&&y(T),k=S&&y(S),C=Object.prototype,R=c.TypeError,O=w("toStringTag"),_=E("TYPED_ARRAY_TAG"),N=E("TYPED_ARRAY_CONSTRUCTOR"),D=s&&!!b&&"Opera"!==f(c.opera),M=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},j=function(t){if(!l(t))return!1;var e=f(t);return h(L,e)||h(P,e)};for(r in L)(o=(i=c[r])&&i.prototype)?p(o,N,i):D=!1;for(r in P)(o=(i=c[r])&&i.prototype)&&p(o,N,i);if((!D||!u(I)||I===Function.prototype)&&(I=function(){throw R("Incorrect invocation")},D))for(r in L)c[r]&&b(c[r],I);if((!D||!k||k===C)&&(k=I.prototype,D))for(r in L)c[r]&&b(c[r].prototype,k);if(D&&y(A)!==k&&b(A,k),a&&!h(k,O))for(r in M=!0,m(k,O,{get:function(){return l(this)?this[_]:void 0}}),L)c[r]&&p(c[r],_,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_CONSTRUCTOR:N,TYPED_ARRAY_TAG:M&&_,aTypedArray:function(t){if(j(t))return t;throw R("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!b||v(I,t)))return t;throw R(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(a){if(n)for(var i in L){var o=c[i];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(t){}}k[t]&&!n||g(k,t,n?e:D&&S[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(a){if(b){if(n)for(r in L)if((i=c[r])&&h(i,t))try{delete i[t]}catch(t){}if(I[t]&&!n)return;try{return g(I,t,n?e:D&&I[t]||e)}catch(t){}}for(r in L)!(i=c[r])||i[t]&&!n||g(i,t,e)}},isView:function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||h(L,e)||h(P,e)},isTypedArray:j,TypedArray:I,TypedArrayPrototype:k}},function(t,e,n){var r=n(1),i=n(6),o=n(152),s=n(5),a=n(53),c=r.TypeError,u=Object.defineProperty;e.f=i?u:function(t,e,n){if(s(t),e=a(e),s(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,e,n){var r=n(2),i=n(15),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},function(t,e,n){var r=n(1),i=n(19),o=r.Object;t.exports=function(t){return o(i(t))}},function(t,e,n){var r=n(32);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(1),i=n(9),o=n(14),s=n(27),a=n(121),c=n(92),u=n(20),l=n(67).CONFIGURABLE,h=u.get,f=u.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var u,h=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,g=!!c&&!!c.noTargetGet,m=c&&void 0!==c.name?c.name:e;i(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==m)&&s(n,"name",m),(u=f(n)).source||(u.source=d.join("string"==typeof m?m:""))),t!==r?(h?!g&&t[e]&&(p=!0):delete t[e],p?t[e]=n:s(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||c(this)}))},function(t,e,n){var r=n(1),i=n(9),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},function(t,e,n){var r=n(1).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r,i,o,s=n(153),a=n(1),c=n(2),u=n(7),l=n(27),h=n(14),f=n(120),d=n(93),p=n(76),g=a.TypeError,m=a.WeakMap;if(s||f.state){var v=f.state||(f.state=new m),y=c(v.get),b=c(v.has),w=c(v.set);r=function(t,e){if(b(v,t))throw new g("Object already initialized");return e.facade=t,w(v,t,e),e},i=function(t){return y(v,t)||{}},o=function(t){return b(v,t)}}else{var E=d("state");p[E]=!0,r=function(t,e){if(h(t,E))throw new g("Object already initialized");return e.facade=t,l(t,E,e),e},i=function(t){return h(t,E)?t[E]:{}},o=function(t){return h(t,E)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?r:n)(e)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(42),i=n(2),o=n(74),s=n(15),a=n(16),c=n(81),u=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,h=6==t,f=7==t,d=5==t||h;return function(p,g,m,v){for(var y,b,w=s(p),E=o(w),T=r(g,m),S=a(E),x=0,A=v||c,I=e?A(p,S):n||f?A(p,0):void 0;S>x;x++)if((d||x in E)&&(b=T(y=E[x],x,w),t))if(e)I[x]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:u(I,y)}else switch(t){case 4:return!1;case 7:u(I,y)}return h?-1:i||l?l:I}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(t,e,n){var r=n(6),i=n(13),o=n(89),s=n(38),a=n(28),c=n(53),u=n(14),l=n(152),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return s(!i(o.f,t,e),t[e])}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return or})),n.d(e,"b",(function(){return ar})),n.d(e,"c",(function(){return sr})),n.d(e,"d",(function(){return ur})),n.d(e,"e",(function(){return cr})),n.d(e,"f",(function(){return lr})),n.d(e,"g",(function(){return hr})),n.d(e,"h",(function(){return rr})),n.d(e,"i",(function(){return ir}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o={},s=s||{},a=i||self;function c(){}function u(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var h="closure_uid_"+(1e9*Math.random()>>>0),f=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function p(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:p).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function v(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function y(){this.s=this.s,this.o=this.o}var b={};y.prototype.s=!1,y.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,h)&&t[h]||(t[h]=++f)}(this);delete b[t]}},y.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function S(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var A,I=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function C(t,e){return t<e?-1:t>e?1:0}t:{var R=a.navigator;if(R){var O=R.userAgent;if(O){A=O;break t}}A=""}function _(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function N(t){const e={};for(const n in t)e[n]=t[n];return e}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e],r)t[n]=r[n];for(let e=0;e<D.length;e++)n=D[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=c;var P,j,F=k(A,"Opera"),U=k(A,"Trident")||k(A,"MSIE"),V=k(A,"Edge"),B=V||U,q=k(A,"Gecko")&&!(k(A.toLowerCase(),"webkit")&&!k(A,"Edge"))&&!(k(A,"Trident")||k(A,"MSIE"))&&!k(A,"Edge"),H=k(A.toLowerCase(),"webkit")&&!k(A,"Edge");function z(){var t=a.document;return t?t.documentMode:void 0}t:{var G="",W=(j=A,q?/rv:([^\);]+)(\)|;)/.exec(j):V?/Edge\/([\d\.]+)/.exec(j):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):H?/WebKit\/(\S+)/.exec(j):F?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(W&&(G=W?W[1]:""),U){var $=z();if(null!=$&&$>parseFloat(G)){P=String($);break t}}P=G}var K,Y={};function X(){return function(t){var e=Y;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=I(String(P)).split("."),n=I("9").split("."),r=Math.max(e.length,n.length);for(let s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=C(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||C(0==i[2].length,0==o[2].length)||C(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t}))}if(a.document&&U){var Q=z();K=Q||(parseInt(P,10)||void 0)}else K=void 0;var J=K,Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function et(t,e){if(tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(q){t:{try{L(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:nt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&et.Z.h.call(this)}}tt.prototype.h=function(){this.defaultPrevented=!0},v(et,tt);var nt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),it=0;function ot(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++it,this.ca=this.fa=!1}function st(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function at(t){this.src=t,this.g={},this.h=0}function ct(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=w(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(st(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ut(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}at.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=ut(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new ot(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var lt="closure_lm_"+(1e6*Math.random()|0),ht={};function ft(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=bt(r),e&&e[rt]?e.O(n,r,l(i)?!!i.capture:!!i,o):dt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ft(t,e[o],n,r,i);return null}return n=bt(n),t&&t[rt]?t.N(e,n,l(r)?!!r.capture:!!r,i):dt(t,e,n,!1,r,i)}function dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=l(i)?!!i.capture:!!i,a=vt(t);if(a||(t[lt]=a=new at(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=mt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Z||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[rt])ct(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vt(e))?(ct(n,t),0==n.h&&(n.src=null,e[lt]=null)):st(t)}}}function gt(t){return t in ht?ht[t]:ht[t]="on"+t}function mt(t,e){if(t.ca)t=!0;else{e=new et(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&pt(t),t=n.call(r,e)}return t}function vt(t){return(t=t[lt])instanceof at?t:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(t){return"function"==typeof t?t:(t[yt]||(t[yt]=function(e){return t.handleEvent(e)}),t[yt])}function wt(){y.call(this),this.i=new at(this),this.P=this,this.I=null}function Et(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new tt(e,t);else if(e instanceof tt)e.target=e.target||t;else{var i=e;M(e=new tt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Tt(s,r,!0,e)&&i}if(i=Tt(s=e.g=t,r,!0,e)&&i,i=Tt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Tt(s=e.g=n[o],r,!1,e)&&i}function Tt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&ct(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}v(wt,y),wt.prototype[rt]=!0,wt.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=l(i)?!!i.capture:!!i,r=bt(r),e&&e[rt]?(e=e.i,(n=String(n).toString())in e.g&&(-1<(r=ut(s=e.g[n],r,i,o))&&(st(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.g[n],e.h--)))):e&&(e=vt(e))&&(n=e.g[n.toString()],e=-1,n&&(e=ut(n,r,i,o)),(r=-1<e?n[e]:null)&&pt(r))}(this,t,e,n,r)},wt.prototype.M=function(){if(wt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)st(n[r]);delete e.g[t],e.h--}}this.I=null},wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var St=a.JSON.stringify;function xt(){var t=_t;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var At,It=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kt,t=>t.reset());class kt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ct(t){a.setTimeout(()=>{throw t},0)}function Rt(t,e){At||function(){var t=a.Promise.resolve(void 0);At=function(){t.then(Nt)}}(),Ot||(At(),Ot=!0),_t.add(t,e)}var Ot=!1,_t=new class{constructor(){this.h=this.g=null}add(t,e){const n=It.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Nt(){for(var t;t=xt();){try{t.h.call(t.g)}catch(t){Ct(t)}var e=It;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ot=!1}function Dt(t,e){wt.call(this),this.h=t||1,this.g=e||a,this.j=g(this.kb,this),this.l=Date.now()}function Mt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Lt(t,e,n){if("function"==typeof t)n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}v(Dt,wt),(r=Dt.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Et(this,"tick"),this.da&&(Mt(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Dt.Z.M.call(this),Mt(this),delete this.g};class Pt extends y{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:function t(e){e.g=Lt(()=>{e.g=null,e.i&&(e.i=!1,t(e))},e.j);const n=e.h;e.h=null,e.m.apply(null,n)}(this)}M(){super.M(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(t){y.call(this),this.h=t,this.g={}}v(jt,y);var Ft=[];function Ut(t,e,n,r){Array.isArray(n)||(n&&(Ft[0]=n.toString()),n=Ft);for(var i=0;i<n.length;i++){var o=ft(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Vt(t){_(t.g,(function(t,e){this.g.hasOwnProperty(e)&&pt(t)}),t),t.g={}}function Bt(){this.g=!0}function qt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return St(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}jt.prototype.M=function(){jt.Z.M.call(this),Vt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bt.prototype.Aa=function(){this.g=!1},Bt.prototype.info=function(){};var Ht={},zt=null;function Gt(){return zt=zt||new wt}function Wt(t){tt.call(this,Ht.Ma,t)}function $t(t){const e=Gt();Et(e,new Wt(e,t))}function Kt(t,e){tt.call(this,Ht.STAT_EVENT,t),this.stat=e}function Yt(t){const e=Gt();Et(e,new Kt(e,t))}function Xt(t,e){tt.call(this,Ht.Na,t),this.size=e}function Qt(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}Ht.Ma="serverreachability",v(Wt,tt),Ht.STAT_EVENT="statevent",v(Kt,tt),Ht.Na="timingevent",v(Xt,tt);var Jt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function te(){}function ee(t){return t.h||(t.h=t.i())}function ne(){}te.prototype.h=null;var re,ie={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oe(){tt.call(this,"d")}function se(){tt.call(this,"c")}function ae(){}function ce(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new jt(this),this.P=le,t=B?125:void 0,this.W=new Dt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}v(oe,tt),v(se,tt),v(ae,te),ae.prototype.g=function(){return new XMLHttpRequest},ae.prototype.i=function(){return{}},re=new ae;var le=45e3,he={},fe={};function de(t,e,n){t.K=1,t.v=Pe(Oe(e)),t.s=n,t.U=!0,pe(t,null)}function pe(t,e){t.F=Date.now(),ye(t),t.A=Oe(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Ye(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ue,t.g=Xn(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Pt(g(t.Ia,t,t.g),t.O)),Ut(t.V,t.g,"readystatechange",t.gb),e=t.H?N(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),$t(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function ge(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function me(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=ve(t,n),r==fe){4==e&&(t.o=4,Yt(14),i=!1),qt(t.j,t.m,null,"[Incomplete Response]");break}if(r==he){t.o=4,Yt(15),qt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}qt(t.j,t.m,r,null),Se(t,r)}ge(t)&&r!=fe&&r!=he&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Yt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),qn(e),e.L=!0,Yt(11))):(qt(t.j,t.m,n,"[Invalid Chunked Response]"),Te(t),Ee(t))}function ve(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?he:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.C=r+n,e))}function ye(t){t.Y=Date.now()+t.P,be(t,t.P)}function be(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qt(g(t.eb,t),e)}function we(t){t.B&&(a.clearTimeout(t.B),t.B=null)}function Ee(t){0==t.l.G||t.I||Gn(t.l,t)}function Te(t){we(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Mt(t.W),Vt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Se(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||en(n.i,t)))if(n.I=t.N,!t.J&&en(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;zn(n),Dn(n)}Bn(n),Yt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qt(g(n.ab,n),6e3));if(1>=tn(n.i)&&n.ka){try{n.ka()}catch(t){}n.ka=void 0}}else $n(n,11)}else if((t.J||n.g==t)&&zn(n),!x(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const e=u[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.i;!o.g&&(k(t,"spdy")||k(t,"quic")||k(t,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(nn(o,o.h),o.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,Le(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=t;if((r=n).oa=Yn(r,r.H?r.la:null,r.W),s.J){rn(r.i,s);var a=s,c=r.K;c&&a.setTimeout(c),a.B&&(we(a),ye(a)),r.g=s}else Vn(r);0<n.l.length&&Pn(n)}else"stop"!=u[0]&&"close"!=u[0]||$n(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?$n(n,7):Nn(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}$t(4)}catch(t){}}function xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(u(t)||"string"==typeof t)E(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(u(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(u(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ie(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ke(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ke(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=ce.prototype).setTimeout=function(t){this.P=t},r.gb=function(t){t=t.target;const e=this.L;e&&3==kn(t)?e.l():this.Ia(t)},r.Ia=function(t){try{if(t==this.g)t:{const h=kn(this.g);var e=this.g.Da();const f=this.g.ba();if(!(3>h)&&(3!=h||B||this.g&&(this.h.h||this.g.ga()||Cn(this.g)))){this.I||4!=h||7==e||$t(8==e||0>=f?3:2),we(this);var n=this.g.ba();this.N=n;e:if(ge(this)){var r=Cn(this.g);t="";var i=r.length,o=4==kn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Te(this),Ee(this);var s="";break e}this.h.i=new a.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,h,n),this.i){if(this.$&&!this.J){e:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(c)){var l=c;break e}}l=null}if(!(n=l)){this.i=!1,this.o=3,Yt(12),Te(this),Ee(this);break t}qt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Se(this,n)}this.U?(me(this,h,s),B&&this.i&&3==h&&(Ut(this.V,this.W,"tick",this.fb),this.W.start())):(qt(this.j,this.m,s,null),Se(this,s)),4==h&&Te(this),this.i&&!this.I&&(4==h?Gn(this.l,this):(this.i=!1,ye(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Yt(12)):(this.o=0,Yt(13)),Te(this),Ee(this)}}}catch(t){}},r.fb=function(){if(this.g){var t=kn(this.g),e=this.g.ga();this.C<e.length&&(we(this),me(this,t,e),this.i&&4!=t&&ye(this))}},r.cancel=function(){this.I=!0,Te(this)},r.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&($t(3),Yt(17)),Te(this),this.o=2,Ee(this)):be(this,this.Y-t)},(r=Ae.prototype).R=function(){Ie(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},r.T=function(){return Ie(this),this.g.concat()},r.get=function(t,e){return ke(this.h,t)?this.h[t]:e},r.set=function(t,e){ke(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},r.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ce=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Re){this.g=void 0!==e?e:t.g,_e(this,t.j),this.s=t.s,Ne(this,t.i),De(this,t.m),this.l=t.l,e=t.h;var n=new Ge;n.i=e.i,e.g&&(n.g=new Ae(e.g),n.h=e.h),Me(this,n),this.o=t.o}else t&&(n=String(t).match(Ce))?(this.g=!!e,_e(this,n[1]||"",!0),this.s=je(n[2]||""),Ne(this,n[3]||"",!0),De(this,n[4]),this.l=je(n[5]||"",!0),Me(this,n[6]||"",!0),this.o=je(n[7]||"")):(this.g=!!e,this.h=new Ge(null,this.g))}function Oe(t){return new Re(t)}function _e(t,e,n){t.j=n?je(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ne(t,e,n){t.i=n?je(e,!0):e}function De(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Me(t,e,n){e instanceof Ge?(t.h=e,function(t,e){e&&!t.j&&(We(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Ye(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Fe(e,He)),t.h=new Ge(e,t.g))}function Le(t,e,n){t.h.set(e,n)}function Pe(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fe(e,Ve,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Fe(e,Ve,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?qe:Be,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fe(n,ze)),t.join("")};var Ve=/[#\/\?@]/g,Be=/[#\?:]/g,qe=/[#\?]/g,He=/[#\?@]/g,ze=/#/g;function Ge(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function We(t){t.g||(t.g=new Ae,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){We(t),e=Xe(t,e),ke(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ke((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ie(t)))}function Ke(t,e){return We(t),e=Xe(t,e),ke(t.g.h,e)}function Ye(t,e,n){$e(t,e),0<n.length&&(t.i=null,t.g.set(Xe(t,e),S(n)),t.h+=n.length)}function Xe(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(r=Ge.prototype).add=function(t,e){We(this),this.i=null,t=Xe(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){We(this),this.g.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.T=function(){We(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.R=function(t){We(this);var e=[];if("string"==typeof t)Ke(this,t)&&(e=T(e,this.g.get(Xe(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},r.set=function(t,e){return We(this),this.i=null,Ke(this,t=Xe(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};function Qe(t){this.l=t||Je,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.g&&a.g.Ea&&a.g.Ea()&&a.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Je=10;function Ze(t){return!!t.h||!!t.g&&t.g.size>=t.j}function tn(t){return t.h?1:t.g?t.g.size:0}function en(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function nn(t,e){t.g?t.g.add(e):t.h=e}function rn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function on(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return S(t.i)}function sn(){}function an(){this.g=new sn}function cn(t,e,n){const r=n||"";try{xe(t,(function(t,n){let i=t;l(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function ln(t){this.l=t.$b||null,this.j=t.ib||!1}function hn(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=fn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},sn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},sn.prototype.parse=function(t){return a.JSON.parse(t,void 0)},v(ln,te),ln.prototype.g=function(){return new hn(this.l,this.j)},ln.prototype.i=function(t){return function(){return t}}({}),v(hn,wt);var fn=0;function dn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function pn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gn(t)}function gn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(r=hn.prototype).open=function(t,e){if(this.readyState!=fn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gn(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||a).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pn(this)),this.readyState=fn},r.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gn(this)),this.g&&(this.readyState=3,gn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==a.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pn(this):gn(this),3==this.readyState&&dn(this)}},r.Ua=function(t){this.g&&(this.response=this.responseText=t,pn(this))},r.Ta=function(t){this.g&&(this.response=t,pn(this))},r.ha=function(){this.g&&pn(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mn=a.JSON.parse;function vn(t){wt.call(this),this.headers=new Ae,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yn,this.K=this.L=!1}v(vn,wt);var yn="",bn=/^https?$/i,wn=["POST","PUT"];function En(t){return"content-type"==t.toLowerCase()}function Tn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Sn(t),An(t)}function Sn(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}function xn(t){if(t.h&&void 0!==s&&(!t.C[1]||4!=kn(t)||2!=t.ba()))if(t.v&&4==kn(t))Lt(t.Fa,0,t);else if(Et(t,"readystatechange"),4==kn(t)){t.h=!1;try{const s=t.ba();t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.H).match(Ce)[1]||null;if(!i&&a.self&&a.self.location){var o=a.self.location.protocol;i=o.substr(0,o.length-1)}r=!bn.test(i?i.toLowerCase():"")}n=r}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var c=2<kn(t)?t.g.statusText:""}catch(t){c=""}t.j=c+" ["+t.ba()+"]",Sn(t)}}finally{An(t)}}}function An(t,e){if(t.g){In(t);const n=t.g,r=t.C[0]?c:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function In(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(a.clearTimeout(t.A),t.A=null)}function kn(t){return t.g?t.g.readyState:0}function Cn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case yn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Rn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return _(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function On(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _n(t){this.za=0,this.l=[],this.h=new Bt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=On("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=On("baseRetryDelayMs",5e3,t),this.$a=On("retryDelaySeedMs",1e4,t),this.Ya=On("forwardChannelMaxRetries",2,t),this.ra=On("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Qe(t&&t.concurrentRequestLimit),this.Ca=new an,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Nn(t){if(Mn(t),3==t.G){var e=t.V++,n=Oe(t.F);Le(n,"SID",t.J),Le(n,"RID",e),Le(n,"TYPE","terminate"),Fn(t,n),(e=new ce(t,t.h,e,void 0)).K=2,e.v=Pe(Oe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.v.toString(),"")),!n&&a.Image&&((new Image).src=e.v,n=!0),n||(e.g=Xn(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ye(e)}Kn(t)}function Dn(t){t.g&&(qn(t),t.g.cancel(),t.g=null)}function Mn(t){Dn(t),t.u&&(a.clearTimeout(t.u),t.u=null),zn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&a.clearTimeout(t.m),t.m=null)}function Ln(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Pn(t)}function Pn(t){Ze(t.i)||t.m||(t.m=!0,Rt(t.Ha,t),t.C=0)}function jn(t,e){var n;n=e?e.m:t.V++;const r=Oe(t.F);Le(r,"SID",t.J),Le(r,"RID",n),Le(r,"AID",t.U),Fn(t,r),t.o&&t.s&&Rn(r,t.o,t.s),n=new ce(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Un(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),nn(t.i,n),de(n,r,e)}function Fn(t,e){t.j&&xe({},(function(t,n){Le(e,n,t)}))}function Un(t,e,n){n=Math.min(t.l.length,n);var r=t.j?g(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=e,0>n)e=Math.max(0,i[s].h-100),o=!1;else try{cn(a,t,"req"+n+"_")}catch(t){r&&r(a)}}if(o){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function Vn(t){t.g||t.u||(t.Y=1,Rt(t.Ga,t),t.A=0)}function Bn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Qt(g(t.Ga,t),Wn(t,t.A)),t.A++,!0)}function qn(t){null!=t.B&&(a.clearTimeout(t.B),t.B=null)}function Hn(t){t.g=new ce(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Oe(t.oa);Le(e,"RID","rpc"),Le(e,"SID",t.J),Le(e,"CI",t.N?"0":"1"),Le(e,"AID",t.U),Fn(t,e),Le(e,"TYPE","xmlhttp"),t.o&&t.s&&Rn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Pe(Oe(e)),n.s=null,n.U=!0,pe(n,t)}function zn(t){null!=t.v&&(a.clearTimeout(t.v),t.v=null)}function Gn(t,e){var n=null;if(t.g==e){zn(t),qn(t),t.g=null;var r=2}else{if(!en(t.i,e))return;n=e.D,rn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Et(r=Gt(),new Xt(r,n,e,i)),Pn(t)}else Vn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(tn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=Qt(g(t.Ha,t,e),Wn(t,t.C)),t.C++,!0))}(t,e)||2==r&&Bn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$n(t,5);break;case 4:$n(t,10);break;case 3:$n(t,6);break;default:$n(t,2)}}function Wn(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function $n(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=g(t.jb,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||_e(n,"https"),Pe(n)),function(t,e){const n=new Bt;if(a.Image){const r=new Image;r.onload=m(un,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(un,n,r,"TestLoadImage: error",!1,e),r.onabort=m(un,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(un,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yt(2);t.G=0,t.j&&t.j.va(e),Kn(t),Mn(t)}function Kn(t){t.G=0,t.I=-1,t.j&&(0==on(t.i).length&&0==t.l.length||(t.i.i.length=0,S(t.l),t.l.length=0),t.j.ua())}function Yn(t,e,n){let r=function(t){return t instanceof Re?Oe(t):new Re(t,void 0)}(n);if(""!=r.i)e&&Ne(r,e+"."+r.i),De(r,r.m);else{const t=a.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&_e(i,t),e&&Ne(i,e),n&&De(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&_(t.aa,(function(t,e){Le(r,e,t)})),e=t.D,n=t.sa,e&&n&&Le(r,e,n),Le(r,"VER",t.ma),Fn(t,r),r}function Xn(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new vn(new ln({ib:!0})):new vn(t.qa)).L=t.H,e}function Qn(){}function Jn(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Zn(t,e){wt.call(this),this.g=new _n(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new nr(this)}function tr(t){oe.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function er(){se.call(this),this.status=1}function nr(t){this.g=t}(r=vn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():re.g(),this.C=this.u?ee(this.u):ee(re),this.g.onreadystatechange=g(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void Tn(this,t)}t=n||"";const i=new Ae(this.headers);r&&xe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{var e=En;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=a.FormData&&t instanceof a.FormData,!(0<=w(wn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{In(this),0<this.B&&((this.K=function(t){return U&&X()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=g(this.pa,this)):this.A=Lt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Tn(this,t)}},r.pa=function(){void 0!==s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),An(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),An(this,!0)),vn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?xn(this):this.cb())},r.cb=function(){xn(this)},r.ba=function(){try{return 2<kn(this)?this.g.status:-1}catch(t){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},r.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mn(e)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=_n.prototype).ma=8,r.G=1,r.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},r.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ce(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=N(o),M(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Un(this,i,e),Le(n=Oe(this.F),"RID",t),Le(n,"CVER",22),this.D&&Le(n,"X-HTTP-Session-Id",this.D),Fn(this,n),this.o&&o&&Rn(n,this.o,o),nn(this.i,i),this.Ra&&Le(n,"TYPE","init"),this.ja?(Le(n,"$req",e),Le(n,"SID","null"),i.$=!0,de(i,n,null)):de(i,n,e),this.G=2}}else 3==this.G&&(t?jn(this,t):0==this.l.length||Ze(this.i)||jn(this))},r.Ga=function(){if(this.u=null,Hn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Qt(g(this.bb,this),t)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Yt(10),Dn(this),Hn(this))},r.ab=function(){null!=this.v&&(this.v=null,Dn(this),Bn(this),Yt(19))},r.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Yt(2)):(this.h.info("Failed to ping google.com"),Yt(1))},(r=Qn.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},Jn.prototype.g=function(t,e){return new Zn(t,e)},v(Zn,wt),Zn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Rt(g(t.hb,t,e))),Yt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Yn(t,null,t.W),Pn(t)},Zn.prototype.close=function(){Nn(this.g)},Zn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Ln(this.g,e)}else this.v?((e={}).__data__=St(t),Ln(this.g,e)):Ln(this.g,t)},Zn.prototype.M=function(){this.g.j=null,delete this.j,Nn(this.g),delete this.g,Zn.Z.M.call(this)},v(tr,oe),v(er,se),v(nr,Qn),nr.prototype.xa=function(){Et(this.g,"a")},nr.prototype.wa=function(t){Et(this.g,new tr(t))},nr.prototype.va=function(t){Et(this.g,new er(t))},nr.prototype.ua=function(){Et(this.g,"b")},Jn.prototype.createWebChannel=Jn.prototype.g,Zn.prototype.send=Zn.prototype.u,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,Zt.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",wt.prototype.listen=wt.prototype.N,vn.prototype.listenOnce=vn.prototype.O,vn.prototype.getLastError=vn.prototype.La,vn.prototype.getLastErrorCode=vn.prototype.Da,vn.prototype.getStatus=vn.prototype.ba,vn.prototype.getResponseJson=vn.prototype.Qa,vn.prototype.getResponseText=vn.prototype.ga,vn.prototype.send=vn.prototype.ea;var rr=o.createWebChannelTransport=function(){return new Jn},ir=o.getStatEventTarget=function(){return Gt()},or=o.ErrorCode=Jt,sr=o.EventType=Zt,ar=o.Event=Ht,cr=o.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ur=o.FetchXmlHttpFactory=ln,lr=o.WebChannel=ne,hr=o.XhrIo=vn}).call(this,n(117))},function(t,e,n){var r=n(1),i=n(9),o=n(75),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not a function")}},function(t,e,n){var r=n(6),i=n(12),o=n(38);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(74),i=n(19);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(157),i=n(14),o=n(156),s=n(12).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(2),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},function(t,e,n){var r=n(2);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(21),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Function.prototype,r=n.apply,i=n.bind,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},function(t,e,n){var r,i=n(5),o=n(95),s=n(123),a=n(76),c=n(155),u=n(91),l=n(93),h=l("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;g="undefined"!=typeof document?document.domain&&r?p(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):p(r);for(var n=s.length;n--;)delete g.prototype[s[n]];return g()};a[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[h]=t):n=g(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(2),i=n(19),o=n(10),s=/"/g,a=r("".replace);t.exports=function(t,e,n,r){var c=o(i(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+a(o(r),s,"&quot;")+'"'),u+">"+c+"</"+e+">"}},function(t,e,n){var r=n(3);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return w})),n.d(e,"g",(function(){return T}));var r=n(63),i=n(41),o=n(4);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class s{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const a="@firebase/app",c=new i.b("@firebase/app"),u={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},l=new Map,h=new Map;function f(t,e){try{t.container.addComponent(e)}catch(n){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function d(t){const e=t.name;if(h.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;h.set(e,t);for(const e of l.values())f(e,t);return!0}function p(t,e){return t.container.getProvider(e)}function g(t,e,n="[DEFAULT]"){p(t,e).clearInstance(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const m={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."},v=new o.b("app","Firebase",m);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class y{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw v.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b="9.6.1";function w(t,e={}){if("object"!=typeof e){e={name:e}}const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!=typeof i||!i)throw v.create("bad-app-name",{appName:String(i)});const s=l.get(i);if(s){if(Object(o.d)(t,s.options)&&Object(o.d)(n,s.config))return s;throw v.create("duplicate-app",{appName:i})}const a=new r.b(i);for(const t of h.values())a.addComponent(t);const c=new y(t,n,a);return l.set(i,c),c}function E(t="[DEFAULT]"){const e=l.get(t);if(!e)throw v.create("no-app",{appName:t});return e}function T(t,e,n){var i;let o=null!==(i=u[t])&&void 0!==i?i:t;n&&(o+="-"+n);const s=o.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=[`Unable to register library "${o}" with version "${e}":`];return s&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}d(new r.a(o+"-version",()=>({library:o,version:e}),"VERSION"))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var S;S="",d(new r.a("platform-logger",t=>new s(t),"PRIVATE")),T(a,"0.7.11",S),T(a,"0.7.11","esm2017"),T("fire-js","")},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(12).f,i=n(14),o=n(8)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(1),i=n(14),o=n(9),s=n(15),a=n(93),c=n(128),u=a("IE_PROTO"),l=r.Object,h=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=s(t);if(i(e,u))return e[u];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?h:null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class u{constructor(t){this.name=t,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?o[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function l(t){r.forEach(e=>{e.setLogLevel(t)})}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=o[e.level]),n.userLogHandler=null===t?null:(e,n,...o)=>{const s=o.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(t=>t).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:s,args:o,type:e.name})}}}},function(t,e,n){var r=n(2),i=n(26),o=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?o(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(2),i=n(5),o=n(159);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var r=n(1),i=n(31),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},function(t,e,n){var r=n(18);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(26);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){var r=n(21),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){"use strict";var r=n(53),i=n(12),o=n(38);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},function(t,e,n){var r=n(1),i=n(42),o=n(13),s=n(5),a=n(75),c=n(129),u=n(16),l=n(31),h=n(97),f=n(84),d=n(162),p=r.TypeError,g=function(t,e){this.stopped=t,this.result=e},m=g.prototype;t.exports=function(t,e,n){var r,v,y,b,w,E,T,S=n&&n.that,x=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),k=i(e,S),C=function(t){return r&&d(r,"normal",t),new g(!0,t)},R=function(t){return x?(s(t),I?k(t[0],t[1],C):k(t[0],t[1])):I?k(t,C):k(t)};if(A)r=t;else{if(!(v=f(t)))throw p(a(t)+" is not iterable");if(c(v)){for(y=0,b=u(t);b>y;y++)if((w=R(t[y]))&&l(m,w))return w;return new g(!1)}r=h(t,v)}for(E=r.next;!(T=o(E,r)).done;){try{w=R(T.value)}catch(t){d(r,"throw",t)}if("object"==typeof w&&w&&l(m,w))return w}return new g(!1)}},function(t,e,n){var r=n(8),i=n(34),o=n(12),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(13),s=n(6),a=n(148),c=n(11),u=n(101),l=n(44),h=n(38),f=n(27),d=n(140),p=n(32),g=n(171),m=n(190),v=n(53),y=n(14),b=n(56),w=n(7),E=n(65),T=n(34),S=n(31),x=n(43),A=n(55).f,I=n(191),k=n(23).forEach,C=n(70),R=n(12),O=n(24),_=n(20),N=n(69),D=_.get,M=_.set,L=R.f,P=O.f,j=Math.round,F=i.RangeError,U=u.ArrayBuffer,V=U.prototype,B=u.DataView,q=c.NATIVE_ARRAY_BUFFER_VIEWS,H=c.TYPED_ARRAY_CONSTRUCTOR,z=c.TYPED_ARRAY_TAG,G=c.TypedArray,W=c.TypedArrayPrototype,$=c.aTypedArrayConstructor,K=c.isTypedArray,Y=function(t,e){$(t);for(var n=0,r=e.length,i=new t(r);r>n;)i[n]=e[n++];return i},X=function(t,e){L(t,e,{get:function(){return D(this)[e]}})},Q=function(t){var e;return S(V,t)||"ArrayBuffer"==(e=b(t))||"SharedArrayBuffer"==e},J=function(t,e){return K(t)&&!E(e)&&e in t&&d(+e)&&e>=0},Z=function(t,e){return e=v(e),J(t,e)?h(2,t[e]):P(t,e)},tt=function(t,e,n){return e=v(e),!(J(t,e)&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?L(t,e,n):(t[e]=n.value,t)};s?(q||(O.f=Z,R.f=tt,X(W,"buffer"),X(W,"byteOffset"),X(W,"byteLength"),X(W,"length")),r({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:Z,defineProperty:tt}),t.exports=function(t,e,n){var s=t.match(/\d+$/)[0]/8,c=t+(n?"Clamped":"")+"Array",u="get"+t,h="set"+t,d=i[c],v=d,y=v&&v.prototype,b={},E=function(t,e){L(t,e,{get:function(){return function(t,e){var n=D(t);return n.view[u](e*s+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=D(t);n&&(r=(r=j(r))<0?0:r>255?255:255&r),i.view[h](e*s+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};q?a&&(v=e((function(t,e,n,r){return l(t,y),N(w(e)?Q(e)?void 0!==r?new d(e,m(n,s),r):void 0!==n?new d(e,m(n,s)):new d(e):K(e)?Y(v,e):o(I,v,e):new d(g(e)),t,v)})),x&&x(v,G),k(A(d),(function(t){t in v||f(v,t,d[t])})),v.prototype=y):(v=e((function(t,e,n,r){l(t,y);var i,a,c,u=0,h=0;if(w(e)){if(!Q(e))return K(e)?Y(v,e):o(I,v,e);i=e,h=m(n,s);var f=e.byteLength;if(void 0===r){if(f%s)throw F("Wrong length");if((a=f-h)<0)throw F("Wrong length")}else if((a=p(r)*s)+h>f)throw F("Wrong length");c=a/s}else c=g(e),i=new U(a=c*s);for(M(t,{buffer:i,byteOffset:h,byteLength:a,length:c,view:new B(i)});u<c;)E(t,u++)})),x&&x(v,G),y=v.prototype=T(W)),y.constructor!==v&&f(y,"constructor",v),f(y,H,v),z&&f(y,z,c),b[c]=v,r({global:!0,forced:v!=d,sham:!q},b),"BYTES_PER_ELEMENT"in v||f(v,"BYTES_PER_ELEMENT",s),"BYTES_PER_ELEMENT"in y||f(y,"BYTES_PER_ELEMENT",s),C(c)}):t.exports=function(){}},function(t,e,n){var r=n(118),i=n(65);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},function(t,e,n){var r,i,o=n(1),s=n(45),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},function(t,e,n){var r=n(154),i=n(123).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(1),i=n(125),o=n(9),s=n(30),a=n(8)("toStringTag"),c=r.Object,u="Arguments"==s(function(){return arguments}());t.exports=i?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?n:u?s(e):"Object"==(r=s(e))&&o(e.callee)?"Arguments":r}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){var r=n(30);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(2);t.exports=r([].slice)},function(t,e,n){var r=n(30),i=n(1);t.exports="process"==r(i.process)},function(t,e,n){var r=n(0),i=n(2),o=n(76),s=n(7),a=n(14),c=n(12).f,u=n(55),l=n(126),h=n(104),f=n(66),d=n(86),p=!1,g=f("meta"),m=0,v=function(t){c(t,g,{value:{objectID:"O"+m++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=u.f,e=i([].splice),n={};n[g]=1,t(n).length&&(u.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===g){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,g)){if(!h(t))return"F";if(!e)return"E";v(t)}return t[g].objectID},getWeakData:function(t,e){if(!a(t,g)){if(!h(t))return!0;if(!e)return!1;v(t)}return t[g].weakData},onFreeze:function(t){return d&&p&&h(t)&&!a(t,g)&&v(t),t}};o[g]=!0},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n(4);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.a;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(t)&&e.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,"[DEFAULT]"===r?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},function(t,e,n){t.exports=n(198)},function(t,e,n){var r=n(1),i=n(18),o=n(9),s=n(31),a=n(150),c=r.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&s(e.prototype,c(t))}},function(t,e,n){var r=n(2),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},function(t,e,n){var r=n(6),i=n(14),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},function(t,e,n){var r=n(2),i=n(3),o=n(9),s=n(56),a=n(18),c=n(92),u=function(){},l=[],h=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.exec(u),g=function(t){if(!o(t))return!1;try{return h(u,l,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!h||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},function(t,e,n){var r=n(9),i=n(7),o=n(43);t.exports=function(t,e,n){var s,a;return o&&r(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e,n){"use strict";var r=n(18),i=n(12),o=n(8),s=n(6),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(17);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(5),i=n(136),o=n(8)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r=n(2),i=n(19),o=n(10),s=n(107),a=r("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),h=function(t){return function(e){var n=o(i(e));return 1&t&&(n=a(n,u,"")),2&t&&(n=a(n,l,"")),n}};t.exports={start:h(1),end:h(2),trim:h(3)}},function(t,e,n){var r=n(1),i=n(2),o=n(3),s=n(30),a=r.Object,c=i("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?c(t,""):a(t)}:a},function(t,e,n){var r=n(1).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,e){t.exports={}},function(t,e,n){var r=n(28),i=n(47),o=n(16),s=function(t){return function(e,n,s){var a,c=r(e),u=o(c),l=i(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(3),i=n(9),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n==l||n!=u&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},function(t,e,n){var r=n(154),i=n(123);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(1),i=n(47),o=n(16),s=n(48),a=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=o(t),u=i(e,r),l=i(void 0===n?r:n,r),h=a(c(l-u,0)),f=0;u<l;u++,f++)s(h,f,t[u]);return h.length=f,h}},function(t,e,n){var r=n(204);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){var r=n(10);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},function(t,e){t.exports={}},function(t,e,n){var r=n(56),i=n(46),o=n(83),s=n(8)("iterator");t.exports=function(t){if(null!=t)return i(t,s)||i(t,"@@iterator")||o[r(t)]}},function(t,e,n){var r=n(3),i=n(8),o=n(54),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r=n(3);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(7),i=n(30),o=n(8)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(1),i=n(13),o=n(5),s=n(9),a=n(30),c=n(111),u=r.TypeError;t.exports=function(t,e){var n=t.exec;if(s(n)){var r=i(n,t,e);return null!==r&&o(r),r}if("RegExp"===a(t))return i(c,t,e);throw u("RegExp#exec called on incompatible receiver")}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(22),i=n(120);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.0",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(1),i=n(7),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(2),i=n(9),o=n(120),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},function(t,e,n){var r=n(90),i=n(66),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(14),i=n(122),o=n(24),s=n(12);t.exports=function(t,e,n){for(var a=i(e),c=s.f,u=o.f,l=0;l<a.length;l++){var h=a[l];r(t,h)||n&&r(n,h)||c(t,h,u(e,h))}}},function(t,e,n){var r=n(6),i=n(12),o=n(5),s=n(28),a=n(79);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),c=a(e),u=c.length,l=0;u>l;)i.f(t,n=c[l++],r[n]);return t}},function(t,e,n){var r=n(2)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,s=o.test(i);t.exports=function(t,e){if(s&&"string"==typeof t)for(;e--;)t=r(t,o,"");return t}},function(t,e,n){var r=n(1),i=n(13),o=n(26),s=n(5),a=n(75),c=n(84),u=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(o(n))return s(i(n,t));throw u(a(t)+" is not iterable")}},function(t,e,n){var r=n(8)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(28),i=n(50),o=n(83),s=n(20),a=n(12).f,c=n(131),u=n(22),l=n(6),h=s.set,f=s.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){h(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var d=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==d.name)try{a(d,"name",{value:"values"})}catch(t){}},function(t,e,n){var r=n(1),i=n(26),o=n(15),s=n(74),a=n(16),c=r.TypeError,u=function(t){return function(e,n,r,u){i(n);var l=o(e),h=s(l),f=a(l),d=t?f-1:0,p=t?-1:1;if(r<2)for(;;){if(d in h){u=h[d],d+=p;break}if(d+=p,t?d<0:f<=d)throw c("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=p)d in h&&(u=n(u,h[d],d,l));return u}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(6),s=n(135),a=n(67),c=n(27),u=n(71),l=n(3),h=n(44),f=n(21),d=n(32),p=n(171),g=n(254),m=n(40),v=n(43),y=n(55).f,b=n(12).f,w=n(130),E=n(80),T=n(39),S=n(20),x=a.PROPER,A=a.CONFIGURABLE,I=S.get,k=S.set,C=r.ArrayBuffer,R=C,O=R&&R.prototype,_=r.DataView,N=_&&_.prototype,D=Object.prototype,M=r.Array,L=r.RangeError,P=i(w),j=i([].reverse),F=g.pack,U=g.unpack,V=function(t){return[255&t]},B=function(t){return[255&t,t>>8&255]},q=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},H=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},z=function(t){return F(t,23,4)},G=function(t){return F(t,52,8)},W=function(t,e){b(t.prototype,e,{get:function(){return I(this)[e]}})},$=function(t,e,n,r){var i=p(n),o=I(t);if(i+e>o.byteLength)throw L("Wrong index");var s=I(o.buffer).bytes,a=i+o.byteOffset,c=E(s,a,a+e);return r?c:j(c)},K=function(t,e,n,r,i,o){var s=p(n),a=I(t);if(s+e>a.byteLength)throw L("Wrong index");for(var c=I(a.buffer).bytes,u=s+a.byteOffset,l=r(+i),h=0;h<e;h++)c[u+h]=l[o?h:e-h-1]};if(s){var Y=x&&"ArrayBuffer"!==C.name;if(l((function(){C(1)}))&&l((function(){new C(-1)}))&&!l((function(){return new C,new C(1.5),new C(NaN),Y&&!A})))Y&&A&&c(C,"name","ArrayBuffer");else{(R=function(t){return h(this,O),new C(p(t))}).prototype=O;for(var X,Q=y(C),J=0;Q.length>J;)(X=Q[J++])in R||c(R,X,C[X]);O.constructor=R}v&&m(N)!==D&&v(N,D);var Z=new _(new R(2)),tt=i(N.setInt8);Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(N,{setInt8:function(t,e){tt(this,t,e<<24>>24)},setUint8:function(t,e){tt(this,t,e<<24>>24)}},{unsafe:!0})}else O=(R=function(t){h(this,O);var e=p(t);k(this,{bytes:P(M(e),0),byteLength:e}),o||(this.byteLength=e)}).prototype,N=(_=function(t,e,n){h(this,N),h(t,O);var r=I(t).byteLength,i=f(e);if(i<0||i>r)throw L("Wrong offset");if(i+(n=void 0===n?r-i:d(n))>r)throw L("Wrong length");k(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)}).prototype,o&&(W(R,"byteLength"),W(_,"buffer"),W(_,"byteLength"),W(_,"byteOffset")),u(N,{getInt8:function(t){return $(this,1,t)[0]<<24>>24},getUint8:function(t){return $(this,1,t)[0]},getInt16:function(t){var e=$(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=$(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return H($(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return H($(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return U($(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return U($(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){K(this,1,t,V,e)},setUint8:function(t,e){K(this,1,t,V,e)},setInt16:function(t,e){K(this,2,t,B,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){K(this,2,t,B,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){K(this,4,t,q,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){K(this,4,t,q,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){K(this,4,t,z,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){K(this,8,t,G,e,arguments.length>2?arguments[2]:void 0)}});T(R,"ArrayBuffer"),T(_,"DataView"),t.exports={ArrayBuffer:R,DataView:_}},function(t,e,n){"use strict";var r=n(1),i=n(21),o=n(10),s=n(19),a=r.RangeError;t.exports=function(t){var e=o(s(this)),n="",r=i(t);if(r<0||r==1/0)throw a("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),s=n(78),a=n(17),c=n(61),u=n(49),l=n(44),h=n(9),f=n(7),d=n(3),p=n(98),g=n(39),m=n(69);t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),b=v?"set":"add",w=i[t],E=w&&w.prototype,T=w,S={},x=function(t){var e=o(E[t]);a(E,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!f(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!f(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!f(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(s(t,!h(w)||!(y||E.forEach&&!d((function(){(new w).entries().next()})))))T=n.getConstructor(e,t,v,b),c.enable();else if(s(t,!0)){var A=new T,I=A[b](y?{}:-0,1)!=A,k=d((function(){A.has(1)})),C=p((function(t){new w(t)})),R=!y&&d((function(){for(var t=new w,e=5;e--;)t[b](e,e);return!t.has(-0)}));C||((T=e((function(t,e){l(t,E);var n=m(new w,t,T);return null!=e&&u(e,n[b],{that:n,AS_ENTRIES:v}),n}))).prototype=E,E.constructor=T),(k||R)&&(x("delete"),x("has"),v&&x("get")),(R||I)&&x(b),y&&E.clear&&delete E.clear}return S[t]=T,r({global:!0,forced:T!=w},S),g(T,t),y||n.setStrong(T,t,v),T}},function(t,e,n){var r=n(3),i=n(7),o=n(30),s=n(138),a=Object.isExtensible,c=r((function(){a(1)}));t.exports=c||s?function(t){return!!i(t)&&((!s||"ArrayBuffer"!=o(t))&&(!a||a(t)))}:a},function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(t,e,n){var r=n(2);t.exports=r(1..valueOf)},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(22),i=n(1),o=n(3),s=n(134);t.exports=r||!o((function(){if(!(s&&s<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}}))},function(t,e,n){"use strict";var r=n(26),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(3),i=n(1).RegExp,o=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=o||r((function(){return!i("a","y").sticky})),a=o||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},function(t,e,n){"use strict";var r,i,o=n(13),s=n(2),a=n(10),c=n(62),u=n(110),l=n(90),h=n(34),f=n(20).get,d=n(143),p=n(186),g=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,y=s("".charAt),b=s("".indexOf),w=s("".replace),E=s("".slice),T=(i=/b*/g,o(m,r=/a/,"a"),o(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),S=u.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(T||x||S||d||p)&&(v=function(t){var e,n,r,i,s,u,l,d=this,p=f(d),A=a(t),I=p.raw;if(I)return I.lastIndex=d.lastIndex,e=o(v,I,A),d.lastIndex=I.lastIndex,e;var k=p.groups,C=S&&d.sticky,R=o(c,d),O=d.source,_=0,N=A;if(C&&(R=w(R,"y",""),-1===b(R,"g")&&(R+="g"),N=E(A,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==y(A,d.lastIndex-1))&&(O="(?: "+O+")",N=" "+N,_++),n=new RegExp("^(?:"+O+")",R)),x&&(n=new RegExp("^"+O+"$(?!\\s)",R)),T&&(r=d.lastIndex),i=o(m,C?n:d,N),C?i?(i.input=E(i.input,_),i[0]=E(i[0],_),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:T&&i&&(d.lastIndex=d.global?i.index+i[0].length:r),x&&i&&i.length>1&&o(g,i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&k)for(i.groups=u=h(null),s=0;s<k.length;s++)u[(l=k[s])[0]]=i[l[1]];return i}),t.exports=v},function(t,e,n){var r=n(2),i=n(21),o=n(10),s=n(19),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(t){return function(e,n){var r,l,h=o(s(e)),f=i(n),d=h.length;return f<0||f>=d?t?"":void 0:(r=c(h,f))<55296||r>56319||f+1===d||(l=c(h,f+1))<56320||l>57343?t?a(h,f):r:t?u(h,f,f+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},function(t,e,n){"use strict";n(144);var r=n(2),i=n(17),o=n(111),s=n(3),a=n(8),c=n(27),u=a("species"),l=RegExp.prototype;t.exports=function(t,e,n,h){var f=a(t),d=!s((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=d&&!s((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!d||!p||n){var g=r(/./[f]),m=e(f,""[t],(function(t,e,n,i,s){var a=r(t),c=e.exec;return c===o||c===l.exec?d&&!s?{done:!0,value:g(e,n,i)}:{done:!0,value:a(n,e,i)}:{done:!1}}));i(String.prototype,t,m[0]),i(l,f,m[1])}h&&c(l[f],"sham",!0)}},function(t,e,n){"use strict";var r=n(112).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(11),i=n(72),o=r.TYPED_ARRAY_CONSTRUCTOR,s=r.aTypedArrayConstructor;t.exports=function(t){return s(i(t,t[o]))}},function(t,e){function n(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(t){n(s,i,o,a,c,"next",t)}function c(t){n(s,i,o,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(1),i=n(13),o=n(7),s=n(65),a=n(46),c=n(151),u=n(8),l=r.TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!o(t)||s(t))return t;var n,r=a(t,h);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,n){var r=n(54),i=n(3);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r=n(1),i=n(121),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(1),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(18),i=n(2),o=n(55),s=n(124),a=n(5),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r={};r[n(8)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(30),i=n(28),o=n(55).f,s=n(80),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==r(t)?function(t){try{return o(t)}catch(t){return s(a)}}(t):o(i(t))}},function(t,e,n){var r=n(3),i=n(38);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},function(t,e,n){var r=n(3);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(8),i=n(83),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){"use strict";var r=n(15),i=n(47),o=n(16);t.exports=function(t){for(var e=r(this),n=o(e),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(22),s=n(67),a=n(9),c=n(132),u=n(40),l=n(43),h=n(39),f=n(27),d=n(17),p=n(8),g=n(83),m=n(167),v=s.PROPER,y=s.CONFIGURABLE,b=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,E=p("iterator"),T=function(){return this};t.exports=function(t,e,n,s,p,m,S){c(n,e,s);var x,A,I,k=function(t){if(t===p&&N)return N;if(!w&&t in O)return O[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},C=e+" Iterator",R=!1,O=t.prototype,_=O[E]||O["@@iterator"]||p&&O[p],N=!w&&_||k(p),D="Array"==e&&O.entries||_;if(D&&(x=u(D.call(new t)))!==Object.prototype&&x.next&&(o||u(x)===b||(l?l(x,b):a(x[E])||d(x,E,T)),h(x,C,!0,!0),o&&(g[C]=T)),v&&"values"==p&&_&&"values"!==_.name&&(!o&&y?f(O,"name","values"):(R=!0,N=function(){return i(_,this)})),p)if(A={values:k("values"),keys:m?N:k("keys"),entries:k("entries")},S)for(I in A)(w||R||!(I in O))&&d(O,I,A[I]);else r({target:e,proto:!0,forced:w||R},A);return o&&!S||O[E]===N||d(O,E,N,{name:p}),g[e]=N,A}},function(t,e,n){"use strict";var r=n(167).IteratorPrototype,i=n(34),o=n(38),s=n(39),a=n(83),c=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!u,n)}),s(t,l,!1,!0),a[l]=c,t}},function(t,e,n){var r=n(80),i=Math.floor,o=function(t,e){var n=t.length,c=i(n/2);return n<8?s(t,e):a(t,o(r(t,0,c),e),o(r(t,c),e),e)},s=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,o=n.length,s=0,a=0;s<i||a<o;)t[s+a]=s<i&&a<o?r(e[s],n[a])<=0?e[s++]:n[a++]:s<i?e[s++]:n[a++];return t};t.exports=o},function(t,e,n){var r=n(45).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(1),i=n(68),o=n(75),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+" is not a constructor")}},function(t,e,n){var r=n(2),i=n(32),o=n(10),s=n(102),a=n(19),c=r(s),u=r("".slice),l=Math.ceil,h=function(t){return function(e,n,r){var s,h,f=o(a(e)),d=i(n),p=f.length,g=void 0===r?" ":o(r);return d<=p||""==g?f:((h=c(g,l((s=d-p)/g.length))).length>s&&(h=u(h,0,s)),t?f+h:h+f)}};t.exports={start:h(!1),end:h(!0)}},function(t,e,n){var r=n(3);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(7),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r,i,o,s,a=n(1),c=n(33),u=n(42),l=n(9),h=n(14),f=n(3),d=n(155),p=n(59),g=n(91),m=n(182),v=n(60),y=a.setImmediate,b=a.clearImmediate,w=a.process,E=a.Dispatch,T=a.Function,S=a.MessageChannel,x=a.String,A=0,I={};try{r=a.location}catch(t){}var k=function(t){if(h(I,t)){var e=I[t];delete I[t],e()}},C=function(t){return function(){k(t)}},R=function(t){k(t.data)},O=function(t){a.postMessage(x(t),r.protocol+"//"+r.host)};y&&b||(y=function(t){var e=p(arguments,1);return I[++A]=function(){c(l(t)?t:T(t),void 0,e)},i(A),A},b=function(t){delete I[t]},v?i=function(t){w.nextTick(C(t))}:E&&E.now?i=function(t){E.now(C(t))}:S&&!m?(s=(o=new S).port2,o.port1.onmessage=R,i=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!f(O)?(i=O,a.addEventListener("message",R,!1)):i="onreadystatechange"in g("script")?function(t){d.appendChild(g("script")).onreadystatechange=function(){d.removeChild(this),k(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:y,clear:b}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=n(3),i=n(1).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){"use strict";var r=n(0),i=n(111);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(1),i=n(87),o=r.TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(8)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var r=n(67).PROPER,i=n(3),o=n(107);t.exports=function(t){return i((function(){return!!o[t]()||""!==""[t]()||r&&o[t].name!==t}))}},function(t,e,n){var r=n(1),i=n(3),o=n(98),s=n(11).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,c=r.Int8Array;t.exports=!s||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!o((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||i((function(){return 1!==new c(new a(2),1,void 0).length}))},function(t,e,n){var r=n(465),i=n(466),o=n(467),s=n(468);t.exports=function(t){return r(t)||i(t)||o(t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(119);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(1),i=n(13),o=n(9),s=n(7),a=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!s(r=i(n,t)))return r;if(o(n=t.valueOf)&&!s(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!s(r=i(n,t)))return r;throw a("Can't convert object to primitive value")}},function(t,e,n){var r=n(6),i=n(3),o=n(91);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(1),i=n(9),o=n(92),s=r.WeakMap;t.exports=i(s)&&/native code/.test(o(s))},function(t,e,n){var r=n(2),i=n(14),o=n(28),s=n(77).indexOf,a=n(76),c=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&c(l,n);for(;e.length>u;)i(r,n=e[u++])&&(~s(l,n)||c(l,n));return l}},function(t,e,n){var r=n(18);t.exports=r("document","documentElement")},function(t,e,n){var r=n(8);e.f=r},function(t,e,n){var r=n(1);t.exports=r},function(t,e,n){"use strict";var r=n(18),i=n(14),o=n(27),s=n(31),a=n(43),c=n(94),u=n(69),l=n(82),h=n(160),f=n(96),d=n(127),p=n(22);t.exports=function(t,e,n,g){var m=g?2:1,v=t.split("."),y=v[v.length-1],b=r.apply(null,v);if(b){var w=b.prototype;if(!p&&i(w,"cause")&&delete w.cause,!n)return b;var E=r("Error"),T=e((function(t,e){var n=l(g?e:t,void 0),r=g?new b(t):new b;return void 0!==n&&o(r,"message",n),d&&o(r,"stack",f(r.stack,2)),this&&s(w,this)&&u(r,this,T),arguments.length>m&&h(r,arguments[m]),r}));if(T.prototype=w,"Error"!==y&&(a?a(T,E):c(T,E,{name:!0})),c(T,b),!p)try{w.name!==y&&o(w,"name",y),w.constructor=T}catch(t){}return T}}},function(t,e,n){var r=n(1),i=n(9),o=r.String,s=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw s("Can't set "+o(t)+" as a prototype")}},function(t,e,n){var r=n(7),i=n(27);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},function(t,e,n){"use strict";var r=n(6),i=n(3),o=n(5),s=n(34),a=n(82),c=Error.prototype.toString,u=i((function(){if(r){var t=s(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==c.call(t))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));t.exports=u?function(){var t=o(this),e=a(t.name,"Error"),n=a(t.message);return e?n?e+": "+n:e:n}:c},function(t,e,n){var r=n(13),i=n(5),o=n(46);t.exports=function(t,e,n){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw n;return n}s=r(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw n;if(a)throw s;return i(s),n}},function(t,e,n){"use strict";var r=n(15),i=n(47),o=n(16),s=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n),c=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,h=s((void 0===l?a:i(l,a))-u,a-c),f=1;for(u<c&&c<u+h&&(f=-1,u+=h-1,c+=h-1);h-- >0;)u in n?n[c]=n[u]:delete n[c],c+=f,u+=f;return n}},function(t,e,n){"use strict";var r=n(1),i=n(58),o=n(16),s=n(42),a=r.TypeError,c=function(t,e,n,r,u,l,h,f){for(var d,p,g=u,m=0,v=!!h&&s(h,f);m<r;){if(m in n){if(d=v?v(n[m],m,e):n[m],l>0&&i(d))p=o(d),g=c(t,e,d,p,g,l-1)-1;else{if(g>=9007199254740991)throw a("Exceed the acceptable array length");t[g]=d}g++}m++}return g};t.exports=c},function(t,e,n){"use strict";var r=n(23).forEach,i=n(51)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(1),i=n(42),o=n(13),s=n(15),a=n(235),c=n(129),u=n(68),l=n(16),h=n(48),f=n(97),d=n(84),p=r.Array;t.exports=function(t){var e=s(t),n=u(this),r=arguments.length,g=r>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,r>2?arguments[2]:void 0));var v,y,b,w,E,T,S=d(e),x=0;if(!S||this==p&&c(S))for(v=l(e),y=n?new this(v):p(v);v>x;x++)T=m?g(e[x],x):e[x],h(y,x,T);else for(E=(w=f(e,S)).next,y=n?new this:[];!(b=o(E,w)).done;x++)T=m?a(w,g,[b.value,x],!0):b.value,h(y,x,T);return y.length=x,y}},function(t,e,n){"use strict";var r,i,o,s=n(3),a=n(9),c=n(34),u=n(40),l=n(17),h=n(8),f=n(22),d=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):p=!0),null==r||s((function(){var t={};return r[d].call(t)!==t}))?r={}:f&&(r=c(r)),a(r[d])||l(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){"use strict";var r=n(33),i=n(28),o=n(21),s=n(16),a=n(51),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),f=l||!h;t.exports=f?function(t){if(l)return r(u,this,arguments)||0;var e=i(this),n=s(e),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},function(t,e,n){var r=n(45).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(45);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(1),i=n(21),o=n(32),s=r.RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=o(e);if(e!==n)throw s("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(26),s=n(7),a=n(14),c=n(59),u=r.Function,l=i([].concat),h=i([].join),f={},d=function(t,e,n){if(!a(f,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";f[e]=u("C,a","return new C("+h(r,",")+")")}return f[e](t,n)};t.exports=u.bind||function(t){var e=o(this),n=e.prototype,r=c(arguments,1),i=function(){var n=l(r,c(arguments));return this instanceof i?d(e,n.length,n):e.apply(t,n)};return s(n)&&(i.prototype=n),i}},function(t,e,n){"use strict";var r=n(12).f,i=n(34),o=n(71),s=n(42),a=n(44),c=n(49),u=n(131),l=n(70),h=n(6),f=n(61).fastKey,d=n(20),p=d.set,g=d.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,r){a(t,d),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=r&&c(r,t[u],{that:t,AS_ENTRIES:n})})),d=l.prototype,m=g(e),v=function(t,e,n){var r,i,o=m(t),s=y(t,e);return s?s.value=n:(o.last=s={index:i=f(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),h?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},y=function(t,e){var n,r=m(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(d,{clear:function(){for(var t=m(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=m(this),n=y(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),h?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=m(this),r=s(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),o(d,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),h&&r(d,"size",{get:function(){return m(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),o=g(r);u(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e){var n=Math.log,r=Math.LOG10E;t.exports=Math.log10||function(t){return n(t)*r}},function(t,e,n){var r=n(1),i=n(3),o=n(2),s=n(10),a=n(73).trim,c=n(107),u=o("".charAt),l=r.parseFloat,h=r.Symbol,f=h&&h.iterator,d=1/l(c+"-0")!=-1/0||f&&!i((function(){l(Object(f))}));t.exports=d?function(t){var e=a(s(t)),n=l(e);return 0===n&&"-"==u(e,0)?-0:n}:l},function(t,e,n){var r=n(1),i=n(3),o=n(2),s=n(10),a=n(73).trim,c=n(107),u=r.parseInt,l=r.Symbol,h=l&&l.iterator,f=/^[+-]?0x/i,d=o(f.exec),p=8!==u(c+"08")||22!==u(c+"0x16")||h&&!i((function(){u(Object(h))}));t.exports=p?function(t,e){var n=a(s(t));return u(n,e>>>0||(d(f,n)?16:10))}:u},function(t,e,n){"use strict";var r=n(6),i=n(2),o=n(13),s=n(3),a=n(79),c=n(124),u=n(89),l=n(15),h=n(74),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||s((function(){if(r&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||"abcdefghijklmnopqrst"!=a(f({},e)).join("")}))?function(t,e){for(var n=l(t),i=arguments.length,s=1,f=c.f,d=u.f;i>s;)for(var g,m=h(arguments[s++]),v=f?p(a(m),f(m)):a(m),y=v.length,b=0;y>b;)g=v[b++],r&&!o(d,m,g)||(n[g]=m[g]);return n}:f},function(t,e,n){var r=n(6),i=n(2),o=n(79),s=n(28),a=i(n(89).f),c=i([].push),u=function(t){return function(e){for(var n,i=s(e),u=o(i),l=u.length,h=0,f=[];l>h;)n=u[h++],r&&!a(i,n)||c(f,t?[n,i[n]]:i[n]);return f}};t.exports={entries:u(!0),values:u(!1)}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(1);t.exports=r.Promise},function(t,e,n){var r=n(45);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){var r,i,o,s,a,c,u,l,h=n(1),f=n(42),d=n(24).f,p=n(141).set,g=n(182),m=n(339),v=n(340),y=n(60),b=h.MutationObserver||h.WebKitMutationObserver,w=h.document,E=h.process,T=h.Promise,S=d(h,"queueMicrotask"),x=S&&S.value;x||(r=function(){var t,e;for(y&&(t=E.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},g||y||v||!b||!w?!m&&T&&T.resolve?((u=T.resolve(void 0)).constructor=T,l=f(u.then,u),s=function(){l(r)}):y?s=function(){E.nextTick(r)}:(p=f(p,h),s=function(){p(r)}):(a=!0,c=w.createTextNode(""),new b(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),t.exports=x||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(5),i=n(7),o=n(109);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(14);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){var r=n(3),i=n(1).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var r=n(112).charAt,i=n(10),o=n(20),s=n(131),a=o.set,c=o.getterFor("String Iterator");s(String,"String",(function(t){a(this,{type:"String Iterator",string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(45);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){var r=n(2),i=n(15),o=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,h,f){var d=n+t.length,p=r.length,g=l;return void 0!==h&&(h=i(h),g=u),a(f,g,(function(i,a){var u;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":u=h[c(a,1,-1)];break;default:var l=+a;if(0===l)return i;if(l>p){var f=o(l/10);return 0===f?i:f<=p?void 0===r[f-1]?s(a,1):r[f-1]+s(a,1):i}u=r[l-1]}return void 0===u?"":u}))}},function(t,e,n){var r=n(1),i=n(401),o=r.RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw o("Wrong offset");return n}},function(t,e,n){var r=n(42),i=n(13),o=n(136),s=n(15),a=n(16),c=n(97),u=n(84),l=n(129),h=n(11).aTypedArrayConstructor;t.exports=function(t){var e,n,f,d,p,g,m=o(this),v=s(t),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,E=u(v);if(E&&!l(E))for(g=(p=c(v,E)).next,v=[];!(d=i(g,p)).done;)v.push(d.value);for(w&&y>2&&(b=r(b,arguments[2])),n=a(v),f=new(h(m))(n),e=0;n>e;e++)f[e]=w?b(v[e],e):v[e];return f}},function(t,e,n){"use strict";var r=n(2),i=n(71),o=n(61).getWeakData,s=n(5),a=n(7),c=n(44),u=n(49),l=n(23),h=n(14),f=n(20),d=f.set,p=f.getterFor,g=l.find,m=l.findIndex,v=r([].splice),y=0,b=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},E=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=E(this,t);if(e)return e[1]},has:function(t){return!!E(this,t)},set:function(t,e){var n=E(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&v(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var l=t((function(t,i){c(t,f),d(t,{type:e,id:y++,frozen:void 0}),null!=i&&u(i,t[r],{that:t,AS_ENTRIES:n})})),f=l.prototype,g=p(e),m=function(t,e,n){var r=g(t),i=o(s(e),!0);return!0===i?b(r).set(e,n):i[r.id]=n,t};return i(f,{delete:function(t){var e=g(this);if(!a(t))return!1;var n=o(t);return!0===n?b(e).delete(t):n&&h(n,e.id)&&delete n[e.id]},has:function(t){var e=g(this);if(!a(t))return!1;var n=o(t);return!0===n?b(e).has(t):n&&h(n,e.id)}}),i(f,n?{get:function(t){var e=g(this);if(a(t)){var n=o(t);return!0===n?b(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),l}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(91)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},function(t,e){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},function(t,e,n){var r=n(3),i=n(8),o=n(22),s=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";n(99);var r=n(0),i=n(1),o=n(18),s=n(13),a=n(2),c=n(196),u=n(17),l=n(71),h=n(39),f=n(132),d=n(20),p=n(44),g=n(9),m=n(14),v=n(42),y=n(56),b=n(5),w=n(7),E=n(10),T=n(34),S=n(38),x=n(97),A=n(84),I=n(8),k=n(133),C=I("iterator"),R=d.set,O=d.getterFor("URLSearchParams"),_=d.getterFor("URLSearchParamsIterator"),N=o("fetch"),D=o("Request"),M=o("Headers"),L=D&&D.prototype,P=M&&M.prototype,j=i.RegExp,F=i.TypeError,U=i.decodeURIComponent,V=i.encodeURIComponent,B=a("".charAt),q=a([].join),H=a([].push),z=a("".replace),G=a([].shift),W=a([].splice),$=a("".split),K=a("".slice),Y=/\+/g,X=Array(4),Q=function(t){return X[t-1]||(X[t-1]=j("((?:%[\\da-f]{2}){"+t+"})","gi"))},J=function(t){try{return U(t)}catch(e){return t}},Z=function(t){var e=z(t,Y," "),n=4;try{return U(e)}catch(t){for(;n;)e=z(e,Q(n--),J);return e}},tt=/[!'()~]|%20/g,et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nt=function(t){return et[t]},rt=function(t){return z(V(t),tt,nt)},it=function(t,e){if(t<e)throw F("Not enough arguments")},ot=f((function(t,e){R(this,{type:"URLSearchParamsIterator",iterator:x(O(t).entries),kind:e})}),"Iterator",(function(){var t=_(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),st=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===B(t,0)?K(t,1):t:E(t)))};st.prototype={type:"URLSearchParams",bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,a,c,u=A(t);if(u)for(n=(e=x(t,u)).next;!(r=s(n,e)).done;){if(o=(i=x(b(r.value))).next,(a=s(o,i)).done||(c=s(o,i)).done||!s(o,i).done)throw F("Expected sequence with length 2");H(this.entries,{key:E(a.value),value:E(c.value)})}else for(var l in t)m(t,l)&&H(this.entries,{key:l,value:E(t[l])})},parseQuery:function(t){if(t)for(var e,n,r=$(t,"&"),i=0;i<r.length;)(e=r[i++]).length&&(n=$(e,"="),H(this.entries,{key:Z(G(n)),value:Z(q(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],H(n,rt(t.key)+"="+rt(t.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var at=function(){p(this,ct);var t=arguments.length>0?arguments[0]:void 0;R(this,new st(t))},ct=at.prototype;if(l(ct,{append:function(t,e){it(arguments.length,2);var n=O(this);H(n.entries,{key:E(t),value:E(e)}),n.updateURL()},delete:function(t){it(arguments.length,1);for(var e=O(this),n=e.entries,r=E(t),i=0;i<n.length;)n[i].key===r?W(n,i,1):i++;e.updateURL()},get:function(t){it(arguments.length,1);for(var e=O(this).entries,n=E(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){it(arguments.length,1);for(var e=O(this).entries,n=E(t),r=[],i=0;i<e.length;i++)e[i].key===n&&H(r,e[i].value);return r},has:function(t){it(arguments.length,1);for(var e=O(this).entries,n=E(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){it(arguments.length,1);for(var n,r=O(this),i=r.entries,o=!1,s=E(t),a=E(e),c=0;c<i.length;c++)(n=i[c]).key===s&&(o?W(i,c--,1):(o=!0,n.value=a));o||H(i,{key:s,value:a}),r.updateURL()},sort:function(){var t=O(this);k(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=O(this).entries,r=v(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new ot(this,"keys")},values:function(){return new ot(this,"values")},entries:function(){return new ot(this,"entries")}},{enumerable:!0}),u(ct,C,ct.entries,{name:"entries"}),u(ct,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),h(at,"URLSearchParams"),r({global:!0,forced:!c},{URLSearchParams:at}),!c&&g(M)){var ut=a(P.has),lt=a(P.set),ht=function(t){if(w(t)){var e,n=t.body;if("URLSearchParams"===y(n))return e=t.headers?new M(t.headers):new M,ut(e,"content-type")||lt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(t,{body:S(0,E(n)),headers:S(0,e)})}return t};if(g(N)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return N(t,arguments.length>1?ht(arguments[1]):{})}}),g(D)){var ft=function(t){return p(this,L),new D(t,arguments.length>1?ht(arguments[1]):{})};L.constructor=ft,ft.prototype=L,r({global:!0,forced:!0},{Request:ft})}}t.exports={URLSearchParams:at,getState:O}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),s=new S(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,s),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};a(p,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(x([])));m&&m!==e&&n.call(m,i)&&(p=m);var v=d.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function s(){return new e((function(r,s){!function r(i,o,s,a){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,a)}))}a(c.arg)}(i,o,r,s)}))}return r=r?r.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=d,a(v,"constructor",d),a(d,"constructor",f),f.displayName=a(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Ts})),n.d(e,"b",(function(){return Po})),n.d(e,"c",(function(){return ws})),n.d(e,"d",(function(){return Uo})),n.d(e,"e",(function(){return Es}));var r=n(37),i=n(63),o=n(41),s=n(4),a=n(25);const c="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}u.UNAUTHENTICATED=new u(null),u.GOOGLE_CREDENTIALS=new u("google-credentials-uid"),u.FIRST_PARTY=new u("first-party-uid"),u.MOCK_USER=new u("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let l="9.6.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h=new o.b("@firebase/firestore");function f(){return h.logLevel}function d(t,...e){if(h.logLevel<=o.a.DEBUG){const n=e.map(m);h.debug(`Firestore (${l}): ${t}`,...n)}}function p(t,...e){if(h.logLevel<=o.a.ERROR){const n=e.map(m);h.error(`Firestore (${l}): ${t}`,...n)}}function g(t,...e){if(h.logLevel<=o.a.WARN){const n=e.map(m);h.warn(`Firestore (${l}): ${t}`,...n)}}function m(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t="Unexpected state"){const e=`FIRESTORE (${l}) INTERNAL ASSERTION FAILED: `+t;throw p(e),new Error(e)}function y(t,e){t||v()}function b(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+t)}}class x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(u.UNAUTHENTICATED))}shutdown(){}}class A{constructor(t){this.t=t,this.currentUser=u.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new T;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new T,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const e=i;t.enqueueRetryable(async()=>{await e.promise,await r(this.currentUser)})},s=t=>{d("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(t=>s(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(d("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new T)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(d("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(y("string"==typeof e.accessToken),new S(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return y(null===t||"string"==typeof t),new u(t)}}class I{constructor(t,e,n){this.type="FirstParty",this.user=u.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class k{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new I(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(u.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=n=>{t.enqueueRetryable(()=>(t=>(null!=t.error&&d("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: "+t.error.message),e(t.token)))(n))};const n=t=>{d("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit(t=>n(t)),setTimeout(()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?n(t):d("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(y("string"==typeof t.token),new C(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class O{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.p(t),this.T=t=>e.writeSequenceNumber(t))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */O.I=-1;class N{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=_(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function D(t,e){return t<e?-1:t>e?1:0}function M(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class L{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return L.fromMillis(Date.now())}static fromDate(t){return L.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new L(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?D(this.nanoseconds,t.nanoseconds):D(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(t){this.timestamp=t}static fromTimestamp(t){return new P(t)}static min(){return new P(new L(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function F(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===V.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof V?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class B extends V{construct(t,e,n){return new B(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new E(w.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new B(e)}static emptyPath(){return new B([])}}const q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class H extends V{construct(t,e,n){return new H(t,e,n)}static isValidIdentifier(t){return q.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),H.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new H(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new E(w.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new E(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new E(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new E(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new H(e)}static emptyPath(){return new H([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.fields=t,t.sort(H.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return M(this.fields,t.fields,(t,e)=>t.isEqual(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class G{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new G(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new G(e)}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return D(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}G.EMPTY_BYTE_STRING=new G("");const W=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $(t){if(y(!!t),"string"==typeof t){let e=0;const n=W.exec(t);if(y(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:K(t.seconds),nanos:K(t.nanos)}}function K(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Y(t){return"string"==typeof t?G.fromBase64String(t):G.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Q(t){const e=$(t.mapValue.fields.__local_write_time__.timestampValue);return new L(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t){return null==t}function Z(t){return 0===t&&1/t==-1/0}function tt(t){return"number"==typeof t&&Number.isInteger(t)&&!Z(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.path=t}static fromPath(t){return new et(B.fromString(t))}static fromName(t){return new et(B.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===B.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return B.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new B(t.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X(t)?4:10:v()}function rt(t,e){const n=nt(t);if(n!==nt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Q(t).isEqual(Q(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=$(t.timestampValue),r=$(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Y(t.bytesValue).isEqual(Y(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return K(t.geoPointValue.latitude)===K(e.geoPointValue.latitude)&&K(t.geoPointValue.longitude)===K(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return K(t.integerValue)===K(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=K(t.doubleValue),r=K(e.doubleValue);return n===r?Z(n)===Z(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return M(t.arrayValue.values||[],e.arrayValue.values||[],rt);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(j(n)!==j(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!rt(n[t],r[t])))return!1;return!0}(t,e);default:return v()}}function it(t,e){return void 0!==(t.values||[]).find(t=>rt(t,e))}function ot(t,e){const n=nt(t),r=nt(e);if(n!==r)return D(n,r);switch(n){case 0:return 0;case 1:return D(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=K(t.integerValue||t.doubleValue),r=K(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return st(t.timestampValue,e.timestampValue);case 4:return st(Q(t),Q(e));case 5:return D(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Y(t),r=Y(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=D(n[t],r[t]);if(0!==e)return e}return D(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=D(K(t.latitude),K(e.latitude));return 0!==n?n:D(K(t.longitude),K(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=ot(n[t],r[t]);if(e)return e}return D(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let t=0;t<r.length&&t<o.length;++t){const e=D(r[t],o[t]);if(0!==e)return e;const s=ot(n[r[t]],i[o[t]]);if(0!==s)return s}return D(r.length,o.length)}(t.mapValue,e.mapValue);default:throw v()}}function st(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return D(t,e);const n=$(t),r=$(e),i=D(n.seconds,r.seconds);return 0!==i?i:D(n.nanos,r.nanos)}function at(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const e=$(t);return`time(${e.seconds},${e.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Y(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,et.fromName(r).toString()):"geoPointValue"in e?`geo(${(n=e.geoPointValue).latitude},${n.longitude})`:"arrayValue"in e?function(e){let n="[",r=!0;for(const i of e.values||[])r?r=!1:n+=",",n+=t(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+=`${o}:${t(e.fields[o])}`;return r+"}"}(e.mapValue):v();var n,r}(t)}function ct(t){return!!t&&"integerValue"in t}function ut(t){return!!t&&"arrayValue"in t}function lt(t){return!!t&&"nullValue"in t}function ht(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ft(t){return!!t&&"mapValue"in t}function dt(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return F(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=dt(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dt(t.arrayValue.values[n]);return e}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.value=t}static empty(){return new pt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!ft(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=dt(e)}setAll(t){let e=H.emptyPath(),n={},r=[];t.forEach((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=dt(t):r.push(i.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());ft(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rt(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];ft(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){F(e,(e,n)=>t[e]=n);for(const e of n)delete t[e]}clone(){return new pt(dt(this.value))}}function gt(t){const e=[];return F(t.fields,(t,n)=>{const r=new H([t]);if(ft(n)){const t=gt(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new z(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class mt{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new mt(t,0,P.min(),pt.empty(),0)}static newFoundDocument(t,e,n){return new mt(t,1,e,n,0)}static newNoDocument(t,e){return new mt(t,2,e,pt.empty(),0)}static newUnknownDocument(t,e){return new mt(t,3,e,pt.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof mt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new mt(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t,e=null,n=[],r=[],i=null,o=null,s=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.R=null}}function yt(t,e=null,n=[],r=[],i=null,o=null,s=null){return new vt(t,e,n,r,i,o,s)}function bt(t){const e=b(t);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function(t){return t.field.canonicalString()+t.op.toString()+at(t.value)}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),J(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Nt(e.startAt)),e.endAt&&(t+="|ub:",t+=Nt(e.endAt)),e.R=t}return e.R}function wt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mt(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!rt(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pt(t.startAt,e.startAt)&&Pt(t.endAt,e.endAt)}function Et(t){return et.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Tt extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,n):new St(t,e,n):"array-contains"===e?new kt(t,n):"in"===e?new Ct(t,n):"not-in"===e?new Rt(t,n):"array-contains-any"===e?new Ot(t,n):new Tt(t,e,n)}static P(t,e,n){return"in"===e?new xt(t,n):new At(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(ot(e,this.value)):null!==e&&nt(this.value)===nt(e)&&this.v(ot(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class St extends Tt{constructor(t,e,n){super(t,e,n),this.key=et.fromName(n.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.v(e)}}class xt extends Tt{constructor(t,e){super(t,"in",e),this.keys=It("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class At extends Tt{constructor(t,e){super(t,"not-in",e),this.keys=It("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function It(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>et.fromName(t.referenceValue))}class kt extends Tt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ut(e)&&it(e.arrayValue,this.value)}}class Ct extends Tt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&it(this.value.arrayValue,e)}}class Rt extends Tt{constructor(t,e){super(t,"not-in",e)}matches(t){if(it(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!it(this.value.arrayValue,e)}}class Ot extends Tt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ut(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>it(this.value.arrayValue,t))}}class _t{constructor(t,e){this.position=t,this.before=e}}function Nt(t){return`${t.before?"b":"a"}:${t.position.map(t=>at(t)).join(",")}`}class Dt{constructor(t,e="asc"){this.field=t,this.dir=e}}function Mt(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lt(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?et.comparator(et.fromName(s.referenceValue),n.key):ot(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Pt(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rt(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,e=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function Ft(t,e,n,r,i,o,s,a){return new jt(t,e,n,r,i,o,s,a)}function Ut(t){return new jt(t)}function Vt(t){return!J(t.limit)&&"F"===t.limitType}function Bt(t){return!J(t.limit)&&"L"===t.limitType}function qt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ht(t){for(const e of t.filters)if(e.V())return e.field;return null}function zt(t){return null!==t.collectionGroup}function Gt(t){const e=b(t);if(null===e.S){e.S=[];const t=Ht(e),n=qt(e);if(null!==t&&null===n)t.isKeyField()||e.S.push(new Dt(t)),e.S.push(new Dt(H.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.S.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Dt(H.keyField(),t))}}}return e.S}function Wt(t){const e=b(t);if(!e.D)if("F"===e.limitType)e.D=yt(e.path,e.collectionGroup,Gt(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of Gt(e)){const e="desc"===n.dir?"asc":"desc";t.push(new Dt(n.field,e))}const n=e.endAt?new _t(e.endAt.position,!e.endAt.before):null,r=e.startAt?new _t(e.startAt.position,!e.startAt.before):null;e.D=yt(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.D}function $t(t,e,n){return new jt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kt(t,e){return wt(Wt(t),Wt(e))&&t.limitType===e.limitType}function Yt(t){return`${bt(Wt(t))}|lt:${t.limitType}`}function Xt(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>{return`${(e=t).field.canonicalString()} ${e.op} ${at(e.value)}`;var e}).join(", ")}]`),J(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: "+Nt(t.startAt)),t.endAt&&(e+=", endAt: "+Nt(t.endAt)),`Target(${e})`}(Wt(t))}; limitType=${t.limitType})`}function Qt(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):et.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Lt(t.startAt,Gt(t),e))&&(!t.endAt||!Lt(t.endAt,Gt(t),e))}(t,e)}function Jt(t){return(e,n)=>{let r=!1;for(const i of Gt(t)){const t=Zt(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Zt(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ot(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Z(e)?"-0":e}}function ee(t){return{integerValue:""+t}}function ne(t,e){return tt(e)?ee(e):te(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(){this._=void 0}}function ie(t,e,n){return t instanceof ae?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ce?ue(t,e):t instanceof le?he(t,e):function(t,e){const n=se(t,e),r=de(n)+de(t.N);return ct(n)&&ct(t.N)?ee(r):te(t.k,r)}(t,e)}function oe(t,e,n){return t instanceof ce?ue(t,e):t instanceof le?he(t,e):n}function se(t,e){return t instanceof fe?ct(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class ae extends re{}class ce extends re{constructor(t){super(),this.elements=t}}function ue(t,e){const n=pe(e);for(const e of t.elements)n.some(t=>rt(t,e))||n.push(e);return{arrayValue:{values:n}}}class le extends re{constructor(t){super(),this.elements=t}}function he(t,e){let n=pe(e);for(const e of t.elements)n=n.filter(t=>!rt(t,e));return{arrayValue:{values:n}}}class fe extends re{constructor(t,e){super(),this.k=t,this.N=e}}function de(t){return K(t.integerValue||t.doubleValue)}function pe(t){return ut(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.version=t,this.transformResults=e}}class me{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new me}static exists(t){return new me(void 0,t)}static updateTime(t){return new me(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ve(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ye{}function be(t,e,n){t instanceof xe?function(t,e,n){const r=t.value.clone(),i=ke(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ae?function(t,e,n){if(!ve(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=ke(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ie(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function we(t,e,n){t instanceof xe?function(t,e,n){if(!ve(t.precondition,e))return;const r=t.value.clone(),i=Ce(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Se(e),r).setHasLocalMutations()}(t,e,n):t instanceof Ae?function(t,e,n){if(!ve(t.precondition,e))return;const r=Ce(t.fieldTransforms,n,e),i=e.data;i.setAll(Ie(t)),i.setAll(r),e.convertToFoundDocument(Se(e),i).setHasLocalMutations()}(t,e,n):function(t,e){ve(t.precondition,e)&&e.convertToNoDocument(P.min())}(t,e)}function Ee(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=se(r.transform,t||null);null!=i&&(null==n&&(n=pt.empty()),n.set(r.field,i))}return n||null}function Te(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&M(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ce&&e instanceof ce||t instanceof le&&e instanceof le?M(t.elements,e.elements,rt):t instanceof fe&&e instanceof fe?rt(t.N,e.N):t instanceof ae&&e instanceof ae}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Se(t){return t.isFoundDocument()?t.version:P.min()}class xe extends ye{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ae extends ye{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Ie(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ke(t,e,n){const r=new Map;y(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,oe(s,a,n[i]))}return r}function Ce(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,ie(t,o,e))}return r}class Re extends ye{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Oe extends ye{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,De;function Me(t){switch(t){default:return v();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Le(t){if(void 0===t)return p("GRPC error has no .code"),w.UNKNOWN;switch(t){case Ne.OK:return w.OK;case Ne.CANCELLED:return w.CANCELLED;case Ne.UNKNOWN:return w.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return w.INTERNAL;case Ne.UNAVAILABLE:return w.UNAVAILABLE;case Ne.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ne.NOT_FOUND:return w.NOT_FOUND;case Ne.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ne.ABORTED:return w.ABORTED;case Ne.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ne.DATA_LOSS:return w.DATA_LOSS;default:return v()}}(De=Ne||(Ne={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pe{constructor(t,e){this.comparator=t,this.root=e||Fe.EMPTY}insert(t,e){return new Pe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new Pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new je(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new je(this.root,t,this.comparator,!1)}getReverseIterator(){return new je(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new je(this.root,t,this.comparator,!0)}}class je{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Fe.RED,this.left=null!=r?r:Fe.EMPTY,this.right=null!=i?i:Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Fe(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Fe.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();const t=this.left.check();if(t!==this.right.check())throw v();return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1,Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw v()}get value(){throw v()}get color(){throw v()}get left(){throw v()}get right(){throw v()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Fe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ue{constructor(t){this.comparator=t,this.data=new Pe(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ve(this.data.getIterator())}getIteratorFrom(t){return new Ve(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Ue))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class Ve{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be=new Pe(et.comparator);function qe(){return Be}const He=new Pe(et.comparator);function ze(){return He}const Ge=new Pe(et.comparator);function We(){return Ge}const $e=new Ue(et.comparator);function Ke(...t){let e=$e;for(const n of t)e=e.add(n);return e}const Ye=new Ue(D);function Xe(){return Ye}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,Je.createSynthesizedTargetChangeForCurrentChange(t,e)),new Qe(P.min(),n,Xe(),qe(),Ke())}}class Je{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Je(G.EMPTY_BYTE_STRING,e,Ke(),Ke(),Ke())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,e,n,r){this.$=t,this.removedTargetIds=e,this.key=n,this.F=r}}class tn{constructor(t,e){this.targetId=t,this.O=e}}class en{constructor(t,e,n=G.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class nn{constructor(){this.M=0,this.L=sn(),this.B=G.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=Ke(),e=Ke(),n=Ke();return this.L.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}}),new Je(this.B,this.U,t,e,n)}H(){this.q=!1,this.L=sn()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class rn{constructor(t){this.et=t,this.nt=new Map,this.st=qe(),this.it=on(),this.rt=new Ue(D)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,e=>{const n=this.ht(e);switch(t.state){case 0:this.lt(e)&&n.W(t.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(t.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(e);break;case 3:this.lt(e)&&(n.tt(),n.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),n.W(t.resumeToken));break;default:v()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((t,n)=>{this.lt(n)&&e(n)})}dt(t){const e=t.targetId,n=t.O.count,r=this.wt(e);if(r){const t=r.target;if(Et(t))if(0===n){const n=new et(t.path);this.ct(e,n,mt.newNoDocument(n,P.min()))}else y(1===n);else this._t(e)!==n&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Et(i.target)){const e=new et(i.target.path);null!==this.st.get(e)||this.yt(r,e)||this.ct(r,e,mt.newNoDocument(e,t))}n.j&&(e.set(r,n.G()),n.H())}});let n=Ke();this.it.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.wt(t);return!e||2===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))});const r=new Qe(t,e,this.rt,this.st,n);return this.st=qe(),this.it=on(),this.rt=new Ue(D),r}at(t,e){if(!this.lt(t))return;const n=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,n),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,n){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),n&&(this.st=this.st.insert(e,n))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new nn,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Ue(D),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new nn),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function on(){return new Pe(et.comparator)}function sn(){return new Pe(et.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an={asc:"ASCENDING",desc:"DESCENDING"},cn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class un{constructor(t,e){this.databaseId=t,this.C=e}}function ln(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hn(t,e){return t.C?e.toBase64():e.toUint8Array()}function fn(t,e){return ln(t,e.toTimestamp())}function dn(t){return y(!!t),P.fromTimestamp(function(t){const e=$(t);return new L(e.seconds,e.nanos)}(t))}function pn(t,e){return function(t){return new B(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function gn(t){const e=B.fromString(t);return y(Pn(e)),e}function mn(t,e){return pn(t.databaseId,e.path)}function vn(t,e){const n=gn(e);if(n.get(1)!==t.databaseId.projectId)throw new E(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(En(n))}function yn(t,e){return pn(t.databaseId,e)}function bn(t){const e=gn(t);return 4===e.length?B.emptyPath():En(e)}function wn(t){return new B(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function En(t){return y(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Tn(t,e,n){return{name:mn(t,e),fields:n.value.mapValue.fields}}function Sn(t,e){let n;if(e instanceof xe)n={update:Tn(t,e.key,e.value)};else if(e instanceof Re)n={delete:mn(t,e.key)};else if(e instanceof Ae)n={update:Tn(t,e.key,e.data),updateMask:Ln(e.fieldMask)};else{if(!(e instanceof Oe))return v();n={verify:mn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof ae)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ce)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof le)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fe)return{fieldPath:e.field.canonicalString(),increment:n.N};throw v()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fn(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.precondition)),n}function xn(t,e){return{documents:[yn(t,e.path)]}}function An(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=yn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yn(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map(t=>function(t){if("=="===t.op){if(ht(t.value))return{unaryFilter:{field:_n(t.field),op:"IS_NAN"}};if(lt(t.value))return{unaryFilter:{field:_n(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ht(t.value))return{unaryFilter:{field:_n(t.field),op:"IS_NOT_NAN"}};if(lt(t.value))return{unaryFilter:{field:_n(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_n(t.field),op:On(t.op),value:t.value}}}(t));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const o=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:_n(t.field),direction:Rn(t.dir)}}(t))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(t,e){return t.C||J(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=kn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kn(e.endAt)),n}function In(t){let e=bn(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){y(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Mn(e)]:void 0!==e.fieldFilter?[Dn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>t(e)).reduce((t,e)=>t.concat(e)):v():[]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(t=>function(t){return new Dt(Nn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,J(e)?null:e}(n.limit));let c=null;n.startAt&&(c=Cn(n.startAt));let u=null;return n.endAt&&(u=Cn(n.endAt)),Ft(e,i,s,o,a,"F",c,u)}function kn(t){return{before:t.before,values:t.position}}function Cn(t){const e=!!t.before,n=t.values||[];return new _t(n,e)}function Rn(t){return an[t]}function On(t){return cn[t]}function _n(t){return{fieldPath:t.canonicalString()}}function Nn(t){return H.fromServerFormat(t.fieldPath)}function Dn(t){return Tt.create(Nn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mn(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Nn(t.unaryFilter.field);return Tt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Nn(t.unaryFilter.field);return Tt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nn(t.unaryFilter.field);return Tt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Nn(t.unaryFilter.field);return Tt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return v()}}function Ln(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Un(e)),e=Fn(t.get(n),e);return Un(e)}function Fn(t,e){let n=e;const r=t.length;for(let e=0;e<r;e++){const r=t.charAt(e);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Un(t){return t+""}class Vn{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}Vn.store="owner",Vn.key="owner";class Bn{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}Bn.store="mutationQueues",Bn.keyPath="userId";class qn{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}qn.store="mutations",qn.keyPath="batchId",qn.userMutationsIndex="userMutationsIndex",qn.userMutationsKeyPath=["userId","batchId"];class Hn{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,jn(e)]}static key(t,e,n){return[t,jn(e),n]}}Hn.store="documentMutations",Hn.PLACEHOLDER=new Hn;class zn{constructor(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}zn.store="remoteDocuments",zn.readTimeIndex="readTimeIndex",zn.readTimeIndexPath="readTime",zn.collectionReadTimeIndex="collectionReadTimeIndex",zn.collectionReadTimeIndexPath=["parentPath","readTime"];class Gn{constructor(t){this.byteSize=t}}Gn.store="remoteDocumentGlobal",Gn.key="remoteDocumentGlobalKey";class Wn{constructor(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}Wn.store="targets",Wn.keyPath="targetId",Wn.queryTargetsIndexName="queryTargetsIndex",Wn.queryTargetsKeyPath=["canonicalId","targetId"];class $n{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}$n.store="targetDocuments",$n.keyPath=["targetId","path"],$n.documentTargetsIndex="documentTargetsIndex",$n.documentTargetsKeyPath=["path","targetId"];class Kn{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Kn.key="targetGlobalKey",Kn.store="targetGlobal";class Yn{constructor(t,e){this.collectionId=t,this.parent=e}}Yn.store="collectionParents",Yn.keyPath=["collectionId","parent"];class Xn{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}Xn.store="clientMetadata",Xn.keyPath="clientId";class Qn{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}Qn.store="bundles",Qn.keyPath="bundleId";class Jn{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}Jn.store="namedQueries",Jn.keyPath="name";Bn.store,qn.store,Hn.store,zn.store,Wn.store,Vn.store,Kn.store,$n.store,Xn.store,Gn.store,Yn.store,Qn.store,Jn.store;const Zn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new er((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof er?e:er.resolve(e)}catch(t){return er.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):er.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):er.reject(e)}static resolve(t){return new er((e,n)=>{e(t)})}static reject(t){return new er((e,n)=>{n(t)})}static waitFor(t){return new er((e,n)=>{let r=0,i=0,o=!1;t.forEach(t=>{++r,t.next(()=>{++i,o&&i===r&&e()},t=>n(t))}),o=!0,i===r&&e()})}static or(t){let e=er.resolve(!1);for(const n of t)e=e.next(t=>t?er.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rr{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&be(r,t,n[e])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&we(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&we(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(P.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ke())}isEqual(t){return this.batchId===t.batchId&&M(this.mutations,t.mutations,(t,e)=>Te(t,e))&&M(this.baseMutations,t.baseMutations,(t,e)=>Te(t,e))}}class ir{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){y(t.mutations.length===n.length);let r=We();const i=t.mutations;for(let t=0;t<i.length;t++)r=r.insert(i[t].key,n[t].version);return new ir(t,e,n,r)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,e,n,r,i=P.min(),o=P.min(),s=G.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t){this.Gt=t}}function ar(t){const e=In({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$t(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cr{constructor(){this.zt=new ur}addToCollectionParentIndex(t,e){return this.zt.add(e),er.resolve()}getCollectionParents(t,e){return er.resolve(this.zt.getEntries(e))}}class ur{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ue(B.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Ue(B.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new lr(t,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(41943040,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hr{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new hr(0)}static re(){return new hr(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function fr(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==Zn)throw t;d("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){F(this.inner,(e,n)=>{for(const[e,r]of n)t(e,r)})}isEmpty(){return U(this.inner)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.changes=new dr(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:P.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:mt.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?er.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gr{constructor(t,e,n){this.Je=t,this.An=e,this.Jt=n}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(n=>this.Pn(t,e,n))}Pn(t,e,n){return this.Je.getEntry(t,e).next(t=>{for(const e of n)e.applyToLocalView(t);return t})}bn(t,e){t.forEach((t,n)=>{for(const t of e)t.applyToLocalView(n)})}vn(t,e){return this.Je.getEntries(t,e).next(e=>this.Vn(t,e).next(()=>e))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>this.bn(e,t))}getDocumentsMatchingQuery(t,e,n){return function(t){return et.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Sn(t,e.path):zt(e)?this.Dn(t,e,n):this.Cn(t,e,n)}Sn(t,e){return this.Rn(t,new et(e)).next(t=>{let e=ze();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}Dn(t,e,n){const r=e.collectionGroup;let i=ze();return this.Jt.getCollectionParents(t,r).next(o=>er.forEach(o,o=>{const s=function(t,e){return new jt(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.Cn(t,s,n).next(t=>{t.forEach((t,e)=>{i=i.insert(t,e)})})}).next(()=>i))}Cn(t,e,n){let r,i;return this.Je.getDocumentsMatchingQuery(t,e,n).next(n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(e=>(i=e,this.Nn(t,i,r).next(t=>{r=t;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=mt.newInvalidDocument(n),r=r.insert(n,i)),we(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((t,n)=>{Qt(e,n)||(r=r.remove(t))}),r))}Nn(t,e,n){let r=Ke();for(const t of e)for(const e of t.mutations)e instanceof Ae&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.Je.getEntries(t,r).next(t=>(t.forEach((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))}),i))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.kn=n,this.xn=r}static $n(t,e){let n=Ke(),r=Ke();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new mr(t,e.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(P.min())?this.Mn(t,e):this.On.vn(t,r).next(i=>{const s=this.Ln(e,i);return(Vt(e)||Bt(e))&&this.Bn(e.limitType,s,r,n)?this.Mn(t,e):(f()<=o.a.DEBUG&&d("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xt(e)),this.On.getDocumentsMatchingQuery(t,e,n).next(t=>(s.forEach(e=>{t=t.insert(e.key,e)}),t)))})}Ln(t,e){let n=new Ue(Jt(t));return e.forEach((e,r)=>{Qt(t,r)&&(n=n.add(r))}),n}Bn(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(t,e){return f()<=o.a.DEBUG&&d("QueryEngine","Using full collection scan to execute query:",Xt(e)),this.On.getDocumentsMatchingQuery(t,e,P.min())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,e,n,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new Pe(D),this.Kn=new dr(t=>bt(t),wt),this.jn=P.min(),this.An=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new gr(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function br(t,e,n,r){return new yr(t,e,n,r)}async function wr(t,e){const n=b(t);let r=n.An,i=n.Wn;const o=await n.persistence.runTransaction("Handle user change","readonly",t=>{let o;return n.An.getAllMutationBatches(t).next(s=>(o=s,r=n.persistence.getMutationQueue(e),i=new gr(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t))).next(e=>{const n=[],r=[];let s=Ke();for(const t of o){n.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return i.vn(t,s).next(t=>({Gn:t,removedBatchIds:n,addedBatchIds:r}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),o}function Er(t){const e=b(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function Tr(t,e,n,r,i){let o=Ke();return n.forEach(t=>o=o.add(t)),e.getEntries(t,o).next(t=>{let o=qe();return n.forEach((n,s)=>{const a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(P.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):d("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Sr(t,e){const n=b(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(t,e)))}function xr(t,e){const n=b(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.He.getTargetData(t,e).next(i=>i?(r=i,er.resolve(r)):n.He.allocateTargetId(t).next(i=>(r=new or(e,i,0,t.currentSequenceNumber),n.He.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.qn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(t.targetId,t),n.Kn.set(e,t.targetId)),t})}async function Ar(t,e,n){const r=b(t),i=r.qn.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,t=>r.persistence.referenceDelegate.removeTarget(t,i))}catch(t){if(!nr(t))throw t;d("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}function Ir(t,e,n){const r=b(t);let i=P.min(),o=Ke();return r.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const r=b(t),i=r.Kn.get(n);return void 0!==i?er.resolve(r.qn.get(i)):r.He.getTargetData(e,n)}(r,t,Wt(e)).next(e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(t,e.targetId).next(t=>{o=t})}).next(()=>r.Un.getDocumentsMatchingQuery(t,e,n?i:P.min(),n?o:Ke())).next(t=>({documents:t,zn:o})))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kr{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return er.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var n;return this.Xn.set(e.id,{id:(n=e).id,version:n.version,createTime:dn(n.createTime)}),er.resolve()}getNamedQuery(t,e){return er.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,function(t){return{name:t.name,query:ar(t.bundledQuery),readTime:dn(t.readTime)}}(e)),er.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.ts=new Ue(Rr.es),this.ns=new Ue(Rr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const n=new Rr(t,e);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.os(new Rr(t,e))}cs(t,e){t.forEach(t=>this.removeReference(t,e))}us(t){const e=new et(new B([])),n=new Rr(e,t),r=new Rr(e,t+1),i=[];return this.ns.forEachInRange([n,r],t=>{this.os(t),i.push(t.key)}),i}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new et(new B([])),n=new Rr(e,t),r=new Rr(e,t+1);let i=Ke();return this.ns.forEachInRange([n,r],t=>{i=i.add(t.key)}),i}containsKey(t){const e=new Rr(t,0),n=this.ts.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Rr{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return et.comparator(t.key,e.key)||D(t.fs,e.fs)}static ss(t,e){return D(t.fs,e.fs)||et.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Ue(Rr.es)}checkEmpty(t){return er.resolve(0===this.An.length)}addMutationBatch(t,e,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new rr(i,e,n,r);this.An.push(o);for(const e of r)this.ws=this.ws.add(new Rr(e.key,i)),this.Jt.addToCollectionParentIndex(t,e.key.path.popLast());return er.resolve(o)}lookupMutationBatch(t,e){return er.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.gs(n),i=r<0?0:r;return er.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return er.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return er.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Rr(e,0),r=new Rr(e,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],t=>{const e=this._s(t.fs);i.push(e)}),er.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ue(D);return e.forEach(t=>{const e=new Rr(t,0),r=new Rr(t,Number.POSITIVE_INFINITY);this.ws.forEachInRange([e,r],t=>{n=n.add(t.fs)})}),er.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;et.isDocumentKey(i)||(i=i.child(""));const o=new Rr(new et(i),0);let s=new Ue(D);return this.ws.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.fs)),!0)},o),er.resolve(this.ys(s))}ys(t){const e=[];return t.forEach(t=>{const n=this._s(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){y(0===this.ps(e.batchId,"removed")),this.An.shift();let n=this.ws;return er.forEach(e.mutations,r=>{const i=new Rr(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ws=n})}ee(t){}containsKey(t,e){const n=new Rr(e,0),r=this.ws.firstAfterOrEqual(n);return er.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.An.length,er.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Pe(et.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return er.resolve(n?n.document.clone():mt.newInvalidDocument(e))}getEntries(t,e){let n=qe();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():mt.newInvalidDocument(t))}),er.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=qe();const i=new et(e.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:t,value:{document:i,readTime:s}}=o.getNext();if(!e.path.isPrefixOf(t.path))break;s.compareTo(n)<=0||Qt(e,i)&&(r=r.insert(i.key,i.clone()))}return er.resolve(r)}Es(t,e){return er.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new Nr(this)}getSize(t){return er.resolve(this.size)}}class Nr extends pr{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),er.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this.persistence=t,this.Is=new dr(t=>bt(t),wt),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.As=0,this.Rs=new Cr,this.targetCount=0,this.Ps=hr.ie()}forEachTarget(t,e){return this.Is.forEach((t,n)=>e(n)),er.resolve()}getLastRemoteSnapshotVersion(t){return er.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return er.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),er.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.As&&(this.As=e),er.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new hr(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,er.resolve()}updateTargetData(t,e){return this.ce(e),er.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,er.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Is.forEach((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(t,s.targetId)),r++)}),er.waitFor(i).next(()=>r)}getTargetCount(t){return er.resolve(this.targetCount)}getTargetData(t,e){const n=this.Is.get(e)||null;return er.resolve(n)}addMatchingKeys(t,e,n){return this.Rs.rs(e,n),er.resolve()}removeMatchingKeys(t,e,n){this.Rs.cs(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),er.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),er.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Rs.ls(e);return er.resolve(n)}containsKey(t,e){return er.resolve(this.Rs.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,e){this.bs={},this.Be=new O(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Dr(this),this.Jt=new cr,this.Je=function(t,e){return new _r(t,e)}(this.Jt,t=>this.referenceDelegate.vs(t)),this.k=new sr(e),this.Ye=new kr(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Or(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,n){d("MemoryPersistence","Starting transaction:",t);const r=new Lr(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(t=>this.referenceDelegate.Ss(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Ds(t,e){return er.or(Object.values(this.bs).map(n=>()=>n.containsKey(t,e)))}}class Lr extends tr{constructor(t){super(),this.currentSequenceNumber=t}}class Pr{constructor(t){this.persistence=t,this.Cs=new Cr,this.Ns=null}static ks(t){return new Pr(t)}get xs(){if(this.Ns)return this.Ns;throw v()}addReference(t,e,n){return this.Cs.addReference(n,e),this.xs.delete(n.toString()),er.resolve()}removeReference(t,e,n){return this.Cs.removeReference(n,e),this.xs.add(n.toString()),er.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),er.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(t=>this.xs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.xs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return er.forEach(this.xs,n=>{const r=et.fromPath(n);return this.$s(t,r).next(t=>{t||e.removeEntry(r)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return er.or([()=>er.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.activeTargetIds=Xe()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Fr{constructor(){this.pi=new jr,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,n){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new jr,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{Ei(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.Mi=e+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,n,r,i){const o=this.Ui(t,e);d("RestConnection","Sending: ",o,n);const s={};return this.qi(s,r,i),this.Ki(t,o,s,n).then(t=>(d("RestConnection","Received: ",t),t),e=>{throw g("RestConnection",t+" failed with error: ",e,"url: ",o,"request:",n),e})}ji(t,e,n,r,i){return this.Bi(t,e,n,r,i)}qi(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+l,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}Ui(t,e){const n=Br[t];return`${this.Mi}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,n,r){return new Promise((i,o)=>{const s=new a.g;s.listenOnce(a.c.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case a.a.NO_ERROR:const e=s.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.a.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),o(new E(w.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:const n=s.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const t=s.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(e)>=0?e:w.UNKNOWN}(t.status);o(new E(e,t.message))}else o(new E(w.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new E(w.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{d("Connection",'RPC "'+t+'" completed.')}});const c=JSON.stringify(r);s.send(e,"POST",c,n,15)})}Qi(t,e,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Object(a.h)(),o=Object(a.i)(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new a.d({})),this.qi(c.initMessageHeaders,e,n),Object(s.k)()||Object(s.l)()||Object(s.h)()||Object(s.i)()||Object(s.n)()||Object(s.g)()||(c.httpHeadersOverwriteParam="$httpHeaders");const u=r.join("");d("Connection","Creating WebChannel: "+u,c);const l=i.createWebChannel(u,c);let h=!1,f=!1;const p=new qr({Vi:t=>{f?d("Connection","Not sending because WebChannel is closed:",t):(h||(d("Connection","Opening WebChannel transport."),l.open(),h=!0),d("Connection","WebChannel sending:",t),l.send(t))},Si:()=>l.close()}),m=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return m(l,a.f.EventType.OPEN,()=>{f||d("Connection","WebChannel transport opened.")}),m(l,a.f.EventType.CLOSE,()=>{f||(f=!0,d("Connection","WebChannel transport closed"),p.Fi())}),m(l,a.f.EventType.ERROR,t=>{f||(f=!0,g("Connection","WebChannel transport errored:",t),p.Fi(new E(w.UNAVAILABLE,"The operation could not be completed")))}),m(l,a.f.EventType.MESSAGE,t=>{var e;if(!f){const n=t.data[0];y(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){d("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=Ne[t];if(void 0!==e)return Le(e)}(t),n=i.message;void 0===e&&(e=w.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),f=!0,p.Fi(new E(e,n)),l.close()}else d("Connection","WebChannel received:",n),p.Oi(n)}}),m(o,a.b.STAT_EVENT,t=>{t.stat===a.e.PROXY?d("Connection","Detected buffering proxy"):t.stat===a.e.NOPROXY&&d("Connection","Detected no buffering proxy")}),setTimeout(()=>{p.$i()},0),p}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){return new un(t,!0)}class Wr{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Oe=t,this.timerId=e,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-n);r>0&&d("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,e,n,r,i,o,s,a){this.Oe=t,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Wr(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(t,e){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):e&&e.code===w.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ni(e)}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,n])=>{this.rr===e&&this.Ir(t,n)},e=>{t(()=>{const t=new E(w.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Ar(t)})})}Ir(t,e){const n=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(t=>{n(()=>this.Ar(t))}),this.stream.onMessage(t=>{n(()=>this.onMessage(t))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget(()=>this.rr===t?e():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kr extends $r{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.k=i}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.C?(y(void 0===e||"string"==typeof e),G.fromBase64String(e||"")):(y(void 0===e||e instanceof Uint8Array),G.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?w.UNKNOWN:Le(t.code);return new E(e,t.message||"")}(s);n=new en(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vn(t,r.document.name),o=dn(r.document.updateTime),s=new pt({mapValue:{fields:r.document.fields}}),a=mt.newFoundDocument(i,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ze(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vn(t,r.document),o=r.readTime?dn(r.readTime):P.min(),s=mt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ze([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vn(t,r.document),o=r.removedTargetIds||[];n=new Ze([],o,i,null)}else{if(!("filter"in e))return v();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new _e(r),o=t.targetId;n=new tn(o,i)}}return n}(this.k,t),n=function(t){if(!("targetChange"in t))return P.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?P.min():e.readTime?dn(e.readTime):P.min()}(t);return this.listener.Pr(e,n)}br(t){const e={};e.database=wn(this.k),e.addTarget=function(t,e){let n;const r=e.target;return n=Et(r)?{documents:xn(t,r)}:{query:An(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=hn(t,e.resumeToken):e.snapshotVersion.compareTo(P.min())>0&&(n.readTime=ln(t,e.snapshotVersion.toTimestamp())),n}(this.k,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,t);n&&(e.labels=n),this.gr(e)}vr(t){const e={};e.database=wn(this.k),e.removeTarget=t,this.gr(e)}}class Yr extends $r{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(y(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(t,e){return t&&t.length>0?(y(void 0!==e),t.map(t=>function(t,e){let n=t.updateTime?dn(t.updateTime):dn(e);return n.isEqual(P.min())&&(n=dn(e)),new ge(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=dn(t.commitTime);return this.listener.Cr(n,e)}return y(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=wn(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>Sn(this.k,t))};this.gr(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new E(w.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.Bi(t,e,n,r,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new E(w.UNKNOWN,t.toString())})}ji(t,e,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.ji(t,e,n,r,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new E(w.UNKNOWN,t.toString())})}terminate(){this.$r=!0}}class Qr{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: "+t.toString()),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(p(e),this.Lr=!1):d("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(t=>{n.enqueueAndForget(async()=>{ai(this)&&(d("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=b(t);e.Gr.add(4),await ti(e),e.Jr.set("Unknown"),e.Gr.delete(4),await Zr(e)}(this))})}),this.Jr=new Qr(n,r)}}async function Zr(t){if(ai(t))for(const e of t.zr)await e(!0)}async function ti(t){for(const e of t.zr)await e(!1)}function ei(t,e){const n=b(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),si(n)?oi(n):xi(n).lr()&&ri(n,e))}function ni(t,e){const n=b(t),r=xi(n);n.Wr.delete(e),r.lr()&&ii(n,e),0===n.Wr.size&&(r.lr()?r._r():ai(n)&&n.Jr.set("Unknown"))}function ri(t,e){t.Yr.X(e.targetId),xi(t).br(e)}function ii(t,e){t.Yr.X(e),xi(t).vr(e)}function oi(t){t.Yr=new rn({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),xi(t).start(),t.Jr.Br()}function si(t){return ai(t)&&!xi(t).hr()&&t.Wr.size>0}function ai(t){return 0===b(t).Gr.size}function ci(t){t.Yr=void 0}async function ui(t){t.Wr.forEach((e,n)=>{ri(t,e)})}async function li(t,e){ci(t),si(t)?(t.Jr.Kr(e),oi(t)):t.Jr.set("Unknown")}async function hi(t,e,n){if(t.Jr.set("Online"),e instanceof en&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.Wr.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.Wr.delete(r),t.Yr.removeTarget(r))}(t,e)}catch(n){d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await fi(t,n)}else if(e instanceof Ze?t.Yr.ot(e):e instanceof tn?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(P.min()))try{const e=await Er(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Yr.gt(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Wr.get(r);i&&t.Wr.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.Wr.get(e);if(!n)return;t.Wr.set(e,n.withResumeToken(G.EMPTY_BYTE_STRING,n.snapshotVersion)),ii(t,e);const r=new or(n.target,e,1,n.sequenceNumber);ri(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){d("RemoteStore","Failed to raise snapshot:",e),await fi(t,e)}}async function fi(t,e,n){if(!nr(e))throw e;t.Gr.add(1),await ti(t),t.Jr.set("Offline"),n||(n=()=>Er(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{d("RemoteStore","Retrying IndexedDB access"),await n(),t.Gr.delete(1),await Zr(t)})}function di(t,e){return e().catch(n=>fi(t,n,e))}async function pi(t){const e=b(t),n=Ai(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;gi(e);)try{const t=await Sr(e.localStore,r);if(null===t){0===e.Qr.length&&n._r();break}r=t.batchId,mi(e,t)}catch(t){await fi(e,t)}vi(e)&&yi(e)}function gi(t){return ai(t)&&t.Qr.length<10}function mi(t,e){t.Qr.push(e);const n=Ai(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function vi(t){return ai(t)&&!Ai(t).hr()&&t.Qr.length>0}function yi(t){Ai(t).start()}async function bi(t){Ai(t).kr()}async function wi(t){const e=Ai(t);for(const n of t.Qr)e.Dr(n.mutations)}async function Ei(t,e,n){const r=t.Qr.shift(),i=ir.from(r,e,n);await di(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pi(t)}async function Ti(t,e){e&&Ai(t).Sr&&await async function(t,e){if(Me(n=e.code)&&n!==w.ABORTED){const n=t.Qr.shift();Ai(t).wr(),await di(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await pi(t)}var n}(t,e),vi(t)&&yi(t)}async function Si(t,e){const n=b(t);e?(n.Gr.delete(2),await Zr(n)):e||(n.Gr.add(2),await ti(n),n.Jr.set("Unknown"))}function xi(t){return t.Xr||(t.Xr=function(t,e,n){const r=b(t);return r.Fr(),new Kr(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{Di:ui.bind(null,t),Ni:li.bind(null,t),Pr:hi.bind(null,t)}),t.zr.push(async e=>{e?(t.Xr.wr(),si(t)?oi(t):t.Jr.set("Unknown")):(await t.Xr.stop(),ci(t))})),t.Xr}function Ai(t){return t.Zr||(t.Zr=function(t,e,n){const r=b(t);return r.Fr(),new Yr(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:bi.bind(null,t),Ni:Ti.bind(null,t),Nr:wi.bind(null,t),Cr:Ei.bind(null,t)}),t.zr.push(async e=>{e?(t.Zr.wr(),await pi(t)):(await t.Zr.stop(),t.Qr.length>0&&(d("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))})),t.Zr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ii{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new T,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,s=new Ii(t,e,o,r,i);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ki(t,e){if(p("AsyncQueue",`${e}: ${t}`),nr(t))return new E(w.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.comparator=t?(e,n)=>t(e,n)||et.comparator(e.key,n.key):(t,e)=>et.comparator(t.key,e.key),this.keyedMap=ze(),this.sortedSet=new Pe(this.comparator)}static emptySet(t){return new Ci(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ci))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Ci;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.eo=new Pe(et.comparator)}track(t){const e=t.doc.key,n=this.eo.get(e);n?0!==t.type&&3===n.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==n.type?this.eo=this.eo.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.eo=this.eo.remove(e):1===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):v():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,n)=>{t.push(n)}),t}}class Oi{constructor(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach(t=>{i.push({type:0,doc:t})}),new Oi(t,e,Ci.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.so=void 0,this.listeners=[]}}class Ni{constructor(){this.queries=new dr(t=>Yt(t),Kt),this.onlineState="Unknown",this.io=new Set}}async function Di(t,e){const n=b(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new _i),i)try{o.so=await n.onListen(r)}catch(t){const n=ki(t,`Initialization of query '${Xt(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,o),o.listeners.push(e),e.ro(n.onlineState),o.so&&e.oo(o.so)&&ji(n)}async function Mi(t,e){const n=b(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Li(t,e){const n=b(t);let r=!1;for(const t of e){const e=t.query,i=n.queries.get(e);if(i){for(const e of i.listeners)e.oo(t)&&(r=!0);i.so=t}}r&&ji(n)}function Pi(t,e,n){const r=b(t),i=r.queries.get(e);if(i)for(const t of i.listeners)t.onError(n);r.queries.delete(e)}function ji(t){t.io.forEach(t=>{t.next()})}class Fi{constructor(t,e,n){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Oi(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return!(this.options.wo&&n||t.docs.isEmpty()&&"Offline"!==e)}ho(t){if(t.docChanges.length>0)return!0;const e=this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}fo(t){t=Oi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ui{constructor(t){this.key=t}}class Vi{constructor(t){this.key=t}}class Bi{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=Ke(),this.mutatedKeys=Ke(),this.Ao=Jt(t),this.Ro=new Ci(this.Ao)}get Po(){return this.To}bo(t,e){const n=e?e.vo:new Ri,r=e?e.Ro:this.Ro;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=Vt(this.query)&&r.size===this.query.limit?r.last():null,c=Bt(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const u=r.get(t),l=Qt(this.query,e)?e:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let d=!1;u&&l?u.data.isEqual(l.data)?h!==f&&(n.track({type:3,doc:l}),d=!0):this.Vo(u,l)||(n.track({type:2,doc:l}),d=!0,(a&&this.Ao(l,a)>0||c&&this.Ao(l,c)<0)&&(s=!0)):!u&&l?(n.track({type:0,doc:l}),d=!0):u&&!l&&(n.track({type:1,doc:u}),d=!0,(a||c)&&(s=!0)),d&&(l?(o=o.add(l),i=f?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))}),Vt(this.query)||Bt(this.query))for(;o.size>this.query.limit;){const t=Vt(this.query)?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ro:o,vo:n,Bn:s,mutatedKeys:i}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const i=t.vo.no();i.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.Ao(t.doc,e.doc)),this.So(n);const o=e?this.Do():[],s=0===this.Io.size&&this.current?1:0,a=s!==this.Eo;return this.Eo=s,0!==i.length||a?{snapshot:new Oi(this.query,t.Ro,r,i,t.mutatedKeys,0===s,a,!1),Co:o}:{Co:o}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Ri,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(t=>this.To=this.To.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=Ke(),this.Ro.forEach(t=>{this.No(t.key)&&(this.Io=this.Io.add(t.key))});const e=[];return t.forEach(t=>{this.Io.has(t)||e.push(new Vi(t))}),this.Io.forEach(n=>{t.has(n)||e.push(new Ui(n))}),e}ko(t){this.To=t.zn,this.Io=Ke();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Oi.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class qi{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Hi{constructor(t){this.key=t,this.$o=!1}}class zi{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new dr(t=>Yt(t),Kt),this.Mo=new Map,this.Lo=new Set,this.Bo=new Pe(et.comparator),this.Uo=new Map,this.qo=new Cr,this.Ko={},this.jo=new Map,this.Qo=hr.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Gi(t,e){const n=uo(t);let r,i;const o=n.Oo.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.xo();else{const t=await xr(n.localStore,Wt(e)),o=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await Wi(n,e,r,"current"===o),n.isPrimaryClient&&ei(n.remoteStore,t)}return i}async function Wi(t,e,n,r){t.Go=(e,n,r)=>async function(t,e,n,r){let i=e.view.bo(n);i.Bn&&(i=await Ir(t.localStore,e.query,!1).then(({documents:t})=>e.view.bo(t,i)));const o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o);return ro(t,e.targetId,s.Co),s.snapshot}(t,e,n,r);const i=await Ir(t.localStore,e,!0),o=new Bi(e,i.zn),s=o.bo(i.documents),a=Je.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a);ro(t,n,c.Co);const u=new qi(e,n,o);return t.Oo.set(e,u),t.Mo.has(n)?t.Mo.get(n).push(e):t.Mo.set(n,[e]),c.snapshot}async function $i(t,e){const n=b(t),r=n.Oo.get(e),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(t=>!Kt(t,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ar(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ni(n.remoteStore,r.targetId),eo(n,r.targetId)}).catch(fr)):(eo(n,r.targetId),await Ar(n.localStore,r.targetId,!0))}async function Ki(t,e){const n=b(t);try{const t=await function(t,e){const n=b(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const s=[];e.targetChanges.forEach((e,o)=>{const a=i.get(o);if(!a)return;s.push(n.He.removeMatchingKeys(t,e.removedDocuments,o).next(()=>n.He.addMatchingKeys(t,e.addedDocuments,o)));const c=e.resumeToken;if(c.approximateByteSize()>0){const u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return y(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,u,e)&&s.push(n.He.updateTargetData(t,u))}});let a=qe();if(e.documentUpdates.forEach((r,i)=>{e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Tr(t,o,e.documentUpdates,r,void 0).next(t=>{a=t})),!r.isEqual(P.min())){const e=n.He.getLastRemoteSnapshotVersion(t).next(e=>n.He.setTargetsMetadata(t,t.currentSequenceNumber,r));s.push(e)}return er.waitFor(s).next(()=>o.apply(t)).next(()=>n.Wn.Vn(t,a)).next(()=>a)}).then(t=>(n.qn=i,t))}(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.Uo.get(e);r&&(y(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.$o=!0:t.modifiedDocuments.size>0?y(r.$o):t.removedDocuments.size>0&&(y(r.$o),r.$o=!1))}),await so(n,t,e)}catch(t){await fr(t)}}function Yi(t,e,n){const r=b(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Oo.forEach((n,r)=>{const i=r.view.ro(e);i.snapshot&&t.push(i.snapshot)}),function(t,e){const n=b(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const t of n.listeners)t.ro(e)&&(r=!0)}),r&&ji(n)}(r.eventManager,e),t.length&&r.Fo.Pr(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xi(t,e,n){const r=b(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),o=i&&i.key;if(o){let t=new Pe(et.comparator);t=t.insert(o,mt.newNoDocument(o,P.min()));const n=Ke().add(o),i=new Qe(P.min(),new Map,new Ue(D),t,n);await Ki(r,i),r.Bo=r.Bo.remove(o),r.Uo.delete(e),oo(r)}else await Ar(r.localStore,e,!1).then(()=>eo(r,e,n)).catch(fr)}async function Qi(t,e){const n=b(t),r=e.batch.batchId;try{const t=await function(t,e){const n=b(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let s=er.resolve();return o.forEach(t=>{s=s.next(()=>r.getEntry(e,t)).next(e=>{const o=n.docVersions.get(t);y(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(()=>t.An.removeMutationBatch(e,i))}(n,t,e,i).next(()=>i.apply(t)).next(()=>n.An.performConsistencyCheck(t)).next(()=>n.Wn.vn(t,r))})}(n.localStore,e);to(n,r,null),Zi(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await so(n,t)}catch(t){await fr(t)}}async function Ji(t,e,n){const r=b(t);try{const t=await function(t,e){const n=b(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.An.lookupMutationBatch(t,e).next(e=>(y(null!==e),r=e.keys(),n.An.removeMutationBatch(t,e))).next(()=>n.An.performConsistencyCheck(t)).next(()=>n.Wn.vn(t,r))})}(r.localStore,e);to(r,e,n),Zi(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await so(r,t)}catch(n){await fr(n)}}function Zi(t,e){(t.jo.get(e)||[]).forEach(t=>{t.resolve()}),t.jo.delete(e)}function to(t,e,n){const r=b(t);let i=r.Ko[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function eo(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Oo.delete(r),n&&t.Fo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(e=>{t.qo.containsKey(e)||no(t,e)})}function no(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(ni(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),oo(t))}function ro(t,e,n){for(const r of n)r instanceof Ui?(t.qo.addReference(r.key,e),io(t,r)):r instanceof Vi?(d("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||no(t,r.key)):v()}function io(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(d("SyncEngine","New document in limbo: "+n),t.Lo.add(r),oo(t))}function oo(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new et(B.fromString(e)),r=t.Qo.next();t.Uo.set(r,new Hi(n)),t.Bo=t.Bo.insert(n,r),ei(t.remoteStore,new or(Wt(Ut(n.path)),r,2,O.I))}}async function so(t,e,n){const r=b(t),i=[],o=[],s=[];r.Oo.isEmpty()||(r.Oo.forEach((t,a)=>{s.push(r.Go(a,e,n).then(t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=mr.$n(a.targetId,t);o.push(e)}}))}),await Promise.all(s),r.Fo.Pr(i),await async function(t,e){const n=b(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>er.forEach(e,e=>er.forEach(e.kn,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>er.forEach(e.xn,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(t){if(!nr(t))throw t;d("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.qn.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(e,i)}}}(r.localStore,o))}async function ao(t,e){const n=b(t);if(!n.currentUser.isEqual(e)){d("SyncEngine","User change. New user:",e.toKey());const t=await wr(n.localStore,e);n.currentUser=e,function(t,e){t.jo.forEach(t=>{t.forEach(t=>{t.reject(new E(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.jo.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await so(n,t.Gn)}}function co(t,e){const n=b(t),r=n.Uo.get(e);if(r&&r.$o)return Ke().add(r.key);{let t=Ke();const r=n.Mo.get(e);if(!r)return t;for(const e of r){const r=n.Oo.get(e);t=t.unionWith(r.view.Po)}return t}}function uo(t){const e=b(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ki.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=co.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xi.bind(null,e),e.Fo.Pr=Li.bind(null,e.eventManager),e.Fo.zo=Pi.bind(null,e.eventManager),e}function lo(t){const e=b(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qi.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ji.bind(null,e),e}class ho{constructor(){this.synchronizeTabs=!1}async initialize(t){this.k=Gr(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),await this.persistence.start(),this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t)}Xo(t){return null}Zo(t){return br(this.persistence,new vr,t.initialUser,this.k)}Yo(t){return new Mr(Pr.ks,this.k)}Jo(t){return new Fr}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fo{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Yi(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=ao.bind(null,this.syncEngine),await Si(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Ni}createDatastore(t){const e=Gr(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new Hr(r));var r;return function(t,e,n,r){return new Xr(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>Yi(this.syncEngine,t,0),o=Vr.bt()?new Vr:new Ur,new Jr(e,n,r,i,o);var e,n,r,i,o}createSyncEngine(t,e){return function(t,e,n,r,i,o,s){const a=new zi(t,e,n,r,i,o);return s&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=b(t);d("RemoteStore","RemoteStore shutting down."),e.Gr.add(5),await ti(e),e.Hr.shutdown(),e.Jr.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class po{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class go{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=u.UNAUTHENTICATED,this.clientId=N.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async t=>{d("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,()=>Promise.resolve())}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new T;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=ki(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function mo(t,e){t.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async t=>{r.isEqual(t)||(await wr(e.localStore,t),r=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function vo(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yo(t);d("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(t=>async function(t,e){const n=b(t);n.asyncQueue.verifyOperationInProgress(),d("RemoteStore","RemoteStore received new credentials");const r=ai(n);n.Gr.add(3),await ti(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Gr.delete(3),await Zr(n)}(e.remoteStore,t)),t.onlineComponents=e}async function yo(t){return t.offlineComponents||(d("FirestoreClient","Using default OfflineComponentProvider"),await mo(t,new ho)),t.offlineComponents}async function bo(t){return t.onlineComponents||(d("FirestoreClient","Using default OnlineComponentProvider"),await vo(t,new fo)),t.onlineComponents}function wo(t){return bo(t).then(t=>t.syncEngine)}async function Eo(t){const e=await bo(t),n=e.eventManager;return n.onListen=Gi.bind(null,e.syncEngine),n.onUnlisten=$i.bind(null,e.syncEngine),n}function To(t,e,n={}){const r=new T;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,i){const o=new po({next:n=>{e.enqueueAndForget(()=>Mi(t,s)),n.fromCache&&"server"===r.source?i.reject(new E(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),s=new Fi(n,o,{includeMetadataChanges:!0,wo:!0});return Di(t,s)}(await Eo(t),t.asyncQueue,e,n,r)),r.promise}class So{constructor(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class xo{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof xo&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e,n){if(!n)throw new E(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ko(t){if(!et.isDocumentKey(t))throw new E(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Co(t){if(et.isDocumentKey(t))throw new E(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ro(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":v()}function Oo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ro(t);throw new E(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _o{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new E(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new E(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new E(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _o({}),this._settingsFrozen=!1,t instanceof xo?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new E(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(t.options.projectId)}(t))}get app(){if(!this._app)throw new E(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _o(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new x;switch(t.type){case"gapi":const e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new k(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new E(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Ao.get(t);e&&(d("ComponentProvider","Removing Datastore"),Ao.delete(t),e.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Do{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Do(this.firestore,t,this._key)}}class Mo{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Mo(this.firestore,t,this._query)}}class Lo extends Mo{constructor(t,e,n){super(t,e,Ut(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Do(this.firestore,null,new et(t))}withConverter(t){return new Lo(this.firestore,t,this._path)}}function Po(t,e,...n){if(t=Object(s.e)(t),Io("collection","path",e),t instanceof No){const r=B.fromString(e,...n);return Co(r),new Lo(t,null,r)}{if(!(t instanceof Do||t instanceof Lo))throw new E(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(B.fromString(e,...n));return Co(r),new Lo(t.firestore,null,r)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jo{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Wr(this,"async_queue_retry"),this.Ra=()=>{const t=zr();t&&d("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const t=zr();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=zr();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise(()=>{});const e=new T;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(t){if(!nr(t))throw t;d("AsyncQueue","Operation failed with retryable error: "+t)}this.ga.length>0&&this.ur.Zi(()=>this.va())}}ba(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(t=>{this.Ta=t,this.Ea=!1;throw p("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),t}).then(t=>(this.Ea=!1,t))));return this.ma=e,e}enqueueAfterDelay(t,e,n){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const r=Ii.createAndSchedule(this,t,e,n,t=>this.Va(t));return this.pa.push(r),r}Pa(){this.Ta&&v()}verifyOperationInProgress(){}async Sa(){let t;do{t=this.ma,await t}while(t!==this.ma)}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}class Fo extends No{constructor(t,e,n){super(t,e,n),this.type="firestore",this._queue=new jo,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Bo(this),this._firestoreClient.terminate()}}function Uo(t=Object(r.e)()){return Object(r.b)(t,"firestore").getImmediate()}function Vo(t){return t._firestoreClient||Bo(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Bo(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new So(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new go(t._authCredentials,t._appCheckCredentials,t._queue,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qo{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new E(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new H(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ho{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ho(G.fromBase64String(t))}catch(t){throw new E(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Ho(G.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new E(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return D(this._lat,t._lat)||D(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=/^__.*__$/;class $o{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Ae(t,this.data,this.fieldMask,e,this.fieldTransforms):new xe(t,this.data,e,this.fieldTransforms)}}function Ko(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}class Yo{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new Yo(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:n,Oa:!1});return r.Ma(t),r}La(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return ss(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(Ko(this.xa)&&Wo.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class Xo{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=n||Gr(t)}ja(t,e,n,r=!1){return new Yo({xa:t,methodName:e,Ka:n,path:H.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Qo(t){const e=t._freezeSettings(),n=Gr(t._databaseId);return new Xo(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jo(t,e,n,r,i,o={}){const s=t.ja(o.merge||o.mergeFields?2:0,e,n,i);ns("Data must be an object, but it was:",s,r);const a=ts(r,s);let c,u;if(o.merge)c=new z(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=rs(e,r,n);if(!s.contains(i))throw new E(w.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);as(t,i)||t.push(i)}c=new z(t),u=s.fieldTransforms.filter(t=>c.covers(t.field))}else c=null,u=s.fieldTransforms;return new $o(new pt(a),c,u)}function Zo(t,e){if(es(t=Object(s.e)(t)))return ns("Unsupported field value:",e,t),ts(t,e);if(t instanceof zo)return function(t,e){if(!Ko(e.xa))throw e.Ua(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Ua(t._methodName+"() is not currently supported inside arrays");const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Zo(i,e.Ba(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(s.e)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ne(e.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=L.fromDate(t);return{timestampValue:ln(e.k,n)}}if(t instanceof L){const n=new L(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ln(e.k,n)}}if(t instanceof Go)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ho)return{bytesValue:hn(e.k,t._byteString)};if(t instanceof Do){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:pn(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Ua("Unsupported field value: "+Ro(t))}(t,e)}function ts(t,e){const n={};return U(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):F(t,(t,r)=>{const i=Zo(r,e.Fa(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function es(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof L||t instanceof Go||t instanceof Ho||t instanceof Do||t instanceof zo)}function ns(t,e,n){if(!es(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Ro(n);throw"an object"===r?e.Ua(t+" a custom object"):e.Ua(t+" "+r)}}function rs(t,e,n){if((e=Object(s.e)(e))instanceof qo)return e._internalPath;if("string"==typeof e)return os(t,e);throw ss("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const is=new RegExp("[~\\*/\\[\\]]");function os(t,e,n){if(e.search(is)>=0)throw ss(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qo(...e.split("."))._internalPath}catch(r){throw ss(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ss(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new E(w.INVALID_ARGUMENT,a+t+c)}function as(t,e){return t.some(t=>t.isEqual(e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Do(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new us(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ls("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class us extends cs{data(){return super.data()}}function ls(t,e){return"string"==typeof e?os(t,e):e instanceof qo?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fs extends cs{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(ls("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class ds extends fs{data(t={}){return super.data(t)}}class ps{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new hs(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new ds(this._firestore,this._userDataWriter,n.key,n,new hs(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new E(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new ds(t._firestore,t._userDataWriter,n.doc.key,n.doc,new hs(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new ds(t._firestore,t._userDataWriter,e.doc.key,e.doc,new hs(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:gs(e.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gs(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ms(t){if(Bt(t)&&0===t.explicitOrderBy.length)throw new E(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vs{convertValue(t,e="none"){switch(nt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return K(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Y(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw v()}}convertObject(t,e){const n={};return F(t.fields,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertGeoPoint(t){return new Go(K(t.latitude),K(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=function t(e){const n=e.mapValue.fields.__previous_value__;return X(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Q(t));default:return null}}convertTimestamp(t){const e=$(t);return new L(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=B.fromString(t);y(Pn(n));const r=new xo(n.get(1),n.get(3)),i=new et(n.popFirst(5));return r.isEqual(e)||p(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class bs extends vs{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ho(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Do(this.firestore,null,e)}}function ws(t){t=Oo(t,Mo);const e=Oo(t.firestore,Fo),n=Vo(e),r=new bs(e);return ms(t._query),To(n,t._query).then(n=>new ps(e,r,t,n))}function Es(t,e,n){t=Oo(t,Do);const r=Oo(t.firestore,Fo),i=ys(t.converter,e,n);return Ss(r,[Jo(Qo(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,me.none())])}function Ts(t,e){const n=Oo(t.firestore,Fo),r=function(t,e,...n){if(t=Object(s.e)(t),1===arguments.length&&(e=N.A()),Io("doc","path",e),t instanceof No){const r=B.fromString(e,...n);return ko(r),new Do(t,null,new et(r))}{if(!(t instanceof Do||t instanceof Lo))throw new E(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(B.fromString(e,...n));return ko(r),new Do(t.firestore,t instanceof Lo?t.converter:null,new et(r))}}(t),i=ys(t.converter,e);return Ss(n,[Jo(Qo(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,me.exists(!1))]).then(()=>r)}function Ss(t,e){return function(t,e){const n=new T;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const r=lo(t);try{const t=await function(t,e){const n=b(t),r=L.now(),i=e.reduce((t,e)=>t.add(e.key),Ke());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>n.Wn.vn(t,i).next(i=>{o=i;const s=[];for(const t of e){const e=Ee(t,o.get(t.key));null!=e&&s.push(new Ae(t.key,e,gt(e.value.mapValue),me.exists(!0)))}return n.An.addMutationBatch(t,r,s,e)})).then(t=>(t.applyToLocalDocumentSet(o),{batchId:t.batchId,changes:o}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Ko[t.currentUser.toKey()];r||(r=new Pe(D)),r=r.insert(e,n),t.Ko[t.currentUser.toKey()]=r}(r,t.batchId,n),await so(r,t.changes),await pi(r.remoteStore)}catch(t){const e=ki(t,"Failed to persist write");n.reject(e)}}(await wo(t),e,n)),n.promise}(Vo(t),e)}!function(t,e=!0){!function(t){l=t}(r.a),Object(r.c)(new i.a("firestore",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=new Fo(r,new A(t.getProvider("auth-internal")),new R(t.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),i._setSettings(n),i},"PUBLIC")),Object(r.g)(c,"3.4.1",t),Object(r.g)(c,"3.4.1","esm2017")}()}).call(this,n(464))},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){n(202),n(198),t.exports=n(469)},function(t,e,n){n(203),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(236),n(237),n(238),n(99),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(264),n(265),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(335),n(336),n(337),n(338),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(144),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(187),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(453),n(197),t.exports=n(157)},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(18),s=n(33),a=n(13),c=n(2),u=n(22),l=n(6),h=n(119),f=n(3),d=n(14),p=n(58),g=n(9),m=n(7),v=n(31),y=n(65),b=n(5),w=n(15),E=n(28),T=n(53),S=n(10),x=n(38),A=n(34),I=n(79),k=n(55),C=n(126),R=n(124),O=n(24),_=n(12),N=n(89),D=n(59),M=n(17),L=n(90),P=n(93),j=n(76),F=n(66),U=n(8),V=n(156),B=n(29),q=n(39),H=n(20),z=n(23).forEach,G=P("hidden"),W=U("toPrimitive"),$=H.set,K=H.getterFor("Symbol"),Y=Object.prototype,X=i.Symbol,Q=X&&X.prototype,J=i.TypeError,Z=i.QObject,tt=o("JSON","stringify"),et=O.f,nt=_.f,rt=C.f,it=N.f,ot=c([].push),st=L("symbols"),at=L("op-symbols"),ct=L("string-to-symbol-registry"),ut=L("symbol-to-string-registry"),lt=L("wks"),ht=!Z||!Z.prototype||!Z.prototype.findChild,ft=l&&f((function(){return 7!=A(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=et(Y,e);r&&delete Y[e],nt(t,e,n),r&&t!==Y&&nt(Y,e,r)}:nt,dt=function(t,e){var n=st[t]=A(Q);return $(n,{type:"Symbol",tag:t,description:e}),l||(n.description=e),n},pt=function(t,e,n){t===Y&&pt(at,e,n),b(t);var r=T(e);return b(n),d(st,r)?(n.enumerable?(d(t,G)&&t[G][r]&&(t[G][r]=!1),n=A(n,{enumerable:x(0,!1)})):(d(t,G)||nt(t,G,x(1,{})),t[G][r]=!0),ft(t,r,n)):nt(t,r,n)},gt=function(t,e){b(t);var n=E(e),r=I(n).concat(bt(n));return z(r,(function(e){l&&!a(mt,n,e)||pt(t,e,n[e])})),t},mt=function(t){var e=T(t),n=a(it,this,e);return!(this===Y&&d(st,e)&&!d(at,e))&&(!(n||!d(this,e)||!d(st,e)||d(this,G)&&this[G][e])||n)},vt=function(t,e){var n=E(t),r=T(e);if(n!==Y||!d(st,r)||d(at,r)){var i=et(n,r);return!i||!d(st,r)||d(n,G)&&n[G][r]||(i.enumerable=!0),i}},yt=function(t){var e=rt(E(t)),n=[];return z(e,(function(t){d(st,t)||d(j,t)||ot(n,t)})),n},bt=function(t){var e=t===Y,n=rt(e?at:E(t)),r=[];return z(n,(function(t){!d(st,t)||e&&!d(Y,t)||ot(r,st[t])})),r};(h||(M(Q=(X=function(){if(v(Q,this))throw J("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=F(t),n=function(t){this===Y&&a(n,at,t),d(this,G)&&d(this[G],e)&&(this[G][e]=!1),ft(this,e,x(1,t))};return l&&ht&&ft(Y,e,{configurable:!0,set:n}),dt(e,t)}).prototype,"toString",(function(){return K(this).tag})),M(X,"withoutSetter",(function(t){return dt(F(t),t)})),N.f=mt,_.f=pt,O.f=vt,k.f=C.f=yt,R.f=bt,V.f=function(t){return dt(U(t),t)},l&&(nt(Q,"description",{configurable:!0,get:function(){return K(this).description}}),u||M(Y,"propertyIsEnumerable",mt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:X}),z(I(lt),(function(t){B(t)})),r({target:"Symbol",stat:!0,forced:!h},{for:function(t){var e=S(t);if(d(ct,e))return ct[e];var n=X(e);return ct[e]=n,ut[n]=e,n},keyFor:function(t){if(!y(t))throw J(t+" is not a symbol");if(d(ut,t))return ut[t]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),r({target:"Object",stat:!0,forced:!h,sham:!l},{create:function(t,e){return void 0===e?A(t):gt(A(t),e)},defineProperty:pt,defineProperties:gt,getOwnPropertyDescriptor:vt}),r({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:yt,getOwnPropertySymbols:bt}),r({target:"Object",stat:!0,forced:f((function(){R.f(1)}))},{getOwnPropertySymbols:function(t){return R.f(w(t))}}),tt)&&r({target:"JSON",stat:!0,forced:!h||f((function(){var t=X();return"[null]"!=tt([t])||"{}"!=tt({a:t})||"{}"!=tt(Object(t))}))},{stringify:function(t,e,n){var r=D(arguments),i=e;if((m(e)||void 0!==t)&&!y(t))return p(e)||(e=function(t,e){if(g(i)&&(e=a(i,this,t,e)),!y(e))return e}),r[1]=e,s(tt,null,r)}});if(!Q[W]){var wt=Q.valueOf;M(Q,W,(function(t){return a(wt,this)}))}q(X,"Symbol"),j[G]=!0},function(t,e,n){var r=n(1),i=n(58),o=n(68),s=n(7),a=n(8)("species"),c=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===c||i(e.prototype))||s(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?c:e}},function(t,e,n){"use strict";var r=n(0),i=n(6),o=n(1),s=n(2),a=n(14),c=n(9),u=n(31),l=n(10),h=n(12).f,f=n(94),d=o.Symbol,p=d&&d.prototype;if(i&&c(d)&&(!("description"in p)||void 0!==d().description)){var g={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(g[e]=!0),e};f(m,d),m.prototype=p,p.constructor=m;var v="Symbol(test)"==String(d("test")),y=s(p.toString),b=s(p.valueOf),w=/^Symbol\((.*)\)[^)]+$/,E=s("".replace),T=s("".slice);h(p,"description",{configurable:!0,get:function(){var t=b(this),e=y(t);if(a(g,t))return"";var n=v?T(e,7,-1):E(e,w,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:m})}},function(t,e,n){n(29)("asyncIterator")},function(t,e,n){n(29)("hasInstance")},function(t,e,n){n(29)("isConcatSpreadable")},function(t,e,n){n(29)("iterator")},function(t,e,n){n(29)("match")},function(t,e,n){n(29)("matchAll")},function(t,e,n){n(29)("replace")},function(t,e,n){n(29)("search")},function(t,e,n){n(29)("species")},function(t,e,n){n(29)("split")},function(t,e,n){n(29)("toPrimitive")},function(t,e,n){n(29)("toStringTag")},function(t,e,n){n(29)("unscopables")},function(t,e,n){var r=n(0),i=n(1),o=n(33),s=n(158),a=i.WebAssembly,c=7!==Error("e",{cause:7}).cause,u=function(t,e){var n={};n[t]=s(t,e,c),r({global:!0,forced:c},n)},l=function(t,e){if(a&&a[t]){var n={};n[t]=s("WebAssembly."+t,e,c),r({target:"WebAssembly",stat:!0,forced:c},n)}};u("Error",(function(t){return function(e){return o(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),u("URIError",(function(t){return function(e){return o(t,this,arguments)}})),l("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),l("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),l("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},function(t,e,n){var r=n(17),i=n(161),o=Error.prototype;o.toString!==i&&r(o,"toString",i)},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(31),s=n(40),a=n(43),c=n(94),u=n(34),l=n(27),h=n(38),f=n(96),d=n(160),p=n(49),g=n(82),m=n(8),v=n(127),y=m("toStringTag"),b=i.Error,w=[].push,E=function(t,e){var n,r=arguments.length>2?arguments[2]:void 0,i=o(T,this);a?n=a(new b,i?s(this):T):(n=i?this:u(T),l(n,y,"Error")),void 0!==e&&l(n,"message",g(e)),v&&l(n,"stack",f(n.stack,1)),d(n,r);var c=[];return p(t,w,{that:c}),l(n,"errors",c),n};a?a(E,b):c(E,b,{name:!0});var T=E.prototype=u(b.prototype,{constructor:h(1,E),message:h(1,""),name:h(1,"AggregateError")});r({global:!0},{AggregateError:E})},function(t,e,n){var r=n(0),i=n(18),o=n(33),s=n(3),a=n(158),c=i("AggregateError"),u=!s((function(){return 1!==c([1]).errors[0]}))&&s((function(){return 7!==c([1],"AggregateError",{cause:7}).cause}));r({global:!0,forced:u},{AggregateError:a("AggregateError",(function(t){return function(e,n){return o(t,this,arguments)}}),u,!0)})},function(t,e,n){"use strict";var r=n(0),i=n(15),o=n(16),s=n(21),a=n(50);r({target:"Array",proto:!0},{at:function(t){var e=i(this),n=o(e),r=s(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}}),a("at")},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),s=n(58),a=n(7),c=n(15),u=n(16),l=n(48),h=n(81),f=n(85),d=n(8),p=n(54),g=d("isConcatSpreadable"),m=i.TypeError,v=p>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=f("concat"),b=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)};r({target:"Array",proto:!0,forced:!v||!y},{concat:function(t){var e,n,r,i,o,s=c(this),a=h(s,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(b(o=-1===e?s:arguments[e])){if(f+(i=u(o))>9007199254740991)throw m("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in o&&l(a,f,o[n])}else{if(f>=9007199254740991)throw m("Maximum allowed index exceeded");l(a,f++,o)}return a.length=f,a}})},function(t,e,n){var r=n(0),i=n(163),o=n(50);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(t,e,n){"use strict";var r=n(0),i=n(23).every;r({target:"Array",proto:!0,forced:!n(51)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),i=n(130),o=n(50);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(t,e,n){"use strict";var r=n(0),i=n(23).filter;r({target:"Array",proto:!0,forced:!n(85)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(23).find,o=n(50),s=!0;"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";var r=n(0),i=n(23).findIndex,o=n(50),s=!0;"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){"use strict";var r=n(0),i=n(164),o=n(15),s=n(16),a=n(21),c=n(81);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=s(e),r=c(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:a(t)),r}})},function(t,e,n){"use strict";var r=n(0),i=n(164),o=n(26),s=n(15),a=n(16),c=n(81);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=s(this),r=a(n);return o(t),(e=c(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(0),i=n(165);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){var r=n(0),i=n(166);r({target:"Array",stat:!0,forced:!n(98)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){var r=n(5),i=n(162);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},function(t,e,n){"use strict";var r=n(0),i=n(77).includes,o=n(50);r({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(77).indexOf,s=n(51),a=i([].indexOf),c=!!a&&1/a([1],1,-0)<0,u=s("indexOf");r({target:"Array",proto:!0,forced:c||!u},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?a(this,t,e)||0:o(this,t,e)}})},function(t,e,n){n(0)({target:"Array",stat:!0},{isArray:n(58)})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(74),s=n(28),a=n(51),c=i([].join),u=o!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(t){return c(s(this),void 0===t?",":t)}})},function(t,e,n){var r=n(0),i=n(168);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(0),i=n(23).map;r({target:"Array",proto:!0,forced:!n(85)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(3),s=n(68),a=n(48),c=i.Array;r({target:"Array",stat:!0,forced:o((function(){function t(){}return!(c.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new(s(this)?this:c)(e);e>t;)a(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(100).left,o=n(51),s=n(54),a=n(60);r({target:"Array",proto:!0,forced:!o("reduce")||!a&&s>79&&s<83},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(100).right,o=n(51),s=n(54),a=n(60);r({target:"Array",proto:!0,forced:!o("reduceRight")||!a&&s>79&&s<83},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(58),s=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),s(this)}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(58),s=n(68),a=n(7),c=n(47),u=n(16),l=n(28),h=n(48),f=n(8),d=n(85),p=n(59),g=d("slice"),m=f("species"),v=i.Array,y=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var n,r,i,f=l(this),d=u(f),g=c(t,d),b=c(void 0===e?d:e,d);if(o(f)&&(n=f.constructor,(s(n)&&(n===v||o(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===v||void 0===n))return p(f,g,b);for(r=new(void 0===n?v:n)(y(b-g,0)),i=0;g<b;g++,i++)g in f&&h(r,i,f[g]);return r.length=i,r}})},function(t,e,n){"use strict";var r=n(0),i=n(23).some;r({target:"Array",proto:!0,forced:!n(51)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(26),s=n(15),a=n(16),c=n(10),u=n(3),l=n(133),h=n(51),f=n(169),d=n(170),p=n(54),g=n(134),m=[],v=i(m.sort),y=i(m.push),b=u((function(){m.sort(void 0)})),w=u((function(){m.sort(null)})),E=h("sort"),T=!u((function(){if(p)return p<70;if(!(f&&f>3)){if(d)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!w||!E||!T},{sort:function(t){void 0!==t&&o(t);var e=s(this);if(T)return void 0===t?v(e):v(e,t);var n,r,i=[],u=a(e);for(r=0;r<u;r++)r in e&&y(i,e[r]);for(l(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<u;)delete e[r++];return e}})},function(t,e,n){n(70)("Array")},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(47),s=n(21),a=n(16),c=n(15),u=n(81),l=n(48),h=n(85)("splice"),f=i.TypeError,d=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,r,i,h,g,m,v=c(this),y=a(v),b=o(t,y),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=y-b):(n=w-2,r=p(d(s(e),0),y-b)),y+n-r>9007199254740991)throw f("Maximum allowed length exceeded");for(i=u(v,r),h=0;h<r;h++)(g=b+h)in v&&l(i,h,v[g]);if(i.length=r,n<r){for(h=b;h<y-r;h++)m=h+n,(g=h+r)in v?v[m]=v[g]:delete v[m];for(h=y;h>y-r+n;h--)delete v[h-1]}else if(n>r)for(h=y-r;h>b;h--)m=h+n-1,(g=h+r-1)in v?v[m]=v[g]:delete v[m];for(h=0;h<n;h++)v[h+b]=arguments[h+2];return v.length=y-r+n,i}})},function(t,e,n){n(50)("flat")},function(t,e,n){n(50)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(101),s=n(70),a=o.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==a},{ArrayBuffer:a}),s("ArrayBuffer")},function(t,e,n){var r=n(1).Array,i=Math.abs,o=Math.pow,s=Math.floor,a=Math.log,c=Math.LN2;t.exports={pack:function(t,e,n){var u,l,h,f=r(n),d=8*n-e-1,p=(1<<d)-1,g=p>>1,m=23===e?o(2,-24)-o(2,-77):0,v=t<0||0===t&&1/t<0?1:0,y=0;for((t=i(t))!=t||t===1/0?(l=t!=t?1:0,u=p):(u=s(a(t)/c),t*(h=o(2,-u))<1&&(u--,h*=2),(t+=u+g>=1?m/h:m*o(2,1-g))*h>=2&&(u++,h/=2),u+g>=p?(l=0,u=p):u+g>=1?(l=(t*h-1)*o(2,e),u+=g):(l=t*o(2,g-1)*o(2,e),u=0));e>=8;)f[y++]=255&l,l/=256,e-=8;for(u=u<<e|l,d+=e;d>0;)f[y++]=255&u,u/=256,d-=8;return f[--y]|=128*v,f},unpack:function(t,e){var n,r=t.length,i=8*r-e-1,s=(1<<i)-1,a=s>>1,c=i-7,u=r-1,l=t[u--],h=127&l;for(l>>=7;c>0;)h=256*h+t[u--],c-=8;for(n=h&(1<<-c)-1,h>>=-c,c+=e;c>0;)n=256*n+t[u--],c-=8;if(0===h)h=1-a;else{if(h===s)return n?NaN:l?-1/0:1/0;n+=o(2,e),h-=a}return(l?-1:1)*n*o(2,h-e)}}},function(t,e,n){var r=n(0),i=n(11);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(3),s=n(101),a=n(5),c=n(47),u=n(32),l=n(72),h=s.ArrayBuffer,f=s.DataView,d=f.prototype,p=i(h.prototype.slice),g=i(d.getUint8),m=i(d.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(p&&void 0===e)return p(a(this),t);for(var n=a(this).byteLength,r=c(t,n),i=c(void 0===e?n:e,n),o=new(l(this,h))(u(i-r)),s=new f(this),d=new f(o),v=0;r<i;)m(d,v++,g(s,r++));return o}})},function(t,e,n){var r=n(0),i=n(101);r({global:!0,forced:!n(135)},{DataView:i.DataView})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(3)((function(){return 120!==new Date(16e11).getYear()})),s=i(Date.prototype.getFullYear);r({target:"Date",proto:!0,forced:o},{getYear:function(){return s(this)-1900}})},function(t,e,n){var r=n(0),i=n(1),o=n(2),s=i.Date,a=o(s.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new s)}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(21),s=Date.prototype,a=i(s.getTime),c=i(s.setFullYear);r({target:"Date",proto:!0},{setYear:function(t){a(this);var e=o(t);return c(this,0<=e&&e<=99?e+1900:e)}})},function(t,e,n){n(0)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},function(t,e,n){var r=n(0),i=n(263);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(3),s=n(137).start,a=r.RangeError,c=Math.abs,u=Date.prototype,l=u.toISOString,h=i(u.getTime),f=i(u.getUTCDate),d=i(u.getUTCFullYear),p=i(u.getUTCHours),g=i(u.getUTCMilliseconds),m=i(u.getUTCMinutes),v=i(u.getUTCMonth),y=i(u.getUTCSeconds);t.exports=o((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!o((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(h(this)))throw a("Invalid time value");var t=d(this),e=g(this),n=t<0?"-":t>9999?"+":"";return n+s(c(t),n?6:4,0)+"-"+s(v(this)+1,2,0)+"-"+s(f(this),2,0)+"T"+s(p(this),2,0)+":"+s(m(this),2,0)+":"+s(y(this),2,0)+"."+s(e,3,0)+"Z"}:l},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(15),s=n(118);r({target:"Date",proto:!0,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=s(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(14),i=n(17),o=n(266),s=n(8)("toPrimitive"),a=Date.prototype;r(a,s)||i(a,s,o)},function(t,e,n){"use strict";var r=n(1),i=n(5),o=n(151),s=r.TypeError;t.exports=function(t){if(i(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw s("Incorrect hint");return o(this,t)}},function(t,e,n){var r=n(2),i=n(17),o=Date.prototype,s=r(o.toString),a=r(o.getTime);"Invalid Date"!=String(new Date(NaN))&&i(o,"toString",(function(){var t=a(this);return t==t?s(this):"Invalid Date"}))},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(10),s=i("".charAt),a=i("".charCodeAt),c=i(/./.exec),u=i(1..toString),l=i("".toUpperCase),h=/[\w*+\-./@]/,f=function(t,e){for(var n=u(t,16);n.length<e;)n="0"+n;return n};r({global:!0},{escape:function(t){for(var e,n,r=o(t),i="",u=r.length,d=0;d<u;)e=s(r,d++),c(h,e)?i+=e:i+=(n=a(e,0))<256?"%"+f(n,2):"%u"+l(f(n,4));return i}})},function(t,e,n){n(0)({target:"Function",proto:!0},{bind:n(172)})},function(t,e,n){"use strict";var r=n(9),i=n(7),o=n(12),s=n(40),a=n(8)("hasInstance"),c=Function.prototype;a in c||o.f(c,a,{value:function(t){if(!r(this)||!i(t))return!1;var e=this.prototype;if(!i(e))return t instanceof this;for(;t=s(t);)if(e===t)return!0;return!1}})},function(t,e,n){var r=n(6),i=n(67).EXISTS,o=n(2),s=n(12).f,a=Function.prototype,c=o(a.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(u.exec);r&&!i&&s(a,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(t){return""}}})},function(t,e,n){n(0)({global:!0},{globalThis:n(1)})},function(t,e,n){var r=n(0),i=n(1),o=n(18),s=n(33),a=n(2),c=n(3),u=i.Array,l=o("JSON","stringify"),h=a(/./.exec),f=a("".charAt),d=a("".charCodeAt),p=a("".replace),g=a(1..toString),m=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,b=function(t,e,n){var r=f(n,e-1),i=f(n,e+1);return h(v,t)&&!h(y,i)||h(y,t)&&!h(v,r)?"\\u"+g(d(t,0),16):t},w=c((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&r({target:"JSON",stat:!0,forced:w},{stringify:function(t,e,n){for(var r=0,i=arguments.length,o=u(i);r<i;r++)o[r]=arguments[r];var a=s(l,null,o);return"string"==typeof a?p(a,m,b):a}})},function(t,e,n){var r=n(1);n(39)(r.JSON,"JSON",!0)},function(t,e,n){"use strict";n(103)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(173))},function(t,e,n){var r=n(0),i=n(174),o=Math.acosh,s=Math.log,a=Math.sqrt,c=Math.LN2;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?s(t)+c:i(t-1+a(t-1)*a(t+1))}})},function(t,e,n){var r=n(0),i=Math.asinh,o=Math.log,s=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+s(e*e+1)):e}})},function(t,e,n){var r=n(0),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(139),o=Math.abs,s=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return i(t=+t)*s(o(t),1/3)}})},function(t,e,n){var r=n(0),i=Math.floor,o=Math.log,s=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-i(o(t+.5)*s):32}})},function(t,e,n){var r=n(0),i=n(105),o=Math.cosh,s=Math.abs,a=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=i(s(t)-1)+1;return(e+1/(e*a*a))*(a/2)}})},function(t,e,n){var r=n(0),i=n(105);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(t,e,n){n(0)({target:"Math",stat:!0},{fround:n(284)})},function(t,e,n){var r=n(139),i=Math.abs,o=Math.pow,s=o(2,-52),a=o(2,-23),c=o(2,127)*(2-a),u=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=i(t),l=r(t);return o<u?l*(o/u/a+1/s-1/s)*u*a:(n=(e=(1+a/s)*o)-(e-o))>c||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(0),i=Math.hypot,o=Math.abs,s=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,a=0,c=arguments.length,u=0;a<c;)u<(n=o(arguments[a++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*s(i)}})},function(t,e,n){var r=n(0),i=n(3),o=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){n(0)({target:"Math",stat:!0},{log10:n(175)})},function(t,e,n){n(0)({target:"Math",stat:!0},{log1p:n(174)})},function(t,e,n){var r=n(0),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return i(t)/o}})},function(t,e,n){n(0)({target:"Math",stat:!0},{sign:n(139)})},function(t,e,n){var r=n(0),i=n(3),o=n(105),s=Math.abs,a=Math.exp,c=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return s(t=+t)<1?(o(t)-o(-t))/2:(a(t-1)-a(-t-1))*(c/2)}})},function(t,e,n){var r=n(0),i=n(105),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){n(39)(Math,"Math",!0)},function(t,e,n){var r=n(0),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:i)(t)}})},function(t,e,n){"use strict";var r=n(6),i=n(1),o=n(2),s=n(78),a=n(17),c=n(14),u=n(69),l=n(31),h=n(65),f=n(118),d=n(3),p=n(55).f,g=n(24).f,m=n(12).f,v=n(106),y=n(73).trim,b=i.Number,w=b.prototype,E=i.TypeError,T=o("".slice),S=o("".charCodeAt),x=function(t){var e=f(t,"number");return"bigint"==typeof e?e:A(e)},A=function(t){var e,n,r,i,o,s,a,c,u=f(t,"number");if(h(u))throw E("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),43===(e=S(u,0))||45===e){if(88===(n=S(u,2))||120===n)return NaN}else if(48===e){switch(S(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(s=(o=T(u,2)).length,a=0;a<s;a++)if((c=S(o,a))<48||c>i)return NaN;return parseInt(o,r)}return+u};if(s("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var I,k=function(t){var e=arguments.length<1?0:b(x(t)),n=this;return l(w,n)&&d((function(){v(n)}))?u(Object(e),n,k):e},C=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;C.length>R;R++)c(b,I=C[R])&&!c(k,I)&&m(k,I,g(b,I));k.prototype=w,w.constructor=k,a(i,"Number",k)}},function(t,e,n){n(0)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isFinite:n(298)})},function(t,e,n){var r=n(1).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(0)({target:"Number",stat:!0},{isInteger:n(140)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(140),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(176);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(t,e,n){var r=n(0),i=n(177);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),s=n(21),a=n(106),c=n(102),u=n(175),l=n(3),h=i.RangeError,f=i.String,d=i.isFinite,p=Math.abs,g=Math.floor,m=Math.pow,v=Math.round,y=o(1..toExponential),b=o(c),w=o("".slice),E="-6.9000e-11"===y(-69e-12,4)&&"1.25e+0"===y(1.255,2)&&"1.235e+4"===y(12345,3)&&"3e+1"===y(25,0),T=l((function(){y(1,1/0)}))&&l((function(){y(1,-1/0)})),S=!l((function(){y(1/0,1/0)}))&&!l((function(){y(NaN,1/0)}));r({target:"Number",proto:!0,forced:!E||!T||!S},{toExponential:function(t){var e=a(this);if(void 0===t)return y(e);var n=s(t);if(!d(e))return f(e);if(n<0||n>20)throw h("Incorrect fraction digits");if(E)return y(e,n);var r="",i="",o=0,c="",l="";if(e<0&&(r="-",e=-e),0===e)o=0,i=b("0",n+1);else{var T=u(e);o=g(T);var S=0,x=m(10,o-n);2*e>=(2*(S=v(e/x))+1)*x&&(S+=1),S>=m(10,n+1)&&(S/=10,o+=1),i=f(S)}return 0!==n&&(i=w(i,0,1)+"."+w(i,1)),0===o?(c="+",l="0"):(c=o>0?"+":"-",l=f(p(o))),r+(i+="e"+c+l)}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),s=n(21),a=n(106),c=n(102),u=n(3),l=i.RangeError,h=i.String,f=Math.floor,d=o(c),p=o("".slice),g=o(1..toFixed),m=function(t,e,n){return 0===e?n:e%2==1?m(t,e-1,n*t):m(t*t,e/2,n)},v=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=f(i/1e7)},y=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=f(r/e),r=r%e*1e7},b=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=h(t[e]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!u((function(){g({})}))},{toFixed:function(t){var e,n,r,i,o=a(this),c=s(t),u=[0,0,0,0,0,0],f="",g="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return h(o);if(o<0&&(f="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*m(2,69,1))-69)<0?o*m(2,-e,1):o/m(2,e,1),n*=4503599627370496,(e=52-e)>0){for(v(u,0,n),r=c;r>=7;)v(u,1e7,0),r-=7;for(v(u,m(10,r,1),0),r=e-1;r>=23;)y(u,1<<23),r-=23;y(u,1<<r),v(u,1,1),y(u,2),g=b(u)}else v(u,0,n),v(u,1<<-e,0),g=b(u)+d("0",c);return g=c>0?f+((i=g.length)<=c?"0."+d("0",c-i)+g:p(g,0,i-c)+"."+p(g,i-c)):f+g}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(3),s=n(106),a=i(1..toPrecision);r({target:"Number",proto:!0,forced:o((function(){return"1"!==a(1,void 0)}))||!o((function(){a({})}))},{toPrecision:function(t){return void 0===t?a(s(this)):a(s(this),t)}})},function(t,e,n){var r=n(0),i=n(178);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,n){n(0)({target:"Object",stat:!0,sham:!n(6)},{create:n(34)})},function(t,e,n){"use strict";var r=n(0),i=n(6),o=n(108),s=n(26),a=n(15),c=n(12);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){c.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),i=n(6);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(95)})},function(t,e,n){var r=n(0),i=n(6);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(12).f})},function(t,e,n){"use strict";var r=n(0),i=n(6),o=n(108),s=n(26),a=n(15),c=n(12);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){c.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),i=n(179).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(86),o=n(3),s=n(7),a=n(61).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!i},{freeze:function(t){return c&&s(t)?c(a(t)):t}})},function(t,e,n){var r=n(0),i=n(49),o=n(48);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},function(t,e,n){var r=n(0),i=n(3),o=n(28),s=n(24).f,a=n(6),c=i((function(){s(1)}));r({target:"Object",stat:!0,forced:!a||c,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},function(t,e,n){var r=n(0),i=n(6),o=n(122),s=n(28),a=n(24),c=n(48);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=s(t),i=a.f,u=o(r),l={},h=0;u.length>h;)void 0!==(n=i(r,e=u[h++]))&&c(l,e,n);return l}})},function(t,e,n){var r=n(0),i=n(3),o=n(126).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,n){var r=n(0),i=n(3),o=n(15),s=n(40),a=n(128);r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},function(t,e,n){n(0)({target:"Object",stat:!0},{hasOwn:n(14)})},function(t,e,n){n(0)({target:"Object",stat:!0},{is:n(180)})},function(t,e,n){var r=n(0),i=n(104);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},function(t,e,n){var r=n(0),i=n(3),o=n(7),s=n(30),a=n(138),c=Object.isFrozen;r({target:"Object",stat:!0,forced:i((function(){c(1)}))||a},{isFrozen:function(t){return!o(t)||(!(!a||"ArrayBuffer"!=s(t))||!!c&&c(t))}})},function(t,e,n){var r=n(0),i=n(3),o=n(7),s=n(30),a=n(138),c=Object.isSealed;r({target:"Object",stat:!0,forced:i((function(){c(1)}))||a},{isSealed:function(t){return!o(t)||(!(!a||"ArrayBuffer"!=s(t))||!!c&&c(t))}})},function(t,e,n){var r=n(0),i=n(15),o=n(79);r({target:"Object",stat:!0,forced:n(3)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){"use strict";var r=n(0),i=n(6),o=n(108),s=n(15),a=n(53),c=n(40),u=n(24).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=s(this),r=a(t);do{if(e=u(n,r))return e.get}while(n=c(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(6),o=n(108),s=n(15),a=n(53),c=n(40),u=n(24).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=s(this),r=a(t);do{if(e=u(n,r))return e.set}while(n=c(n))}})},function(t,e,n){var r=n(0),i=n(7),o=n(61).onFreeze,s=n(86),a=n(3),c=Object.preventExtensions;r({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!s},{preventExtensions:function(t){return c&&i(t)?c(o(t)):t}})},function(t,e,n){var r=n(0),i=n(7),o=n(61).onFreeze,s=n(86),a=n(3),c=Object.seal;r({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!s},{seal:function(t){return c&&i(t)?c(o(t)):t}})},function(t,e,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(43)})},function(t,e,n){var r=n(125),i=n(17),o=n(334);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";var r=n(125),i=n(56);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(0),i=n(179).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(176);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(t,e,n){var r=n(0),i=n(177);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){"use strict";var r,i,o,s,a=n(0),c=n(22),u=n(1),l=n(18),h=n(13),f=n(181),d=n(17),p=n(71),g=n(43),m=n(39),v=n(70),y=n(26),b=n(9),w=n(7),E=n(44),T=n(92),S=n(49),x=n(98),A=n(72),I=n(141).set,k=n(183),C=n(184),R=n(341),O=n(109),_=n(142),N=n(20),D=n(78),M=n(8),L=n(342),P=n(60),j=n(54),F=M("species"),U="Promise",V=N.getterFor(U),B=N.set,q=N.getterFor(U),H=f&&f.prototype,z=f,G=H,W=u.TypeError,$=u.document,K=u.process,Y=O.f,X=Y,Q=!!($&&$.createEvent&&u.dispatchEvent),J=b(u.PromiseRejectionEvent),Z=!1,tt=D(U,(function(){var t=T(z),e=t!==String(z);if(!e&&66===j)return!0;if(c&&!G.finally)return!0;if(j>=51&&/native code/.test(t))return!1;var n=new z((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[F]=r,!(Z=n.then((function(){}))instanceof r)||!e&&L&&!J})),et=tt||!x((function(t){z.all(t).catch((function(){}))})),nt=function(t){var e;return!(!w(t)||!b(e=t.then))&&e},rt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;k((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var s,a,c,u=n[o++],l=i?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{l?(i||(2===t.rejection&&at(t),t.rejection=1),!0===l?s=r:(p&&p.enter(),s=l(r),p&&(p.exit(),c=!0)),s===u.promise?d(W("Promise-chain cycle")):(a=nt(s))?h(a,s,f,d):f(s)):d(r)}catch(t){p&&!c&&p.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ot(t)}))}},it=function(t,e,n){var r,i;Q?((r=$.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!J&&(i=u["on"+t])?i(r):"unhandledrejection"===t&&R("Unhandled promise rejection",n)},ot=function(t){h(I,u,(function(){var e,n=t.facade,r=t.value;if(st(t)&&(e=_((function(){P?K.emit("unhandledRejection",r,n):it("unhandledrejection",n,r)})),t.rejection=P||st(t)?2:1,e.error))throw e.value}))},st=function(t){return 1!==t.rejection&&!t.parent},at=function(t){h(I,u,(function(){var e=t.facade;P?K.emit("rejectionHandled",e):it("rejectionhandled",e,t.value)}))},ct=function(t,e,n){return function(r){t(e,r,n)}},ut=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,rt(t,!0))},lt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw W("Promise can't be resolved itself");var r=nt(e);r?k((function(){var n={done:!1};try{h(r,e,ct(lt,n,t),ct(ut,n,t))}catch(e){ut(n,e,t)}})):(t.value=e,t.state=1,rt(t,!1))}catch(e){ut({done:!1},e,t)}}};if(tt&&(G=(z=function(t){E(this,G),y(t),h(r,this);var e=V(this);try{t(ct(lt,e),ct(ut,e))}catch(t){ut(e,t)}}).prototype,(r=function(t){B(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(G,{then:function(t,e){var n=q(this),r=n.reactions,i=Y(A(this,z));return i.ok=!b(t)||t,i.fail=b(e)&&e,i.domain=P?K.domain:void 0,n.parent=!0,r[r.length]=i,0!=n.state&&rt(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=V(t);this.promise=t,this.resolve=ct(lt,e),this.reject=ct(ut,e)},O.f=Y=function(t){return t===z||t===o?new i(t):X(t)},!c&&b(f)&&H!==Object.prototype)){s=H.then,Z||(d(H,"then",(function(t,e){var n=this;return new z((function(t,e){h(s,n,t,e)})).then(t,e)}),{unsafe:!0}),d(H,"catch",G.catch,{unsafe:!0}));try{delete H.constructor}catch(t){}g&&g(H,G)}a({global:!0,wrap:!0,forced:tt},{Promise:z}),m(z,U,!1,!0),v(U),o=l(U),a({target:U,stat:!0,forced:tt},{reject:function(t){var e=Y(this);return h(e.reject,void 0,t),e.promise}}),a({target:U,stat:!0,forced:c||tt},{resolve:function(t){return C(c&&this===o?z:this,t)}}),a({target:U,stat:!0,forced:et},{all:function(t){var e=this,n=Y(e),r=n.resolve,i=n.reject,o=_((function(){var n=y(e.resolve),o=[],s=0,a=1;S(t,(function(t){var c=s++,u=!1;a++,h(n,e,t).then((function(t){u||(u=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Y(e),r=n.reject,i=_((function(){var i=y(e.resolve);S(t,(function(t){h(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(45),i=n(1);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(t,e,n){var r=n(45);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports="object"==typeof window},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(26),s=n(109),a=n(142),c=n(49);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=s.f(e),r=n.resolve,u=n.reject,l=a((function(){var n=o(e.resolve),s=[],a=0,u=1;c(t,(function(t){var o=a++,c=!1;u++,i(n,e,t).then((function(t){c||(c=!0,s[o]={status:"fulfilled",value:t},--u||r(s))}),(function(t){c||(c=!0,s[o]={status:"rejected",reason:t},--u||r(s))}))})),--u||r(s)}));return l.error&&u(l.value),n.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(26),o=n(18),s=n(13),a=n(109),c=n(142),u=n(49);r({target:"Promise",stat:!0},{any:function(t){var e=this,n=o("AggregateError"),r=a.f(e),l=r.resolve,h=r.reject,f=c((function(){var r=i(e.resolve),o=[],a=0,c=1,f=!1;u(t,(function(t){var i=a++,u=!1;c++,s(r,e,t).then((function(t){u||f||(f=!0,l(t))}),(function(t){u||f||(u=!0,o[i]=t,--c||h(new n(o,"No one promise resolved")))}))})),--c||h(new n(o,"No one promise resolved"))}));return f.error&&h(f.value),r.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(22),o=n(181),s=n(3),a=n(18),c=n(9),u=n(72),l=n(184),h=n(17);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,a("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!i&&c(o)){var f=a("Promise").prototype.finally;o.prototype.finally!==f&&h(o.prototype,"finally",f,{unsafe:!0})}},function(t,e,n){var r=n(0),i=n(33),o=n(26),s=n(5);r({target:"Reflect",stat:!0,forced:!n(3)((function(){Reflect.apply((function(){}))}))},{apply:function(t,e,n){return i(o(t),e,s(n))}})},function(t,e,n){var r=n(0),i=n(18),o=n(33),s=n(172),a=n(136),c=n(5),u=n(7),l=n(34),h=n(3),f=i("Reflect","construct"),d=Object.prototype,p=[].push,g=h((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),m=!h((function(){f((function(){}))})),v=g||m;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){a(t),c(e);var n=arguments.length<3?t:a(arguments[2]);if(m&&!g)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(s,t,r))}var i=n.prototype,h=l(u(i)?i:d),v=o(t,h,e);return u(v)?v:h}})},function(t,e,n){var r=n(0),i=n(6),o=n(5),s=n(53),a=n(12);r({target:"Reflect",stat:!0,forced:n(3)((function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(t,e,n){o(t);var r=s(e);o(n);try{return a.f(t,r,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(5),o=n(24).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(0),i=n(13),o=n(7),s=n(5),a=n(185),c=n(24),u=n(40);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l,h=arguments.length<3?e:arguments[2];return s(e)===h?e[n]:(r=c.f(e,n))?a(r)?r.value:void 0===r.get?void 0:i(r.get,h):o(l=u(e))?t(l,n,h):void 0}})},function(t,e,n){var r=n(0),i=n(6),o=n(5),s=n(24);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return s.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(5),o=n(40);r({target:"Reflect",stat:!0,sham:!n(128)},{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(5),o=n(104);r({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),o(t)}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{ownKeys:n(122)})},function(t,e,n){var r=n(0),i=n(18),o=n(5);r({target:"Reflect",stat:!0,sham:!n(86)},{preventExtensions:function(t){o(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(13),o=n(5),s=n(7),a=n(185),c=n(3),u=n(12),l=n(24),h=n(40),f=n(38);r({target:"Reflect",stat:!0,forced:c((function(){var t=function(){},e=u.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}))},{set:function t(e,n,r){var c,d,p,g=arguments.length<4?e:arguments[3],m=l.f(o(e),n);if(!m){if(s(d=h(e)))return t(d,n,r,g);m=f(0)}if(a(m)){if(!1===m.writable||!s(g))return!1;if(c=l.f(g,n)){if(c.get||c.set||!1===c.writable)return!1;c.value=r,u.f(g,n,c)}else u.f(g,n,f(0,r))}else{if(void 0===(p=m.set))return!1;i(p,g,r)}return!0}})},function(t,e,n){var r=n(0),i=n(5),o=n(159),s=n(43);s&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),o(e);try{return s(t,e),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(1),o=n(39);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},function(t,e,n){var r=n(6),i=n(1),o=n(2),s=n(78),a=n(69),c=n(27),u=n(12).f,l=n(55).f,h=n(31),f=n(87),d=n(10),p=n(62),g=n(110),m=n(17),v=n(3),y=n(14),b=n(20).enforce,w=n(70),E=n(8),T=n(143),S=n(186),x=E("match"),A=i.RegExp,I=A.prototype,k=i.SyntaxError,C=o(p),R=o(I.exec),O=o("".charAt),_=o("".replace),N=o("".indexOf),D=o("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,P=/a/g,j=new A(L)!==L,F=g.MISSED_STICKY,U=g.UNSUPPORTED_Y,V=r&&(!j||F||T||S||v((function(){return P[x]=!1,A(L)!=L||A(P)==P||"/a/i"!=A(L,"i")})));if(s("RegExp",V)){for(var B=function(t,e){var n,r,i,o,s,u,l=h(I,this),p=f(t),g=void 0===e,m=[],v=t;if(!l&&p&&g&&t.constructor===B)return t;if((p||h(I,t))&&(t=t.source,g&&(e="flags"in v?v.flags:C(v))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),v=t,T&&"dotAll"in L&&(r=!!e&&N(e,"s")>-1)&&(e=_(e,/s/g,"")),n=e,F&&"sticky"in L&&(i=!!e&&N(e,"y")>-1)&&U&&(e=_(e,/y/g,"")),S&&(t=(o=function(t){for(var e,n=t.length,r=0,i="",o=[],s={},a=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(e=O(t,r)))e+=O(t,++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:R(M,D(t,r+1))&&(r+=2,c=!0),i+=e,u++;continue;case">"===e&&c:if(""===l||y(s,l))throw new k("Invalid capture group name");s[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=e:i+=e}return[i,o]}(t))[0],m=o[1]),s=a(A(t,e),l?this:I,B),(r||i||m.length)&&(u=b(s),r&&(u.dotAll=!0,u.raw=B(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=O(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+O(t,++r);return i}(t),n)),i&&(u.sticky=!0),m.length&&(u.groups=m)),t!==v)try{c(s,"source",""===v?"(?:)":v)}catch(t){}return s},q=function(t){t in B||u(B,t,{configurable:!0,get:function(){return A[t]},set:function(e){A[t]=e}})},H=l(A),z=0;H.length>z;)q(H[z++]);I.constructor=B,B.prototype=I,m(i,"RegExp",B)}w("RegExp")},function(t,e,n){var r=n(1),i=n(6),o=n(143),s=n(30),a=n(12).f,c=n(20).get,u=RegExp.prototype,l=r.TypeError;i&&o&&a(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!c(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},function(t,e,n){var r=n(6),i=n(12),o=n(62),s=n(3),a=RegExp.prototype;r&&s((function(){return"sy"!==Object.getOwnPropertyDescriptor(a,"flags").get.call({dotAll:!0,sticky:!0})}))&&i.f(a,"flags",{configurable:!0,get:o})},function(t,e,n){var r=n(1),i=n(6),o=n(110).MISSED_STICKY,s=n(30),a=n(12).f,c=n(20).get,u=RegExp.prototype,l=r.TypeError;i&&o&&a(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!c(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},function(t,e,n){"use strict";n(144);var r,i,o=n(0),s=n(1),a=n(13),c=n(2),u=n(9),l=n(7),h=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),f=s.Error,d=c(/./.test);o({target:"RegExp",proto:!0,forced:!h},{test:function(t){var e=this.exec;if(!u(e))return d(this,t);var n=a(e,this,t);if(null!==n&&!l(n))throw new f("RegExp exec method returned something other than an Object or null");return!!n}})},function(t,e,n){"use strict";var r=n(2),i=n(67).PROPER,o=n(17),s=n(5),a=n(31),c=n(10),u=n(3),l=n(62),h=RegExp.prototype,f=h.toString,d=r(l),p=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),g=i&&"toString"!=f.name;(p||g)&&o(RegExp.prototype,"toString",(function(){var t=s(this),e=c(t.source),n=t.flags;return"/"+e+"/"+c(void 0===n&&a(h,t)&&!("flags"in h)?d(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";n(103)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(173))},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(19),s=n(21),a=n(10),c=n(3),u=i("".charAt);r({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="".at(-2)}))},{at:function(t){var e=a(o(this)),n=e.length,r=s(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:u(e,i)}})},function(t,e,n){"use strict";var r=n(0),i=n(112).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r,i=n(0),o=n(2),s=n(24).f,a=n(32),c=n(10),u=n(145),l=n(19),h=n(146),f=n(22),d=o("".endsWith),p=o("".slice),g=Math.min,m=h("endsWith");i({target:"String",proto:!0,forced:!!(f||m||(r=s(String.prototype,"endsWith"),!r||r.writable))&&!m},{endsWith:function(t){var e=c(l(this));u(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:g(a(n),r),o=c(t);return d?d(e,o,i):p(e,i-o.length,i)===o}})},function(t,e,n){var r=n(0),i=n(1),o=n(2),s=n(47),a=i.RangeError,c=String.fromCharCode,u=String.fromCodePoint,l=o([].join);r({target:"String",stat:!0,forced:!!u&&1!=u.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],s(e,1114111)!==e)throw a(e+" is not a valid code point");n[i]=e<65536?c(e):c(55296+((e-=65536)>>10),e%1024+56320)}return l(n,"")}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(145),s=n(19),a=n(10),c=n(146),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(a(s(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(13),i=n(113),o=n(5),s=n(32),a=n(10),c=n(19),u=n(46),l=n(114),h=n(88);i("match",(function(t,e,n){return[function(e){var n=c(this),i=null==e?void 0:u(e,t);return i?r(i,e,n):new RegExp(e)[t](a(n))},function(t){var r=o(this),i=a(t),c=n(e,r,i);if(c.done)return c.value;if(!r.global)return h(r,i);var u=r.unicode;r.lastIndex=0;for(var f,d=[],p=0;null!==(f=h(r,i));){var g=a(f[0]);d[p]=g,""===g&&(r.lastIndex=l(i,s(r.lastIndex),u)),p++}return 0===p?null:d}]}))},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(13),s=n(2),a=n(132),c=n(19),u=n(32),l=n(10),h=n(5),f=n(30),d=n(31),p=n(87),g=n(62),m=n(46),v=n(17),y=n(3),b=n(8),w=n(72),E=n(114),T=n(88),S=n(20),x=n(22),A=b("matchAll"),I=S.set,k=S.getterFor("RegExp String Iterator"),C=RegExp.prototype,R=i.TypeError,O=s(g),_=s("".indexOf),N=s("".matchAll),D=!!N&&!y((function(){N("a",/./)})),M=a((function(t,e,n,r){I(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var t=k(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=T(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""===l(r[0])&&(e.lastIndex=E(n,u(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),L=function(t){var e,n,r,i,o,s,a=h(this),c=l(t);return e=w(a,RegExp),void 0===(n=a.flags)&&d(C,a)&&!("flags"in C)&&(n=O(a)),r=void 0===n?"":l(n),i=new e(e===RegExp?a.source:a,r),o=!!~_(r,"g"),s=!!~_(r,"u"),i.lastIndex=u(a.lastIndex),new M(i,c,o,s)};r({target:"String",proto:!0,forced:D},{matchAll:function(t){var e,n,r,i,s=c(this);if(null!=t){if(p(t)&&(e=l(c("flags"in C?t.flags:O(t))),!~_(e,"g")))throw R("`.matchAll` does not allow non-global regexes");if(D)return N(s,t);if(void 0===(r=m(t,A))&&x&&"RegExp"==f(t)&&(r=L),r)return o(r,t,s)}else if(D)return N(s,t);return n=l(s),i=new RegExp(t,"g"),x?o(L,i,n):i[A](n)}}),x||A in C||v(C,A,L)},function(t,e,n){"use strict";var r=n(0),i=n(137).end;r({target:"String",proto:!0,forced:n(188)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(137).start;r({target:"String",proto:!0,forced:n(188)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),i=n(2),o=n(28),s=n(15),a=n(10),c=n(16),u=i([].push),l=i([].join);r({target:"String",stat:!0},{raw:function(t){for(var e=o(s(t).raw),n=c(e),r=arguments.length,i=[],h=0;n>h;){if(u(i,a(e[h++])),h===n)return l(i,"");h<r&&u(i,a(arguments[h]))}}})},function(t,e,n){n(0)({target:"String",proto:!0},{repeat:n(102)})},function(t,e,n){"use strict";var r=n(33),i=n(13),o=n(2),s=n(113),a=n(3),c=n(5),u=n(9),l=n(21),h=n(32),f=n(10),d=n(19),p=n(114),g=n(46),m=n(189),v=n(88),y=n(8)("replace"),b=Math.max,w=Math.min,E=o([].concat),T=o([].push),S=o("".indexOf),x=o("".slice),A="$0"==="a".replace(/./,"$0"),I=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(t,e,n){var o=I?"$":"$0";return[function(t,n){var r=d(this),o=null==t?void 0:g(t,y);return o?i(o,t,r,n):i(e,f(r),t,n)},function(t,i){var s=c(this),a=f(t);if("string"==typeof i&&-1===S(i,o)&&-1===S(i,"$<")){var d=n(e,s,a,i);if(d.done)return d.value}var g=u(i);g||(i=f(i));var y=s.global;if(y){var A=s.unicode;s.lastIndex=0}for(var I=[];;){var k=v(s,a);if(null===k)break;if(T(I,k),!y)break;""===f(k[0])&&(s.lastIndex=p(a,h(s.lastIndex),A))}for(var C,R="",O=0,_=0;_<I.length;_++){for(var N=f((k=I[_])[0]),D=b(w(l(k.index),a.length),0),M=[],L=1;L<k.length;L++)T(M,void 0===(C=k[L])?C:String(C));var P=k.groups;if(g){var j=E([N],M,D,a);void 0!==P&&T(j,P);var F=f(r(i,void 0,j))}else F=m(N,a,D,M,P,i);D>=O&&(R+=x(a,O,D)+F,O=D+N.length)}return R+x(a,O)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!A||I)},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(13),s=n(2),a=n(19),c=n(9),u=n(87),l=n(10),h=n(46),f=n(62),d=n(189),p=n(8),g=n(22),m=p("replace"),v=RegExp.prototype,y=i.TypeError,b=s(f),w=s("".indexOf),E=s("".replace),T=s("".slice),S=Math.max,x=function(t,e,n){return n>t.length?-1:""===e?n:w(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,i,s,f,p,A,I,k,C=a(this),R=0,O=0,_="";if(null!=t){if((n=u(t))&&(r=l(a("flags"in v?t.flags:b(t))),!~w(r,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(i=h(t,m))return o(i,t,C,e);if(g&&n)return E(l(C),t,e)}for(s=l(C),f=l(t),(p=c(e))||(e=l(e)),A=f.length,I=S(1,A),R=x(s,f,0);-1!==R;)k=p?l(e(f,R,s)):d(f,s,R,[],void 0,e),_+=T(s,O,R)+k,O=R+A,R=x(s,f,R+I);return O<s.length&&(_+=T(s,O)),_}})},function(t,e,n){"use strict";var r=n(13),i=n(113),o=n(5),s=n(19),a=n(180),c=n(10),u=n(46),l=n(88);i("search",(function(t,e,n){return[function(e){var n=s(this),i=null==e?void 0:u(e,t);return i?r(i,e,n):new RegExp(e)[t](c(n))},function(t){var r=o(this),i=c(t),s=n(e,r,i);if(s.done)return s.value;var u=r.lastIndex;a(u,0)||(r.lastIndex=0);var h=l(r,i);return a(r.lastIndex,u)||(r.lastIndex=u),null===h?-1:h.index}]}))},function(t,e,n){"use strict";var r=n(33),i=n(13),o=n(2),s=n(113),a=n(87),c=n(5),u=n(19),l=n(72),h=n(114),f=n(32),d=n(10),p=n(46),g=n(80),m=n(88),v=n(111),y=n(110),b=n(3),w=y.UNSUPPORTED_Y,E=Math.min,T=[].push,S=o(/./.exec),x=o(T),A=o("".slice);s("split",(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=d(u(this)),s=void 0===n?4294967295:n>>>0;if(0===s)return[];if(void 0===t)return[o];if(!a(t))return i(e,o,t,s);for(var c,l,h,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,y=new RegExp(t.source,p+"g");(c=i(v,y,o))&&!((l=y.lastIndex)>m&&(x(f,A(o,m,c.index)),c.length>1&&c.index<o.length&&r(T,f,g(c,1)),h=c[0].length,m=l,f.length>=s));)y.lastIndex===c.index&&y.lastIndex++;return m===o.length?!h&&S(y,"")||x(f,""):x(f,A(o,m)),f.length>s?g(f,0,s):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:i(e,this,t,n)}:e,[function(e,n){var r=u(this),s=null==e?void 0:p(e,t);return s?i(s,e,r,n):i(o,d(r),e,n)},function(t,r){var i=c(this),s=d(t),a=n(o,i,s,r,o!==e);if(a.done)return a.value;var u=l(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),v=new u(w?"^(?:"+i.source+")":i,g),y=void 0===r?4294967295:r>>>0;if(0===y)return[];if(0===s.length)return null===m(v,s)?[s]:[];for(var b=0,T=0,S=[];T<s.length;){v.lastIndex=w?0:T;var I,k=m(v,w?A(s,T):s);if(null===k||(I=E(f(v.lastIndex+(w?T:0)),s.length))===b)T=h(s,T,p);else{if(x(S,A(s,b,T)),S.length===y)return S;for(var C=1;C<=k.length-1;C++)if(x(S,k[C]),S.length===y)return S;T=b=I}}return x(S,A(s,b)),S}]}),!!b((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w)},function(t,e,n){"use strict";var r,i=n(0),o=n(2),s=n(24).f,a=n(32),c=n(10),u=n(145),l=n(19),h=n(146),f=n(22),d=o("".startsWith),p=o("".slice),g=Math.min,m=h("startsWith");i({target:"String",proto:!0,forced:!!(f||m||(r=s(String.prototype,"startsWith"),!r||r.writable))&&!m},{startsWith:function(t){var e=c(l(this));u(t);var n=a(g(arguments.length>1?arguments[1]:void 0,e.length)),r=c(t);return d?d(e,r,n):p(e,n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(19),s=n(21),a=n(10),c=i("".slice),u=Math.max,l=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(t,e){var n,r,i=a(o(this)),h=i.length,f=s(t);return f===1/0&&(f=0),f<0&&(f=u(h+f,0)),(n=void 0===e?h:s(e))<=0||n===1/0||f>=(r=l(f+n,h))?"":c(i,f,r)}})},function(t,e,n){"use strict";var r=n(0),i=n(73).trim;r({target:"String",proto:!0,forced:n(147)("trim")},{trim:function(){return i(this)}})},function(t,e,n){"use strict";var r=n(0),i=n(73).end,o=n(147)("trimEnd"),s=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,name:"trimEnd",forced:o},{trimEnd:s,trimRight:s})},function(t,e,n){"use strict";var r=n(0),i=n(73).start,o=n(147)("trimStart"),s=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,name:"trimStart",forced:o},{trimStart:s,trimLeft:s})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("big")},{big:function(){return i(this,"big","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("blink")},{blink:function(){return i(this,"blink","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("bold")},{bold:function(){return i(this,"b","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("italics")},{italics:function(){return i(this,"i","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("link")},{link:function(t){return i(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("small")},{small:function(){return i(this,"small","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("strike")},{strike:function(){return i(this,"strike","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("sub")},{sub:function(){return i(this,"sub","","")}})},function(t,e,n){"use strict";var r=n(0),i=n(35);r({target:"String",proto:!0,forced:n(36)("sup")},{sup:function(){return i(this,"sup","","")}})},function(t,e,n){n(52)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(1),i=n(21),o=r.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw o("The argument can't be less than 0");return e}},function(t,e,n){n(52)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(52)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(11),i=n(16),o=n(21),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(t){var e=s(this),n=i(e),r=o(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}))},function(t,e,n){"use strict";var r=n(2),i=n(11),o=r(n(163)),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return o(s(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=n(23).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=n(13),o=n(130),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){var e=arguments.length;return i(o,s(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=n(23).filter,o=n(415),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(t){var e=i(s(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)}))},function(t,e,n){var r=n(416),i=n(115);t.exports=function(t,e){return r(i(t),e)}},function(t,e,n){var r=n(16);t.exports=function(t,e){for(var n=0,i=r(e),o=new t(i);i>n;)o[n]=e[n++];return o}},function(t,e,n){"use strict";var r=n(11),i=n(23).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=n(23).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=n(23).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(148);(0,n(11).exportTypedArrayStaticMethod)("from",n(191),r)},function(t,e,n){"use strict";var r=n(11),i=n(77).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=n(77).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(2),s=n(11),a=n(99),c=n(8)("iterator"),u=r.Uint8Array,l=o(a.values),h=o(a.keys),f=o(a.entries),d=s.aTypedArray,p=s.exportTypedArrayMethod,g=u&&u.prototype,m=!i((function(){g[c].call([1])})),v=!!g&&g.values&&g[c]===g.values&&"values"===g.values.name,y=function(){return l(d(this))};p("entries",(function(){return f(d(this))}),m),p("keys",(function(){return h(d(this))}),m),p("values",y,m||!v,{name:"values"}),p(c,y,m||!v,{name:"values"})},function(t,e,n){"use strict";var r=n(11),i=n(2),o=r.aTypedArray,s=r.exportTypedArrayMethod,a=i([].join);s("join",(function(t){return a(o(this),t)}))},function(t,e,n){"use strict";var r=n(11),i=n(33),o=n(168),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return i(o,s(this),e>1?[t,arguments[1]]:[t])}))},function(t,e,n){"use strict";var r=n(11),i=n(23).map,o=n(115),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(o(t))(e)}))}))},function(t,e,n){"use strict";var r=n(11),i=n(148),o=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(o(this))(e);e>t;)n[t]=arguments[t++];return n}),i)},function(t,e,n){"use strict";var r=n(11),i=n(100).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=n(100).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(11),i=r.aTypedArray,o=r.exportTypedArrayMethod,s=Math.floor;o("reverse",(function(){for(var t,e=i(this).length,n=s(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(1),i=n(11),o=n(16),s=n(190),a=n(15),c=n(3),u=r.RangeError,l=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(t){l(this);var e=s(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),i=o(r),c=0;if(i+e>n)throw u("Wrong length");for(;c<i;)this[e+c]=r[c++]}),c((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(11),i=n(115),o=n(3),s=n(59),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(t,e){for(var n=s(a(this),t,e),r=i(this),o=0,c=n.length,u=new r(c);c>o;)u[o]=n[o++];return u}),o((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(11),i=n(23).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(3),s=n(26),a=n(133),c=n(11),u=n(169),l=n(170),h=n(54),f=n(134),d=r.Array,p=c.aTypedArray,g=c.exportTypedArrayMethod,m=r.Uint16Array,v=m&&i(m.prototype.sort),y=!(!v||o((function(){v(new m(2),null)}))&&o((function(){v(new m(2),{})}))),b=!!v&&!o((function(){if(h)return h<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var t,e,n=new m(516),r=d(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(v(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));g("sort",(function(t){return void 0!==t&&s(t),b?v(this,t):a(p(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!b||y)},function(t,e,n){"use strict";var r=n(11),i=n(32),o=n(47),s=n(115),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=a(this),r=n.length,c=o(t,r);return new(s(n))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-c))}))},function(t,e,n){"use strict";var r=n(1),i=n(33),o=n(11),s=n(3),a=n(59),c=r.Int8Array,u=o.aTypedArray,l=o.exportTypedArrayMethod,h=[].toLocaleString,f=!!c&&s((function(){h.call(new c(1))}));l("toLocaleString",(function(){return i(h,f?a(u(this)):u(this),a(arguments))}),s((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!s((function(){c.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(11).exportTypedArrayMethod,i=n(3),o=n(1),s=n(2),a=o.Uint8Array,c=a&&a.prototype||{},u=[].toString,l=s([].join);i((function(){u.call({})}))&&(u=function(){return l(this)});var h=c.toString!=u;r("toString",u,h)},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(10),s=String.fromCharCode,a=i("".charAt),c=i(/./.exec),u=i("".slice),l=/^[\da-f]{2}$/i,h=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(t){for(var e,n,r=o(t),i="",f=r.length,d=0;d<f;){if("%"===(e=a(r,d++)))if("u"===a(r,d)){if(n=u(r,d+1,d+5),c(h,n)){i+=s(parseInt(n,16)),d+=5;continue}}else if(n=u(r,d,d+2),c(l,n)){i+=s(parseInt(n,16)),d+=2;continue}i+=e}return i}})},function(t,e,n){"use strict";var r,i=n(1),o=n(2),s=n(71),a=n(61),c=n(103),u=n(192),l=n(7),h=n(104),f=n(20).enforce,d=n(153),p=!i.ActiveXObject&&"ActiveXObject"in i,g=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},m=c("WeakMap",g,u);if(d&&p){r=u.getConstructor(g,"WeakMap",!0),a.enable();var v=m.prototype,y=o(v.delete),b=o(v.has),w=o(v.get),E=o(v.set);s(v,{delete:function(t){if(l(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),y(this,t)||e.frozen.delete(t)}return y(this,t)},has:function(t){if(l(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),b(this,t)||e.frozen.has(t)}return b(this,t)},get:function(t){if(l(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),b(this,t)?w(this,t):e.frozen.get(t)}return w(this,t)},set:function(t,e){if(l(t)&&!h(t)){var n=f(this);n.frozen||(n.frozen=new r),b(this,t)?E(this,t,e):n.frozen.set(t,e)}else E(this,t,e);return this}})}},function(t,e,n){"use strict";n(103)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(192))},function(t,e,n){var r=n(1),i=n(193),o=n(194),s=n(165),a=n(27),c=function(t){if(t&&t.forEach!==s)try{a(t,"forEach",s)}catch(e){t.forEach=s}};for(var u in i)i[u]&&c(r[u]&&r[u].prototype);c(o)},function(t,e,n){var r=n(1),i=n(193),o=n(194),s=n(99),a=n(27),c=n(8),u=c("iterator"),l=c("toStringTag"),h=s.values,f=function(t,e){if(t){if(t[u]!==h)try{a(t,u,h)}catch(e){t[u]=h}if(t[l]||a(t,l,e),i[e])for(var n in s)if(t[n]!==s[n])try{a(t,n,s[n])}catch(e){t[n]=s[n]}}};for(var d in i)f(r[d]&&r[d].prototype,d);f(o,"DOMTokenList")},function(t,e,n){"use strict";var r=n(0),i=n(444),o=n(18),s=n(3),a=n(34),c=n(38),u=n(12).f,l=n(95),h=n(17),f=n(14),d=n(44),p=n(5),g=n(161),m=n(82),v=n(195),y=n(96),b=n(20),w=n(6),E=n(22),T=o("Error"),S=o("DOMException")||function(){try{(new(o("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if("DATA_CLONE_ERR"==t.name&&25==t.code)return t.constructor}}(),x=S&&S.prototype,A=T.prototype,I=b.set,k=b.getterFor("DOMException"),C="stack"in T("DOMException"),R=function(t){return f(v,t)&&v[t].m?v[t].c:0},O=function(){d(this,_);var t=arguments.length,e=m(t<1?void 0:arguments[0]),n=m(t<2?void 0:arguments[1],"Error"),r=R(n);if(I(this,{type:"DOMException",name:n,message:e,code:r}),w||(this.name=n,this.message=e,this.code=r),C){var i=T(e);i.name="DOMException",u(this,"stack",c(1,y(i.stack,1)))}},_=O.prototype=a(A),N=function(t){return{enumerable:!0,configurable:!0,get:t}},D=function(t){return N((function(){return k(this)[t]}))};w&&l(_,{name:D("name"),message:D("message"),code:D("code")}),u(_,"constructor",c(1,O));var M=s((function(){return!(new S instanceof T)})),L=M||s((function(){return A.toString!==g||"2: 1"!==String(new S(1,2))})),P=M||s((function(){return 25!==new S(1,"DataCloneError").code})),j=M||25!==S.DATA_CLONE_ERR||25!==x.DATA_CLONE_ERR,F=E?L||P||j:M;r({global:!0,forced:F},{DOMException:F?O:S});var U=o("DOMException"),V=U.prototype;for(var B in L&&(E||S===U)&&h(V,"toString",g),P&&w&&S===U&&u(V,"code",N((function(){return R(p(this).name)}))),v)if(f(v,B)){var q=v[B],H=q.s,z=c(6,q.c);f(U,H)||u(U,H,z),f(V,H)||u(V,H,z)}},function(t,e,n){var r=n(60);t.exports=function(t){try{if(r)return Function('return require("'+t+'")')()}catch(t){}}},function(t,e,n){"use strict";var r=n(0),i=n(18),o=n(38),s=n(12).f,a=n(14),c=n(44),u=n(69),l=n(82),h=n(195),f=n(96),d=n(22),p=i("Error"),g=i("DOMException"),m=function(){c(this,v);var t=arguments.length,e=l(t<1?void 0:arguments[0]),n=l(t<2?void 0:arguments[1],"Error"),r=new g(e,n),i=p(e);return i.name="DOMException",s(r,"stack",o(1,f(i.stack,1))),u(r,this,m),r},v=m.prototype=g.prototype,y="stack"in p("DOMException"),b="stack"in new g(1,2),w=y&&!b;r({global:!0,forced:d||w},{DOMException:w?m:g});var E=i("DOMException"),T=E.prototype;if(T.constructor!==E)for(var S in d||s(T,"constructor",o(1,E)),h)if(a(h,S)){var x=h[S],A=x.s;a(E,A)||s(E,A,o(6,x.c))}},function(t,e,n){var r=n(18);n(39)(r("DOMException"),"DOMException")},function(t,e,n){var r=n(0),i=n(1),o=n(141);r({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){var r=n(0),i=n(1),o=n(183),s=n(60),a=i.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=s&&a.domain;o(e?e.bind(t):t)}})},function(t,e,n){var r,i=n(22),o=n(0),s=n(1),a=n(18),c=n(2),u=n(3),l=n(66),h=n(9),f=n(68),d=n(7),p=n(65),g=n(49),m=n(5),v=n(56),y=n(14),b=n(48),w=n(27),E=n(16),T=n(62),S=n(127),x=s.Object,A=s.Date,I=s.Error,k=s.EvalError,C=s.RangeError,R=s.ReferenceError,O=s.SyntaxError,_=s.TypeError,N=s.URIError,D=s.PerformanceMark,M=s.WebAssembly,L=M&&M.CompileError||I,P=M&&M.LinkError||I,j=M&&M.RuntimeError||I,F=a("DOMException"),U=a("Set"),V=a("Map"),B=V.prototype,q=c(B.has),H=c(B.get),z=c(B.set),G=c(U.prototype.add),W=a("Object","keys"),$=c([].push),K=c((!0).valueOf),Y=c(1..valueOf),X=c("".valueOf),Q=c(T),J=c(A.prototype.getTime),Z=l("structuredClone"),tt=function(t){return!u((function(){var e=new s.Set([7]),n=t(e),r=t(x(7));return n==e||!n.has(7)||"object"!=typeof r||7!=r}))&&t},et=s.structuredClone,nt=i||(r=et,!(!u((function(){var t=r(new s.AggregateError([1],Z,{cause:3}));return"AggregateError"!=t.name||1!=t.errors[0]||t.message!=Z||3!=t.cause}))&&r)),rt=!et&&tt((function(t){return new D(Z,{detail:t}).detail})),it=tt(et)||rt,ot=function(t){throw new F("Uncloneable type: "+t,"DataCloneError")},st=function(t,e){throw new F((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine","DataCloneError")},at=function(t,e){if(p(t)&&ot("Symbol"),!d(t))return t;if(e){if(q(e,t))return H(e,t)}else e=new V;var n,r,i,o,c,u,l,g,m,T,D=v(t),M=!1;switch(D){case"Array":i=[],M=!0;break;case"Object":i={},M=!0;break;case"Map":i=new V,M=!0;break;case"Set":i=new U,M=!0;break;case"RegExp":i=new RegExp(t.source,"flags"in t?t.flags:Q(t));break;case"Error":switch(r=t.name){case"AggregateError":i=a("AggregateError")([]);break;case"EvalError":i=k();break;case"RangeError":i=C();break;case"ReferenceError":i=R();break;case"SyntaxError":i=O();break;case"TypeError":i=_();break;case"URIError":i=N();break;case"CompileError":i=L();break;case"LinkError":i=P();break;case"RuntimeError":i=j();break;default:i=I()}M=!0;break;case"DOMException":i=new F(t.message,t.name),M=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=s[D],d(n)||st(D),i=new n(at(t.buffer,e),t.byteOffset,"DataView"===D?t.byteLength:t.length);break;case"DOMQuad":try{i=new DOMQuad(at(t.p1,e),at(t.p2,e),at(t.p3,e),at(t.p4,e))}catch(e){it?i=it(t):st(D)}break;case"FileList":if(n=s.DataTransfer,f(n)){for(o=new n,c=0,u=E(t);c<u;c++)o.items.add(at(t[c],e));i=o.files}else it?i=it(t):st(D);break;case"ImageData":try{i=new ImageData(at(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){it?i=it(t):st(D)}break;default:if(it)i=it(t);else switch(D){case"BigInt":i=x(t.valueOf());break;case"Boolean":i=x(K(t));break;case"Number":i=x(Y(t));break;case"String":i=x(X(t));break;case"Date":i=new A(J(t));break;case"ArrayBuffer":(n=s.DataView)||"function"==typeof t.slice||st(D);try{if("function"==typeof t.slice)i=t.slice(0);else for(u=t.byteLength,i=new ArrayBuffer(u),m=new n(t),T=new n(i),c=0;c<u;c++)T.setUint8(c,m.getUint8(c))}catch(t){throw new F("ArrayBuffer is deatched","DataCloneError")}break;case"SharedArrayBuffer":i=t;break;case"Blob":try{i=t.slice(0,t.size,t.type)}catch(t){st(D)}break;case"DOMPoint":case"DOMPointReadOnly":n=s[D];try{i=n.fromPoint?n.fromPoint(t):new n(t.x,t.y,t.z,t.w)}catch(t){st(D)}break;case"DOMRect":case"DOMRectReadOnly":n=s[D];try{i=n.fromRect?n.fromRect(t):new n(t.x,t.y,t.width,t.height)}catch(t){st(D)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=s[D];try{i=n.fromMatrix?n.fromMatrix(t):new n(t)}catch(t){st(D)}break;case"AudioData":case"VideoFrame":h(t.clone)||st(D);try{i=t.clone()}catch(t){ot(D)}break;case"File":try{i=new File([t],t.name,t)}catch(t){st(D)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":st(D);default:ot(D)}}if(z(e,t,i),M)switch(D){case"Array":case"Object":for(l=W(t),c=0,u=E(l);c<u;c++)g=l[c],b(i,g,at(t[g],e));break;case"Map":t.forEach((function(t,n){z(i,at(n,e),at(t,e))}));break;case"Set":t.forEach((function(t){G(i,at(t,e))}));break;case"Error":w(i,"message",at(t.message,e)),y(t,"cause")&&w(i,"cause",at(t.cause,e)),"AggregateError"==r&&(i.errors=at(t.errors,e));case"DOMException":S&&w(i,"stack",at(t.stack,e))}return i},ct=et&&!u((function(){var t=new ArrayBuffer(8),e=et(t,{transfer:[t]});return 0!=t.byteLength||8!=e.byteLength})),ut=function(t,e){if(!d(t))throw _("Transfer option cannot be converted to a sequence");var n=[];g(t,(function(t){$(n,m(t))}));var r,i,o,a,c,u,l=0,p=E(n);if(ct)for(a=et(n,{transfer:n});l<p;)z(e,n[l],a[l++]);else for(;l<p;){if(r=n[l++],q(e,r))throw new F("Duplicate transferable","DataCloneError");switch(i=v(r)){case"ImageBitmap":o=s.OffscreenCanvas,f(o)||st(i,"Transferring");try{(u=new o(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),c=u.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":h(r.clone)&&h(r.close)||st(i,"Transferring");try{c=r.clone(),r.close()}catch(t){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":st(i,"Transferring")}if(void 0===c)throw new F("This object cannot be transferred: "+i,"DataCloneError");z(e,r,c)}};o({global:!0,enumerable:!0,sham:!ct,forced:nt},{structuredClone:function(t){var e,n=arguments.length>1?m(arguments[1]):void 0,r=n?n.transfer:void 0;return void 0!==r&&(e=new V,ut(r,e)),at(t,e)}})},function(t,e,n){var r=n(0),i=n(1),o=n(33),s=n(9),a=n(45),c=n(59),u=/MSIE .\./.test(a),l=i.Function,h=function(t){return function(e,n){var r=arguments.length>2,i=r?c(arguments,2):void 0;return t(r?function(){o(s(e)?e:l(e),this,i)}:e,n)}};r({global:!0,bind:!0,forced:u},{setTimeout:h(i.setTimeout),setInterval:h(i.setInterval)})},function(t,e,n){"use strict";n(187);var r,i=n(0),o=n(6),s=n(196),a=n(1),c=n(42),u=n(2),l=n(95),h=n(17),f=n(44),d=n(14),p=n(178),g=n(166),m=n(80),v=n(112).codeAt,y=n(452),b=n(10),w=n(39),E=n(197),T=n(20),S=T.set,x=T.getterFor("URL"),A=E.URLSearchParams,I=E.getState,k=a.URL,C=a.TypeError,R=a.parseInt,O=Math.floor,_=Math.pow,N=u("".charAt),D=u(/./.exec),M=u([].join),L=u(1..toString),P=u([].pop),j=u([].push),F=u("".replace),U=u([].shift),V=u("".split),B=u("".slice),q=u("".toLowerCase),H=u([].unshift),z=/[a-z]/i,G=/[\d+-.a-z]/i,W=/\d/,$=/^0x/i,K=/^[0-7]+$/,Y=/^\d+$/,X=/^[\da-f]+$/i,Q=/[\0\t\n\r #%/:<>?@[\\\]^|]/,J=/[\0\t\n\r #/:<>?@[\\\]^|]/,Z=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,tt=/[\t\n\r]/g,et=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)H(e,t%256),t=O(t/256);return M(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=L(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},nt={},rt=p({},nt,{" ":1,'"':1,"<":1,">":1,"`":1}),it=p({},rt,{"#":1,"?":1,"{":1,"}":1}),ot=p({},it,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),st=function(t,e){var n=v(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},at={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ct=function(t,e){var n;return 2==t.length&&D(z,N(t,0))&&(":"==(n=N(t,1))||!e&&"|"==n)},ut=function(t){var e;return t.length>1&&ct(B(t,0,2))&&(2==t.length||"/"===(e=N(t,2))||"\\"===e||"?"===e||"#"===e)},lt=function(t){return"."===t||"%2e"===q(t)},ht={},ft={},dt={},pt={},gt={},mt={},vt={},yt={},bt={},wt={},Et={},Tt={},St={},xt={},At={},It={},kt={},Ct={},Rt={},Ot={},_t={},Nt=function(t,e,n){var r,i,o,s=b(t);if(e){if(i=this.parse(s))throw C(i);this.searchParams=null}else{if(void 0!==n&&(r=new Nt(n,!0)),i=this.parse(s,null,r))throw C(i);(o=I(new A)).bindURL(this),this.searchParams=o}};Nt.prototype={type:"URL",parse:function(t,e,n){var i,o,s,a,c,u=this,l=e||ht,h=0,f="",p=!1,v=!1,y=!1;for(t=b(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=F(t,Z,"")),t=F(t,tt,""),i=g(t);h<=i.length;){switch(o=i[h],l){case ht:if(!o||!D(z,o)){if(e)return"Invalid scheme";l=dt;continue}f+=q(o),l=ft;break;case ft:if(o&&(D(G,o)||"+"==o||"-"==o||"."==o))f+=q(o);else{if(":"!=o){if(e)return"Invalid scheme";f="",l=dt,h=0;continue}if(e&&(u.isSpecial()!=d(at,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&at[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?l=xt:u.isSpecial()&&n&&n.scheme==u.scheme?l=pt:u.isSpecial()?l=yt:"/"==i[h+1]?(l=gt,h++):(u.cannotBeABaseURL=!0,j(u.path,""),l=Rt)}break;case dt:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){u.scheme=n.scheme,u.path=m(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=_t;break}l="file"==n.scheme?xt:mt;continue;case pt:if("/"!=o||"/"!=i[h+1]){l=mt;continue}l=bt,h++;break;case gt:if("/"==o){l=wt;break}l=Ct;continue;case mt:if(u.scheme=n.scheme,o==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query;else if("/"==o||"\\"==o&&u.isSpecial())l=vt;else if("?"==o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query="",l=Ot;else{if("#"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.path.length--,l=Ct;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query,u.fragment="",l=_t}break;case vt:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=Ct;continue}l=wt}else l=bt;break;case yt:if(l=bt,"/"!=o||"/"!=N(f,h+1))continue;h++;break;case bt:if("/"!=o&&"\\"!=o){l=wt;continue}break;case wt:if("@"==o){p&&(f="%40"+f),p=!0,s=g(f);for(var w=0;w<s.length;w++){var E=s[w];if(":"!=E||y){var T=st(E,ot);y?u.password+=T:u.username+=T}else y=!0}f=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(p&&""==f)return"Invalid authority";h-=g(f).length+1,f="",l=Et}else f+=o;break;case Et:case Tt:if(e&&"file"==u.scheme){l=It;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==f)return"Invalid host";if(e&&""==f&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(f))return a;if(f="",l=kt,e)return;continue}"["==o?v=!0:"]"==o&&(v=!1),f+=o}else{if(""==f)return"Invalid host";if(a=u.parseHost(f))return a;if(f="",l=St,e==Tt)return}break;case St:if(!D(W,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||e){if(""!=f){var S=R(f,10);if(S>65535)return"Invalid port";u.port=u.isSpecial()&&S===at[u.scheme]?null:S,f=""}if(e)return;l=kt;continue}return"Invalid port"}f+=o;break;case xt:if(u.scheme="file","/"==o||"\\"==o)l=At;else{if(!n||"file"!=n.scheme){l=Ct;continue}if(o==r)u.host=n.host,u.path=m(n.path),u.query=n.query;else if("?"==o)u.host=n.host,u.path=m(n.path),u.query="",l=Ot;else{if("#"!=o){ut(M(m(i,h),""))||(u.host=n.host,u.path=m(n.path),u.shortenPath()),l=Ct;continue}u.host=n.host,u.path=m(n.path),u.query=n.query,u.fragment="",l=_t}}break;case At:if("/"==o||"\\"==o){l=It;break}n&&"file"==n.scheme&&!ut(M(m(i,h),""))&&(ct(n.path[0],!0)?j(u.path,n.path[0]):u.host=n.host),l=Ct;continue;case It:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&ct(f))l=Ct;else if(""==f){if(u.host="",e)return;l=kt}else{if(a=u.parseHost(f))return a;if("localhost"==u.host&&(u.host=""),e)return;f="",l=kt}continue}f+=o;break;case kt:if(u.isSpecial()){if(l=Ct,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=r&&(l=Ct,"/"!=o))continue}else u.fragment="",l=_t;else u.query="",l=Ot;break;case Ct:if(o==r||"/"==o||"\\"==o&&u.isSpecial()||!e&&("?"==o||"#"==o)){if(".."===(c=q(c=f))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||j(u.path,"")):lt(f)?"/"==o||"\\"==o&&u.isSpecial()||j(u.path,""):("file"==u.scheme&&!u.path.length&&ct(f)&&(u.host&&(u.host=""),f=N(f,0)+":"),j(u.path,f)),f="","file"==u.scheme&&(o==r||"?"==o||"#"==o))for(;u.path.length>1&&""===u.path[0];)U(u.path);"?"==o?(u.query="",l=Ot):"#"==o&&(u.fragment="",l=_t)}else f+=st(o,it);break;case Rt:"?"==o?(u.query="",l=Ot):"#"==o?(u.fragment="",l=_t):o!=r&&(u.path[0]+=st(o,nt));break;case Ot:e||"#"!=o?o!=r&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":st(o,nt)):(u.fragment="",l=_t);break;case _t:o!=r&&(u.fragment+=st(o,rt))}h++}},parseHost:function(t){var e,n,r;if("["==N(t,0)){if("]"!=N(t,t.length-1))return"Invalid host";if(!(e=function(t){var e,n,r,i,o,s,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,f=function(){return N(t,h)};if(":"==f()){if(":"!=N(t,1))return;h+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(e=n=0;n<4&&D(X,f());)e=16*e+R(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!D(W,f()))return;for(;D(W,f());){if(o=R(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;c[u++]=e}else{if(null!==l)return;h++,l=++u}}if(null!==l)for(s=u-l,u=7;0!=u&&s>0;)a=c[u],c[u--]=c[l+s-1],c[l+--s]=a;else if(8!=u)return;return c}(B(t,1,-1))))return"Invalid host";this.host=e}else if(this.isSpecial()){if(t=y(t),D(Q,t))return"Invalid host";if(null===(e=function(t){var e,n,r,i,o,s,a,c=V(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=c[r]))return t;if(o=10,i.length>1&&"0"==N(i,0)&&(o=D($,i)?16:8,i=B(i,8==o?1:2)),""===i)s=0;else{if(!D(10==o?Y:8==o?K:X,i))return t;s=R(i,o)}j(n,s)}for(r=0;r<e;r++)if(s=n[r],r==e-1){if(s>=_(256,5-e))return null}else if(s>255)return null;for(a=P(n),r=0;r<n.length;r++)a+=n[r]*_(256,3-r);return a}(t)))return"Invalid host";this.host=e}else{if(D(J,t))return"Invalid host";for(e="",n=g(t),r=0;r<n.length;r++)e+=st(n[r],nt);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return d(at,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ct(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,s=t.path,a=t.query,c=t.fragment,u=e+":";return null!==i?(u+="//",t.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=et(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+M(s,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw C(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Dt(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+et(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",ht)},getUsername:function(){return this.username},setUsername:function(t){var e=g(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=st(e[n],ot)}},getPassword:function(){return this.password},setPassword:function(t){var e=g(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=st(e[n],ot)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?et(t):et(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Et)},getHostname:function(){var t=this.host;return null===t?"":et(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Tt)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=b(t))?this.port=null:this.parse(t,St))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+M(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,kt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=b(t))?this.query=null:("?"==N(t,0)&&(t=B(t,1)),this.query="",this.parse(t,Ot)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=b(t))?("#"==N(t,0)&&(t=B(t,1)),this.fragment="",this.parse(t,_t)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Dt=function(t){var e=f(this,Mt),n=arguments.length>1?arguments[1]:void 0,r=S(e,new Nt(t,!1,n));o||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Mt=Dt.prototype,Lt=function(t,e){return{get:function(){return x(this)[t]()},set:e&&function(t){return x(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&l(Mt,{href:Lt("serialize","setHref"),origin:Lt("getOrigin"),protocol:Lt("getProtocol","setProtocol"),username:Lt("getUsername","setUsername"),password:Lt("getPassword","setPassword"),host:Lt("getHost","setHost"),hostname:Lt("getHostname","setHostname"),port:Lt("getPort","setPort"),pathname:Lt("getPathname","setPathname"),search:Lt("getSearch","setSearch"),searchParams:Lt("getSearchParams"),hash:Lt("getHash","setHash")}),h(Mt,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),h(Mt,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),k){var Pt=k.createObjectURL,jt=k.revokeObjectURL;Pt&&h(Dt,"createObjectURL",c(Pt,k)),jt&&h(Dt,"revokeObjectURL",c(jt,k))}w(Dt,"URL"),i({global:!0,forced:!s,sham:!o},{URL:Dt})},function(t,e,n){"use strict";var r=n(1),i=n(2),o=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",c=r.RangeError,u=i(s.exec),l=Math.floor,h=String.fromCharCode,f=i("".charCodeAt),d=i([].join),p=i([].push),g=i("".replace),m=i("".split),v=i("".toLowerCase),y=function(t){return t+22+75*(t<26)},b=function(t,e,n){var r=0;for(t=n?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),r+=36;return l(r+36*t/(t+38))},w=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=f(t,n++);if(i>=55296&&i<=56319&&n<r){var o=f(t,n++);56320==(64512&o)?p(e,((1023&i)<<10)+(1023&o)+65536):(p(e,i),n--)}else p(e,i)}return e}(t)).length,o=128,s=0,u=72;for(e=0;e<t.length;e++)(n=t[e])<128&&p(r,h(n));var g=r.length,m=g;for(g&&p(r,"-");m<i;){var v=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<v&&(v=n);var w=m+1;if(v-o>l((2147483647-s)/w))throw c(a);for(s+=(v-o)*w,o=v,e=0;e<t.length;e++){if((n=t[e])<o&&++s>2147483647)throw c(a);if(n==o){for(var E=s,T=36;;){var S=T<=u?1:T>=u+26?26:T-u;if(E<S)break;var x=E-S,A=36-S;p(r,h(y(S+x%A))),E=l(x/A),T+=36}p(r,h(y(E))),u=b(s,w,m==g),s=0,m++}}s++,o++}return d(r,"")};t.exports=function(t){var e,n,r=[],i=m(g(v(t),s,"."),".");for(e=0;e<i.length;e++)n=i[e],p(r,u(o,n)?"xn--"+w(n):n);return d(r,".")}},function(t,e,n){"use strict";var r=n(0),i=n(13);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},function(t,e,n){var r=n(455),i=n(456);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var h=a(l),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(f)):s.push({identifier:l,updater:m(f,e),references:1}),r.push(l)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,h=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function f(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=h(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function d(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,g=0;function m(t,e){var n,r,i;if(e.singleton){var o=g++;n=p||(p=u(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=c(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=o}}}},function(t,e,n){var r=n(57),i=n(457),o=n(458),s=n(459),a=n(460),c=n(461),u=n(462),l=n(463);(e=r(!1)).push([t.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css);"]),e.i(i),e.i(o),e.i(s),e.i(a),e.i(c),e.i(u),e.i(l),e.push([t.i,"/* WebpackTemplate color scheme */\n:root {\n  --primary: #6c77fb;\n  --secondary: #ccd1dd;\n  --secondary-dark: #929bad;\n  --text-dark: #404044;\n  --shadow: #e4e8f1;\n}\n",""]),t.exports=e},function(t,e,n){(e=n(57)(!1)).push([t.i,".project-name {\n  font-size: 1rem;\n  display: inline-flex;\n  justify-content: flex-end;\n  padding: 15px;\n  white-space: nowrap;\n  align-items: center;\n  margin-bottom: 0;\n  font-weight: 500;\n  cursor: default;\n}\n\n.project-name.desktop {\n  display: none;\n}\n\n#navigation .navbar {\n  background-color: var(--secondary) !important;\n}\n\n#navigation .navbar-toggler {\n  border: none;\n  outline: none;\n}\n\n#navigation .navbar i,\n#navigation .navbar h5 {\n  margin: 0.6rem 0;\n}\n\n#navigation .navbar i {\n  font-size: 1.2em;\n  position: relative;\n  top: 2px;\n  margin-right: 5px !important;\n}\n\n#navigation .navbar-row {\n  width: 100%\n}\n\n#navigation .navbar-row .nav-logo {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#navigation .navigation-content {\n  min-height: calc(100vh - 70px);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n#navigation .navigation-content .tab-content {\n  padding: 15px;\n  min-height: calc(80vh - 50px);\n}\n\n#navigation .navigation-content .tab-content-col {\n  width: 100%\n}\n  \n#navigation .navigation-content .navigation-list-container {\n  display: flex;\n  justify-content: space-between;\n}\n\n#navigation .navigation-content .navigation-list {\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n}\n#navigation .navigation-content .navigation-list .list-group {\n  flex-direction: row;\n  display: inline-flex;\n}\n\n#navigation .navigation-content .navigation-list .navigation-list-item-title {\n  display: none;\n}\n\n#navigation .navigation-content .navigation-list .list-group-item {\n  margin: .6rem 0;\n  border: none;\n  border-radius: 6px;\n  outline: none !important;\n  cursor: pointer;\n  display: none;\n  font-size: 1.4rem;\n}\n\n#navigation .navigation-content .navigation-list .list-group-item#navigation-list-hamburger {\n  display: block;\n  position: relative;\n  z-index: 999991;\n}\n\n.mobile-nav #navigation .navigation-content .navigation-list .list-group-item#navigation-list-hamburger {\n  background-color: transparent;\n  color: #fff;\n}\n\n#navigation .navigation-content .navigation-list .list-group-item {\n  background-color: #fff;\n  color: var(--secondary-dark);\n  width: fit-content !important;\n}\n\n#navigation .navigation-content .navigation-list .list-group-item:hover {\n  color: var(--primary);\n}\n\n#navigation .navigation-content .navigation-list .list-group-item.active {\n  color: var(--primary);\n  position: relative;\n}\n\n#navigation #all-projects-btn:hover {\n  cursor: pointer;\n  color: var(--primary);\n}\n\n#navigation #all-projects-btn {\n  padding: 0 20px 20px;\n}\n\n#mobile-nav {\n  display: none;\n}\n\n.mobile-nav #mobile-nav {\n  animation: mobileNav 100ms 1 forwards;\n  z-index: 99999;\n  width: 100%;\n  height: 100vh;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  flex-direction: column;\n  padding-bottom: 250px;\n}\n\n.mobile-nav #mobile-nav ul {\n  padding-left: 0;\n  list-style-type: none;\n}\n\n.mobile-nav #mobile-nav ul li {\n  margin: 25px 0;\n  font-size: 2rem;\n  font-weight: 200;\n  cursor: pointer;\n}\n\n@media (min-width: 768px) {\n  .project-name {\n    width: 100%;\n  }\n\n  .project-name.mobile {\n    display: none;\n  }\n\n  .project-name.desktop {\n    display: inline-flex !important;\n  }\n\n  #navigation .navbar {\n    padding: 0rem 1rem;\n  }\n\n  #navigation .navigation-content {\n    flex-direction: row;  \n  }\n\n  #navigation .navigation-content .navigation-list {\n    display: flex;\n    height: calc(100vh - 70px);\n    flex-direction: column;\n    text-align: center;\n    width: 75px;\n  } \n  \n  #navigation .navigation-content .navigation-list .list-group {\n    flex-direction: column;\n  }\n\n  #navigation .navigation-content .navigation-list .list-group .list-group-item {\n    display: block;\n  }\n\n  #navigation .navigation-content .navigation-list .list-group .list-group-item#navigation-list-hamburger {\n    display: none;\n  }\n}\n\n@media (min-width: 992px) {\n  #navigation .navbar {\n    padding: 0rem 0rem;\n  }\n}\n\n@keyframes mobileNav {\n  0% { background-color: transparent; color: unset; }\n  100% { background-color: var(--primary); color: #fff; }\n}\n",""]),t.exports=e},function(t,e,n){(e=n(57)(!1)).push([t.i,"#team h3 {\n  text-align: center;\n  margin-bottom: 2rem;\n}\n\n#team .project-type-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n}\n\n#team .project-type-list button {\n  border-radius: 6px;\n  margin: .6rem;\n  background-color: var(--secondary);\n  color: unset;\n}\n\n#team .project-type-list button:hover {\n  background-color: var(--shadow);\n}\n\n#team .project-type-list button i {\n  margin-right: .4rem;\n}\n",""]),t.exports=e},function(t,e,n){(e=n(57)(!1)).push([t.i,"#project  .projects-header {\n  border-bottom: 1px solid var(--secondary);\n  padding-bottom: 25px;\n  margin-bottom: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n#project  .projects-header .projects-header-actions {\n  display: flex;\n  align-items: center;\n}\n\n#project  .projects-header h5 {\n  margin: 0;\n  font-weight: 300;\n}\n\n#project  .projects-header input::placeholder {\n  color: var(--secondary);\n  font-weight: 200;\n}\n\n#project  .projects-header input {\n  width: 100%;\n  border: 1px solid var(--secondary);\n  border-radius: 6px;\n  padding: .55rem 4rem .55rem .55rem;\n}\n\n#project  .projects-header i {\n  position: absolute;\n  margin-left: -30px;\n  margin-top: 13px;\n  color: var(--secondary);\n}\n\n#project  .project-item {\n  border: 1px solid var(--secondary);\n  padding: 0.5rem 0.8rem;\n  border-radius: 6px;\n  cursor: pointer;\n  margin: 15px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n#project  .project-item:hover,\n#project  .projects-header input:hover,\n#project  .projects-header input:focus,\n#project  .projects-header input:active {\n  outline: none !important;\n  border-color: var(--primary);\n}\n\n#project  .project-item h5 {\n  font-size: 1rem;\n  margin: 0;\n}\n\n#project .project-item i {\n  margin: 5px 10px 5px;\n  color: gray;\n}\n\n#project .project-item i:hover {\n  color: var(--primary);\n}\n\n#project .project-item i.attention {\n  color: #ff6e6e;\n}\n\n#project .project-item i.attention:hover {\n  color: #ff2424;\n}\n\n#project .new-project input {\n  max-width: 500px;\n}\n",""]),t.exports=e},function(t,e,n){(e=n(57)(!1)).push([t.i,".loading {\n  position: absolute;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.loading #loading-message {\n  max-width: 490px;\n  text-align: center;\n  opacity: 0.8;\n  font-style: italic;\n}\n\n.loading #loading-message.fading {\n  animation: fading 600ms 1 forwards;\n}\n\n.loading #loading-spinner {\n  border: 5px solid var(--secondary); /* Light grey */\n  border-top: 5px solid var(--primary); /* Blue */\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  animation: spin 1s linear infinite;\n  position: absolute;\n  margin-top: -120px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n@keyframes fading {\n  0% { opacity: 1 }\n  35% { opacity: 0 }\n  65% { opacity: 0 }\n  100% { opacity: 1 }\n}\n",""]),t.exports=e},function(t,e,n){(e=n(57)(!1)).push([t.i,".nav-tabs {\n  border-bottom: none;\n  justify-content: center;\n}\n\n.nav-tabs li a {\n  padding: 5px 10px;\n  margin: 5px;\n  color: unset;\n  border-radius: 15px;\n  background-color: var(--secondary);\n}\n\n.nav-tabs li a:hover {\n  text-decoration: none;\n  background-color: var(--shadow);\n}\n\n.nav-tabs li a.active {\n  background-color: var(--primary);\n  color: #fff;\n}\n\n#roadmapChart,\n#marketingCampaignChart {\n  width: 100%;\n  height: 500px;\n  margin: 25px auto;\n}\n\n#roadmapChart canvas {\n  border: 1px solid var(--secondary);\n  border-radius: 6px;\n  padding: 10px;\n}\n\n@media (min-width: 768px) {\n  .nav-tabs li a {\n    padding: 5px 25px;\n  }   \n}\n",""]),t.exports=e},function(t,e,n){(e=n(57)(!1)).push([t.i,"body {\n  color: var(--text-dark);\n}\n\n.hide { display: none !important; }\n\n.container {\n  max-width: 1200px !important;\n  padding: 0;\n}\n\n",""]),t.exports=e},function(t,e,n){(e=n(57)(!1)).push([t.i,"button.primary,\nbutton.flat {\n  padding: 0.6em 1.8704em;\n  border: none;\n  margin: 0 0.6rem;\n  font-size: 1rem;\n  border-radius: 6px;\n  outline: none !important;\n  border-radius: 6px;\n}\n\nbutton.primary:hover,\nbutton.flat:hover {\n  opacity: .8;\n  cursor: pointer;\n}\n\nbutton.primary {\n  background-color: var(--primary);\n  color: #fff;\n}\n\nbutton.flat {\n  background-color: #fff;\n  color: var(--primary);\n}\n\nform input {\n  width: 100%;\n  border: 1px solid var(--secondary);\n  border-radius: 6px;\n  padding: 0.55rem;\n}\n",""]),t.exports=e},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(200);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(200);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e);n(454);var r=function(t,e,n){var r=document.getElementById("root");e&&(r=document.getElementById(e));var i=document.createElement(n||"DIV");i.id=t;var o=r.querySelector("#".concat(t));return new Promise((function(t,e){o?t(o):(r.appendChild(i),t(i))}))},i={dashboard:{title:"Dashboard",icon:"tachometer-alt",content:'\n  <ul class="nav nav-tabs">\n    <li><a class="active" data-toggle="tab" href="#roadmap">Road Map</a></li>\n    <li><a data-toggle="tab" href="#menu1">Pie Chart</a></li>\n  </ul>\n\n  <div class="tab-content">\n    <div id="roadmap" class="tab-pane fade in active show">\n      <div class="row">\n        <div class="col-lg-12">\n          <div id="roadmapChart"></div>\n        </div>\n      </div>\n      </div>\n    <div id="menu1" class="tab-pane fade">\n      <div class="row">\n        <div class="col-lg-12">\n          <div id="marketingCampaignChart"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n'},team:{title:"Team",icon:"users-crown",content:'\n  <ul id="team-tabs" class="nav nav-tabs"></ul>\n\n  <div id="team-tab-contents" class="tab-content"></div>\n'},marketing:{title:"Marketing",icon:"megaphone",content:'\n  <h3>Create Marketing Campaign</h3>\n\n  <button id="create-marketing-campaign">Create</button>\n\n  <form id="marketing-campaign-form" class="hide">\n    <label for="category">Campaign</label>\n    <select name="category" id="campaigns-dropdown">\n      <option value="Marketing Campaign">Marketing Campaign</option>\n      <option value="Email Drip">Email Drip</option>\n      <option value="A/B Test Campaign">A/B Test Campaign</option>\n    </select>\n\n\n    <label for="task">task</label>\n    <input type="text" name="task" placeholder="A/B Email Drip Campaign" />\n\n    <label for="start">start</label>\n    <input type="date" name="start" />\n    \n    <label for="end">end</label>\n    <input type="date" name="end" />\n\n    <button type="submit">Save</button>\n  </form>\n'},settings:{title:"Settings",icon:"cog",content:"\n  Settings\n"}},o={token:{label:"Token",icon:"coin"},nft:{label:"NFT",icon:"paint-brush"},exchange:{label:"Exchange",icon:"exchange-alt"},stakingPools:{label:"Staking Pools",icon:"swimming-pool"},smartContractDevelopment:{label:"Smart Contract Development",icon:"file-contract"},liquidityProvider:{label:"Liquidity Provider",icon:"hand-holding-water"}},s=function(){return'\n  <div>\n    <h3 class="project-name desktop" data-role="dashboard-project-name"></h3>\n  </div>\n\n  <div class="navigation-content">\n    <div class="navigation-list-container">\n      <div class="navigation-list">\n        <div class="list-group" id="navigation-list-tab" role="tablist">\n          <button \n            class="list-group-item list-group-item-action" \n            id="navigation-list-hamburger"\n          >\n            <i class="fal fa-bars"></i>\n            </span>\n          </button>\n          '.concat(Object.keys(i).map((function(t,e){return'\n            <button \n              class="list-group-item list-group-item-action" \n              id="navigation-list-'.concat(t,'-list" \n              data-bs-toggle="list" \n              role="tab" \n              aria-controls="navigation-list-').concat(t,'"\n            >\n              <i class="fad fa-').concat(Object.values(i)[e].icon,'"></i>\n              <span class="navigation-list-item-title">\n              ').concat(Object.values(i)[e].title,"\n              </span>\n            </button>\n          ")})).join(""),'\n        </div>\n        <div class="list-group" id="navigation-list-project" role="tablist">\n          <i class="fad fa-globe-americas list-group-item" id="all-projects-btn"></i>\n        </div>\n\n      </div>\n      \n      <h3 class="project-name mobile" data-role="dashboard-project-name"></h3>\n    </div>\n    <div class="tab-content-col">\n      <ul class="tab-content" id="navigation-nav-tabContent">\n      ').concat(Object.keys(i).map((function(t,e){return'\n        <li \n          role="tabpanel" \n          id="navigation-list-'.concat(t,'" \n          class="tab-pane fade show" \n          aria-labelledby="navigation-list-').concat(t,'-list"\n        >\n            ').concat(Object.values(i)[e].content,"\n        </li>\n      ")})).join(""),"\n      </ul>\n    </div>\n  </div>\n")},a=function(){return"\n  <ul>\n    ".concat(Object.keys(i).map((function(t,e){return'\n      <li id="'.concat(t,'">\n        ').concat(Object.values(i)[e].title,"\n      </li>\n    ")})).join(""),"\n  </ul>\n")},c=function(){return'\n  <div class="projects-header">\n    <h5>Select a project</h5>\n\n    <div class="projects-header-actions">\n      <div class="project-search">\n        <input \n          type="text" \n          id="project-search-input" \n          placeholder="Search projects" \n        />\n        <i class="fal fa-search"></i>\n      </div>\n\n      <button \n        type="button" \n        class="primary" \n        id="new-project-btn"\n      >\n        Create\n      </button>\n    </div>\n  </div>\n\n  <div id="projects-list"></div>\n'},u=function(){return'\n  <div class="new-project">\n    <form id="new-project-form">\n      <div class="projects-header">\n        <h5>Name your project</h5>\n        <div class="new-project-actions">\n          <button type="button" id="new-project-name-cancel" class="flat">Cancel</button>\n          <button type="submit" id="new-project-name-next" class="primary">Next</button>\n        </div>\n      </div>\n      \n      <input type="text" id="new-project-name" />\n    </form>\n  </div>\n'},l=function(t){return"\n  <h5>".concat(t.name,'</h5>\n  <div>\n    <i class="fad fa-users-crown"></i>\n    <i class="fad fa-megaphone"></i>\n    <i class="fad fa-cog"></i>\n  </div>\n')},h=function(){return'\n  <div id="team">\n    <div class="projects-header">\n      <h5>Project Types</h5>\n    </div>\n    <div class="project-type-list">\n      '.concat(Object.keys(o).map((function(t,e){return'\n        <button class="primary" id="'.concat(t,'-btn">\n          <i class="fad fa-').concat(Object.values(o)[e].icon,'"></i>\n          ').concat(Object.values(o)[e].label,"\n        </button>\n      ")})).join(""),"\n    </div>\n  </div>\n")},f=function(){var t=document.querySelector("#navigation-list-hamburger i");t.classList.contains("fa-bars")?(t.classList.remove("fa-bars"),t.classList.add("fa-times")):(t.classList.remove("fa-times"),t.classList.add("fa-bars"))},d=n(116),p=n.n(d),g=n(64),m=n.n(g),v=n(37);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object(v.g)("firebase","9.6.1","app");var y=n(199),b=sessionStorage.getItem("x-merc-jspx-sn");b||window.location.replace(window.location.origin+"/login"),Object(v.f)({apiKey:"AIzaSyDNYZKIlbxP1SSgfZxb77_UbkVlKxhuPyc",authDomain:"mercury-hub.firebaseapp.com",projectId:"mercury-hub"});var w=Object(y.d)(),E={GET:function(){var t=p()(m.a.mark((function t(e){var n,r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(y.b)(w,"users/".concat(b,"/").concat(e)),t.next=3,Object(y.c)(n);case 3:return r=t.sent,i=[],r.forEach((function(t){var e=t.data();e.id=t.id,i.push(e)})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),POST:function(){var t=p()(m.a.mark((function t(e,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.a)(Object(y.b)(w,"users/".concat(b,"/").concat(e)),n);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),PUT:function(){var t=p()(m.a.mark((function t(e,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(y.b)(w,"users/"+b+e),t.next=3,Object(y.e)(r,n,{merge:!0});case 3:t.sent.then((function(t){return t}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},T=n(149),S=n.n(T),x=function(t,e,n){if(t&&!document.querySelector("#".concat(e," .loading"))){var r=document.getElementById(e);if(r){var i=document.createElement("DIV");i.className="loading",i.innerHTML='<div id="loading-message"></div><div id="loading-spinner"></div>',i.style.top="".concat(r.offsetTop,"px"),i.style.left="".concat(r.offsetLeft,"px"),i.style.height="".concat(r.clientHeight>150?r.clientHeight:150,"px"),i.style.width="".concat(r.clientWidth,"px"),r.appendChild(i),I(n)}}else{var o;null===(o=document.querySelector("#".concat(e," .loading")))||void 0===o||o.remove()}},A=["Water, ice and organics, a building block for life, were found on the surface of Mercury.",'"In practice, I run every play like I\'m scoring a touchdown." - Mercury Morris',"Mercury is the smallest planet in our solar system. It's a little bigger than Earth's Moon. ",'"Money may not buy happiness, but it can damn well give it!" - Freddy Mercury',"The view of the Sun on Mercury's surface would appear more than three times larger than it does on Earth.",'"The smallest planet to revolve the Sun, beats the first of five to revolve Saturn" - Johann Wolfgang von Goethe',"Mercury has an atmosphere that changes with its distance to the Sun.",'"In horoscopes, in true romance and Playboy magazine, we lie in bed at night and search the pages for our dreams" - Eric Mercury',"Mercurys eccentric orbit helped prove Einsteins theory of relativity.",'"Nothing is real you know, we can recreate the world with our heart and soul." - Daniela Mercury',"NASA has identified 763 craters on Mercurys surface, most named after writers, poets, and painters.",'"Could it be that you\'re actually learning to think ahead?" - Max Mercury',"Mercury is the fastest planet in our solar system  traveling through space at nearly 29 miles per second."],I=function(t){var e=document.getElementById("loading-message"),n=A;t&&(n=t);var r=Math.floor(Math.random()*n.length);e.classList.add("fading"),setTimeout((function(){e.classList.remove("fading")}),600),setTimeout((function(){e.innerText=n[r]}),400),setInterval((function(){(r+=1)>=n.length&&(r=0);var t=n[r];e.classList.add("fading"),setTimeout((function(){e.classList.remove("fading")}),600),setTimeout((function(){e.innerText=t}),300)}),4500)};function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R=function(t,e,n){return n.indexOf(t)===e},O=function(t,e){var n=am5.Root.new(e);n.dateFormatter.setAll({dateFormat:"yyyy-MM-dd",dateFields:["valueX","openValueX"]}),n.setThemes([am5themes_Animated.new(n)]);var r=n.container.children.push(am5xy.XYChart.new(n,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",layout:n.verticalLayout})),i=r.get("colors"),o=function(t){var e=parseInt(t.split("-")[0]),n=parseInt(t.split("-")[1]),r=parseInt(t.split("-")[2]);return new Date(e,n,r).getTime()},s=t.map((function(t){return t.category})).filter(R);t.forEach((function(t,e){var n=s.indexOf(t.category),r=t;r.start=o(t.start),r.end=o(t.end),r.columnSettings={fill:am5.Color.brighten(i.getIndex(n),.4*e)}}));var a=70*s.length;s.length<5?a=120*s.length:s.length<10&&(a=100*s.length),document.getElementById(e).style.height=a+"px";var c=r.yAxes.push(am5xy.CategoryAxis.new(n,{categoryField:"category",renderer:am5xy.AxisRendererY.new(n,{}),tooltip:am5.Tooltip.new(n,{})}));c.data.setAll(s.map((function(t){return{category:t}})));var u=r.xAxes.push(am5xy.DateAxis.new(n,{baseInterval:{timeUnit:"minute",count:1},renderer:am5xy.AxisRendererX.new(n,{})})),l=r.series.push(am5xy.ColumnSeries.new(n,{xAxis:u,yAxis:c,openValueXField:"start",valueXField:"end",categoryYField:"category",sequencedInterpolation:!0}));l.columns.template.setAll({templateField:"columnSettings",strokeOpacity:0,strokeWidth:50,tooltipText:"{task}:\n[bold]{openValueX}[/] - [bold]{valueX}[/]"}),l.data.setAll(t),l.appear(),r.appear(1e3,100)},_=function(t){am5.ready((function(){var e=am5.Root.new(t);e.setThemes([am5themes_Animated.new(e)]);var n=e.container.children.push(am5percent.PieChart.new(e,{layout:e.verticalLayout})),r=n.series.push(am5percent.PieSeries.new(e,{alignLabels:!0,calculateAggregates:!0,valueField:"value",categoryField:"category"}));r.slices.template.setAll({strokeWidth:3,stroke:am5.color(16777215)}),r.labelsContainer.set("paddingTop",30),r.slices.template.adapters.add("radius",(function(t,e){var n=e.dataItem,i=r.getPrivate("valueHigh");return n?t*e.dataItem.get("valueWorking",0)/i:t})),r.data.setAll([{value:10,category:"One"},{value:9,category:"Two"},{value:6,category:"Three"},{value:5,category:"Four"},{value:4,category:"Five"},{value:3,category:"Six"}]),n.children.push(am5.Legend.new(e,{centerX:am5.p50,x:am5.p50})).data.setAll(r.dataItems),r.appear(1e3,100)}))},N={navigation:function(t,e){console.log(e);var n=document.querySelectorAll("#navigation-list-tab button"),i=document.querySelectorAll("#navigation-nav-tabContent li"),o=document.getElementById("all-projects-btn"),c="dashboard";e?N[c=e](t):N.dashboard(t);var u=document.getElementById("navigation-list-".concat(c)),l=document.getElementById("navigation-list-".concat(c,"-list"));u.classList.toggle("active"),l.classList.toggle("active"),o.onclick=function(){return D()},n.forEach((function(e){document.getElementById(e.id).onclick=function(o){var c=o.target;(o.target.id||(c=o.target.parentElement),c.id.includes("hamburger"))?function(t){var e=document.getElementById("root"),n=document.getElementById("navigation-list-hamburger"),i=document.createElement("DIV");document.getElementById("mobile-nav")?i=document.getElementById("mobile-nav"):(i.id="mobile-nav",e.prepend(i)),e.classList.add("mobile-nav"),i.innerHTML=a(),f(),n.onclick=function(){e.classList.toggle("mobile-nav"),f()},document.querySelectorAll("#mobile-nav").forEach((function(n){n.onclick=function(t){e.classList.toggle("mobile-nav"),f()},n.children[0].children.forEach((function(e){e.onclick=function(){r("navigation").then((function(n){n.innerHTML=s(),N.navigation(t,e.id),f()}))}}))}))}(t):(n.forEach((function(t){return t.classList.remove("active")})),i.forEach((function(t){return t.classList.remove("active")})),c.classList.add("active"),document.getElementById(c.id.slice(0,-5)).classList.add("active"),N[e.id.slice(16,-5)](t))}}))},team:function(){var t=document.getElementById("team-tabs"),e=document.getElementById("team-tab-contents");t.innerHTML='\n  <li><a class="active" data-toggle="tab" href="#projectManagers">Project Managers</a></li>\n',e.innerHTML='\n  <div id="projectManagers" class="tab-pane fade in active show">\n    <div class="row">\n      <div class="col-lg-12">\n        project managers list\n      </div>\n    </div>\n  </div>\n'},project:function(){var t=document.getElementById("project");x(!0,"projects-list"),E.GET("projects").then((function(e){var n=document.getElementById("projects-list"),i=document.getElementById("project-search-input"),a=document.getElementById("new-project-btn"),c=function(t,e){document.getElementById("root").innerHTML="",r("navigation").then((function(n){n.innerHTML=s(),N.navigation(t,e)}))};a.onclick=function(){t.innerHTML=u();var e=document.getElementById("new-project-form"),n=document.getElementById("new-project-name"),r=document.getElementById("new-project-name-cancel"),i=document.getElementById("new-project-name-next");r.onclick=function(){return D()},i.onclick=function(){e.innerHTML=h(),Object.keys(o).map((function(e,r){document.getElementById("".concat(e,"-btn")).onclick=function(){var e={name:n.value,projectType:Object.values(o)[r].label};t(e)}}));var t=function(t){x(!0,"projects-list");E.POST("/projects",t).then((function(t){c(t),x(!1,"projects-list")}))}}},n.innerHTML="",e.map((function(t){var e=document.createElement("DIV");e.className="project-item",e.dataset.name=t.name,e.innerHTML=l(t),e.onclick=function(e){var n,r,i={tachometeralt:"dashboard",userscrown:"team",megaphone:"marketing",cog:"settings"},o="dashboard";i[null===(n=S()(e.target.classList)[1])||void 0===n?void 0:n.slice(3).replace("-","")]&&(o=i[null===(r=S()(e.target.classList)[1])||void 0===r?void 0:r.slice(3).replace("-","")]);c(t,o)},n.appendChild(e)})),i.oninput=function(t){document.querySelectorAll(".project-item[data-name").forEach((function(e){e.dataset.name.toLowerCase().includes(t.target.value.toLowerCase())?e.classList.remove("hide"):e.classList.add("hide")}))},x(!1,"projects-list")}))},marketing:function(t){var e=document.getElementById("create-marketing-campaign"),n=document.getElementById("marketing-campaign-form");e.onclick=function(){n.classList.remove("hide")},n.onsubmit=function(e){e.preventDefault();var r,i={},o=k(new FormData(n).entries());try{for(o.s();!(r=o.n()).done;){var s=r.value;i[s[0]]=s[1]}}catch(t){o.e(t)}finally{o.f()}E.POST("projects/".concat(t.id,"/tasks"),i).then((function(t){}))}},dashboard:function(t){document.querySelectorAll('[data-role="dashboard-project-name"]').forEach((function(e){return e.innerText=t.name})),E.GET("projects/".concat(t.id,"/tasks")).then((function(t){return O(t,"roadmapChart")})),_("marketingCampaignChart")},settings:function(){}},D=function(){document.getElementById("root").innerHTML="",r("project").then((function(t){t.innerHTML=c(),N.project()}))};
/*!
 * MercuryHub (http://mercury-hub.org)
 * Copyright 2014-2020 Mercury Hub
 */
D()}]));
//# sourceMappingURL=index.js.map